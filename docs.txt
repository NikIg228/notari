flowchart TD

    START([Старт: Форма "Сопровождение ребенка вне РК"])

    %% ДОВЕРИТЕЛЬ
    START --> DOV_CHOICE{Доверитель: кол-во<br/>1 или 2 родителя?}

    DOV_CHOICE -->|1 родитель| DOV1[Форма Доверитель_1<br/>- ФИО<br/>- ИИН<br/>- Дата рождения<br/>- Адрес<br/>- Документ удостоверения личности и реквизиты<br/>- Контакты (при необходимости)]
    DOV_CHOICE -->|2 родителя| DOV2[Форма Доверитель_1 и Доверитель_2<br/>для каждого тот же набор полей]

    DOV1 --> POVER_CHOICE
    DOV2 --> POVER_CHOICE

    %% ПОВЕРЕННЫЙ
    POVER_CHOICE{Поверенный: кол-во<br/>1 или 2?}

    POVER_CHOICE -->|1 поверенный| POV1[Форма Поверенный_1<br/>- ФИО<br/>- ИИН (если есть)<br/>- Дата рождения<br/>- Документ (паспорт/удост.)<br/>- Гражданство<br/>- Адрес/контакты]
    POVER_CHOICE -->|2 поверенных| POV2[Форма Поверенный_1 и Поверенный_2<br/>для каждого тот же набор полей]

    POV1 --> CHILD_BLOCK
    POV2 --> CHILD_BLOCK

    %% РЕБЁНОК
    CHILD_BLOCK{Дети: количество<br/>(от 1 до 10)?}

    CHILD_BLOCK --> CHILD_FORM[Форма по каждому ребёнку (1–10):<br/>- ФИО<br/>- ИИН<br/>- Дата рождения<br/>- Гражданство<br/>- Номер и данные свидетельства о рождении / паспорта]

    CHILD_FORM --> COUNTRY_CHOICE

    %% СТРАНЫ
    COUNTRY_CHOICE{Выбор стран поездки}

    COUNTRY_CHOICE --> WORLD[Чекбокс "Весь мир"]
    COUNTRY_CHOICE --> COUNTRY_LIST[Список стран (30–35 чекбоксов)]

    WORLD --> WORLD_LOGIC{Чекбокс "Весь мир" активен?}
    WORLD_LOGIC -->|Да| WORLD_SELECTED[Логика: выбран "Весь мир"<br/>– флаг world = true<br/>– все страны в списке считаются охваченными]
    WORLD_LOGIC -->|Нет| COUNTRY_SELECTED[Логика: пользователь ставит галочки<br/>в 30–35 странах вручную<br/>– world = false<br/>– массив выбранных стран]

    COUNTRY_LIST --> COUNTRY_SELECTED

    WORLD_SELECTED --> TERM
    COUNTRY_SELECTED --> TERM

    %% СРОК
    TERM{Выбор срока доверенности}

    TERM --> TERM_DAYS[Опция "Дни"<br/>Поле: количество дней (1–31)]
    TERM --> TERM_MONTHS[Опция "Месяцы"<br/>Поле: количество месяцев (1–36)]

    TERM_DAYS --> VALIDATE
    TERM_MONTHS --> VALIDATE

    %% ВАЛИДАЦИЯ
    VALIDATE{Проверка корректности формы<br/>- все обязательные поля заполнены?<br/>- количество детей 1–10?<br/>- выбран хотя бы "Весь мир" или 1 страна?<br/>- срок в допустимых границах?}

    VALIDATE -->|Ошибка| ERROR[Показать сообщения об ошибках<br/>под соответствующими полями]
    ERROR --> BACK[Пользователь исправляет данные<br/>и повторно нажимает Generate]

    VALIDATE -->|OK| GENERATE[Кнопка "Generate"<br/>→ Формирование документа]

    GENERATE --> DOC[Генерация текста доверенности<br/>(PDF / DOCX / HTML-шаблон)]
    DOC --> END([Конец процесса])

2 flowchart TD

    START([Старт: Форма "Сопровождение несовершеннолетнего ребенка по РК"])

    %% ДОВЕРИТЕЛЬ
    START --> DOV_CHOICE{Доверитель: количество<br/>1 или 2 родителя?}

    DOV_CHOICE -->|1 родитель| DOV1[Форма Доверитель_1<br/>Поля:<br/>- ФИО<br/>- ИИН<br/>- Дата рождения<br/>- Адрес регистрации/проживания<br/>- Документ, удостоверяющий личность:<br/>--- тип<br/>--- серия/номер<br/>--- кем выдан<br/>--- дата выдачи<br/>- Телефон (опц.)]

    DOV_CHOICE -->|2 родителя| DOV2[Форма Доверитель_1 и Доверитель_2<br/>Для каждого:<br/>- ФИО<br/>- ИИН<br/>- Дата рождения<br/>- Адрес регистрации/проживания<br/>- Документ, удостоверяющий личность:<br/>--- тип<br/>--- серия/номер<br/>--- кем выдан<br/>--- дата выдачи<br/>- Телефон (опц.)]

    DOV1 --> POVER_CHOICE
    DOV2 --> POVER_CHOICE

    %% ПОВЕРЕННЫЙ
    POVER_CHOICE{Поверенный: количество<br/>1 или 2?}

    POVER_CHOICE -->|1 поверенный| POV1[Форма Поверенный_1<br/>Поля:<br/>- ФИО<br/>- ИИН (если есть)<br/>- Дата рождения<br/>- Адрес<br/>- Гражданство (опц.)<br/>- Документ, удостоверяющий личность:<br/>--- тип (удост./паспорт и т.п.)<br/>--- серия/номер<br/>--- кем выдан<br/>--- дата выдачи<br/>- Телефон (опц.)]

    POVER_CHOICE -->|2 поверенных| POV2[Форма Поверенный_1 и Поверенный_2<br/>Для каждого тот же набор полей]

    POV1 --> CHILD_BLOCK
    POV2 --> CHILD_BLOCK

    %% ДЕТИ
    CHILD_BLOCK{Несовершеннолетние дети:<br/>количество (1–10)?}

    CHILD_BLOCK --> CHILD_FORM[Форма по каждому ребёнку (1–10):<br/>- ФИО<br/>- ИИН<br/>- Дата рождения<br/>- Гражданство (если нужно)<br/>- Документ ребёнка:<br/>--- свидетельство о рождении или паспорт<br/>--- номер<br/>--- дата выдачи<br/>--- кем выдан]

    CHILD_FORM --> REGION_CHOICE

    %% РЕГИОН/ГОРОДА
    REGION_CHOICE{Маршрут внутри РК}

    REGION_CHOICE --> RK_ALL[Чекбокс "Вся Республика Казахстан"]
    REGION_CHOICE --> CITY_LIST[Список населённых пунктов<br/>(чекбоксы):<br/>- г. Алматы<br/>- г. Астана<br/>- г. Шымкент<br/>- г. Караганда<br/>- г. Талдыкорган<br/>- г. Каскелен<br/>- г. Талгар<br/>- ... (все города РК по справочнику)]

    RK_ALL --> RK_LOGIC{Активен чекбокс<br/>"Вся РК"?}

    RK_LOGIC -->|Да| RK_SELECTED[Логика:<br/>- флаг all_kz = true<br/>- список городов можно игнорировать<br/>или использовать только для справки]
    RK_LOGIC -->|Нет| CITIES_SELECTED[Логика:<br/>- all_kz = false<br/>- массив выбранных городов (1..N)]

    CITY_LIST --> CITIES_SELECTED

    RK_SELECTED --> TERM
    CITIES_SELECTED --> TERM

    %% СРОК
    TERM{Выбор срока доверенности}

    TERM --> TERM_DAYS[Опция "Дни"<br/>Поле: количество дней (1–31)]
    TERM --> TERM_MONTHS[Опция "Месяцы"<br/>Поле: количество месяцев (1–36)]

    TERM_DAYS --> VALIDATE
    TERM_MONTHS --> VALIDATE

    %% ВАЛИДАЦИЯ
    VALIDATE{Проверка корректности:<br/>- выбраны 1–2 доверителя<br/>- выбран 1–2 поверенных<br/>- детей от 1 до 10<br/>- либо "Вся РК", либо ≥1 города<br/>- срок в допустимых границах<br/>- обязательные поля не пустые}

    VALIDATE -->|Ошибка| ERROR[Показать сообщения об ошибках<br/>под соответствующими полями]
    ERROR --> BACK[Пользователь исправляет данные<br/>и повторно нажимает "Generate"]

    VALIDATE -->|OK| GENERATE[Кнопка "Generate"<br/>→ Формирование Word-документа]

    GENERATE --> DOC[Генерация текста доверенности<br/>(.docx по шаблону)<br/>с подстановкой всех данных]
    DOC --> END([Конец процесса])

3 flowchart TD

    START([Старт: Форма "Доверенность на получение ТМЦ"])

    %% ДОВЕРИТЕЛЬ (ВСЕГДА 1)
    START --> PRINCIPAL[Блок "Доверитель"<br/>Поля:<br/>- ФИО / Наименование (физ. или юр. лицо)<br/>- ИИН / БИН<br/>- Адрес<br/>- Документ удостоверяющий личность / основание полномочий<br/>- Должность (если юр. лицо)<br/>- Телефон (опц.)]

    PRINCIPAL --> AGENT_CHOICE

    %% ПОВЕРЕННЫЙ (1 ИЛИ 2)
    AGENT_CHOICE{Поверенный:<br/>количество 1 или 2?}

    AGENT_CHOICE -->|1 поверенный| AGENT1[Форма "Поверенный 1"<br/>Поля:<br/>- ФИО<br/>- ИИН<br/>- Адрес<br/>- Документ удостоверяющий личность:<br/>--- тип<br/>--- серия/номер<br/>--- кем выдан<br/>--- дата выдачи<br/>- Телефон (опц.)]

    AGENT_CHOICE -->|2 поверенных| AGENT2[Форма "Поверенный 1" и "Поверенный 2"<br/>Для каждого те же поля:<br/>- ФИО<br/>- ИИН<br/>- Адрес<br/>- Документ<br/>- Телефон (опц.)]

    AGENT1 --> WHERE_BLOCK
    AGENT2 --> WHERE_BLOCK

    %% ГДЕ ЗАБРАТЬ / У КОГО
    WHERE_BLOCK[Блок "Где и у кого забирать"<br/>Поля (вручную):<br/>- Наименование компании / организации<br/>(например, "МФО 'Альянс'" и т.п.)<br/>- БИН / ИИН (опц.)<br/>- Адрес склада / офиса<br/>- Доп. данные: номер договора / накладной (опц.)]

    WHERE_BLOCK --> WHAT_BLOCK

    %% ЧТО ЗАБРАТЬ (ТМЦ)
    WHAT_BLOCK[Блок "Что именно забрать (ТМЦ)"<br/>Минимум 1 позиция, можно несколько:<br/>Для каждой позиции:<br/>- Наименование ТМЦ<br/>- Марка / модель (если применимо)<br/>- Количество<br/>- Единица измерения (шт, кг, л и т.д.)<br/>- Примечание / описание (опц.)]

    WHAT_BLOCK --> TERM

    %% СРОК ДОВЕРЕННОСТИ
    TERM{Срок доверенности}

    TERM --> TERM_DAYS[Опция "Дни"<br/>Поле: количество дней (1–31)]
    TERM --> TERM_MONTHS[Опция "Месяцы"<br/>Поле: количество месяцев (1–36)]

    TERM_DAYS --> VALIDATE
    TERM_MONTHS --> VALIDATE

    %% ВАЛИДАЦИЯ
    VALIDATE{Проверка формы:<br/>- все обязательные поля доверителя заполнены<br/>- есть 1 или 2 поверенных, все обязательные поля заполнены<br/>- заполнен блок "Где и у кого забирать"<br/>- добавлена хотя бы 1 позиция ТМЦ<br/>- срок в допустимых границах}

    VALIDATE -->|Ошибка| ERROR[Показать ошибки<br/>под соответствующими полями]
    ERROR --> BACK[Пользователь исправляет данные<br/>и снова нажимает "Generate"]

    VALIDATE -->|OK| GENERATE[Кнопка "Generate"<br/>→ Формирование доверенности]

    GENERATE --> DOC[Генерация Word-документа (.docx)<br/>с подстановкой всех введённых данных]
    DOC --> END([Конец процесса])

4 flowchart TD
    START([Старт: Форма "Доверенность на управление ТС"])

    %% ДОВЕРИТЕЛЬ (ВСЕГДА 1)
    START --> PRINCIPAL[Блок "Доверитель (1)"<br/>Поля:<br/>- ФИО / Наименование (физ./юр.)<br/>- ИИН/БИН<br/>- Адрес регистрации/проживания<br/>- Документ удостоверяющий личность / основание полномочий<br/>- Контакт (тел./email)]

    PRINCIPAL --> AGENT_CHOICE

    %% ПОВЕРЕННЫЙ (1 ИЛИ 2)
    AGENT_CHOICE{Поверенный: количество 1 или 2?}

    AGENT_CHOICE -->|1 поверенный| AGENT1[Форма "Поверенный 1"<br/>Поля:<br/>- ФИО<br/>- ИИН (если есть)<br/>- Документ (тип, серия/№, кем выдан, дата)<br/>- Адрес/контакты]
    AGENT_CHOICE -->|2 поверенных| AGENT2[Форма "Поверенный 1" и "Поверенный 2"<br/>(для каждого те же поля)]

    AGENT1 --> VEHICLE_BLOCK
    AGENT2 --> VEHICLE_BLOCK

    %% ДАННЫЕ ТС
    VEHICLE_BLOCK[Блок "Данные транспортного средства"<br/>Поля:<br/>- Тип ТС (легковой/грузовой/мото и т.д.)<br/>- Марка / Модель<br/>- Гос. номер (рег. знак)<br/>- VIN / шасси / кузов<br/>- Год выпуска<br/>- Документ регистрации (серия/№, кем выдан, дата)<br/>- Примечание (опц.)]

    VEHICLE_BLOCK --> TERM_CHOICE

    %% СРОК
    TERM_CHOICE{Срок доверенности: выбрать вариант}

    TERM_CHOICE --> TERM_DAYS[Опция "Дни"<br/>Поле: 1–31 дней]
    TERM_CHOICE --> TERM_MONTHS[Опция "Месяцы"<br/>Поле: 1–36 месяцев]

    TERM_DAYS --> DELEGATION_CHOICE
    TERM_MONTHS --> DELEGATION_CHOICE

    %% ПРАВО ПЕРЕДОВЕРИЯ
    DELEGATION_CHOICE{Право передоверия?<br/>(выбор обязателен)}

    DELEGATION_CHOICE -->|Да| DELEGATE_Y[Флаг: delegation_allowed = true]
    DELEGATION_CHOICE -->|Нет| DELEGATE_N[Флаг: delegation_allowed = false]

    DELEGATE_Y --> REGION_CHOICE
    DELEGATE_N --> REGION_CHOICE

    %% РЕГИОНАЛЬНЫЙ ВЫБОР
    REGION_CHOICE{Где действует доверенность?}

    REGION_CHOICE --> RK_ONLY[Чекбокс "Только по городам РК"<br/>(список городов — множественный выбор)]
    REGION_CHOICE --> RK_ALL[Чекбокс "Вся Республика Казахстан"]
    REGION_CHOICE --> OUTSIDE[Чекбокс "Также за пределы РК"]

    RK_ONLY --> CITIES_SELECTED[Массив выбранных городов (>=1)]
    RK_ALL --> ALL_KZ_SELECTED[Флаг all_kz = true]
    OUTSIDE --> OUTSIDE_FLAG[Флаг outside = true]

    CITIES_SELECTED --> VALIDATE
    ALL_KZ_SELECTED --> VALIDATE
    OUTSIDE_FLAG --> VALIDATE

    %% ВАЛИДАЦИЯ
    VALIDATE{Валидация формы:<br/>- все обязательные поля доверителя заполнены?<br/>- поверенные (1 или 2) заполнены?<br/>- данные ТС заполнены (VIN/гос.№ и т.д.)?<br/>- срок в пределах (1–31 дня / 1–36 мес)?<br/>- выбран регион действия (города >=1 или Вся РК или За пределы)?<br/>- выбран ответ по передоверию (Да/Нет)?}

    VALIDATE -->|Ошибка| ERROR[Показать ошибки у полей<br/>и подсказки для пользователя]
    ERROR --> CORRECT[Пользователь исправляет данные] --> VALIDATE

    VALIDATE -->|OK| GENERATE[Кнопка "Generate": сформировать документ]

    GENERATE --> DOC[Генерация документа (.docx/.pdf) по шаблону<br/>Подстановка полей: доверитель, поверенные, данные ТС, срок, право передоверия, область действия]
    DOC --> END([Готово: скачать/отправить/распечатать])
Короткие пояснения (для разработчика):

Обязательные поля: указывай в UI звездочкой — ФИО/наименование доверителя, ID документа, VIN или гос. номер ТС, срок, выбор региона действия, выбор права передоверия (radio required).

Поверенные: поддержать 1/2 — динамически показывать форму для второго при выборе.

Регион: предусмотреть три состояния — список городов (множественный выбор, pull-from DB справочник городов), флаг «вся РК» (игнорирует выбор городов), флаг «за пределы РК» (может активироваться вместе с РК или отдельно — уточни бизнес-правило).

Право передоверия — обязательный radio (Да/Нет); при Да можно показывать доп. поле «Ограничения передоверия» (опционально).

Срок — реализовать переключатель Days/Months; валидация диапазона в зависимости от выбора.

Генерация — сформировать итоговый документ по шаблону с плейсхолдерами для всех полей.

5 flowchart TD

    START([Старт: Форма "Доверенность на продажу ТС"])

    %% ДОВЕРИТЕЛЬ
    START --> PRINCIPAL[Блок "Доверитель (1)"<br/>Поля:<br/>- ФИО<br/>- ИИН<br/>- Дата рождения<br/>- Адрес регистрации<br/>- Документ личности<br/>--- тип<br/>--- серия/номер<br/>--- кем выдан<br/>--- дата выдачи<br/>- Телефон (опц.)]

    PRINCIPAL --> AGENT_CHOICE

    %% ПОВЕРЕННЫЙ
    AGENT_CHOICE{Поверенный:<br/>количество 1 или 2?}

    AGENT_CHOICE -->|1| AGENT1[Форма "Поверенный 1"<br/>Поля:<br/>- ФИО<br/>- ИИН<br/>- Дата рождения<br/>- Адрес<br/>- Документ личности (тип/серия/№/кем выдан/дата)<br/>- Контакты]
    AGENT_CHOICE -->|2| AGENT2[Форма "Поверенный 1" и "Поверенный 2"<br/>(аналогичные поля для каждого)]

    AGENT1 --> VEHICLE
    AGENT2 --> VEHICLE

    %% ДАННЫЕ ТС
    VEHICLE[Блок "Транспортное средство"<br/>Поля:<br/>- Тип ТС<br/>- Марка<br/>- Модель<br/>- Гос. номер<br/>- VIN (или кузов/рама)<br/>- Год выпуска<br/>- Документ о регистрации:<br/>--- серия/номер<br/>--- кем выдан<br/>--- дата выдачи]

    VEHICLE --> TERM

    %% СРОК ДОВЕРЕННОСТИ
    TERM{Срок доверенности}

    TERM --> TERM_DAYS[Опция "Дни"<br/>1–31]
    TERM --> TERM_MONTHS[Опция "Месяцы"<br/>1–36]

    TERM_DAYS --> DELEG
    TERM_MONTHS --> DELEG

    %% ПРАВО ПЕРЕДОВЕРИЯ
    DELEG{Право передоверия? (обязательно)}

    DELEG -->|Да| DEL_Y[delegation = true]
    DELEG -->|Нет| DEL_N[delegation = false]

    DEL_Y --> RIGHTS
    DEL_N --> RIGHTS

    %% ОБЪЁМ ПОЛНОМОЧИЙ — ФЛАЖКИ
    RIGHTS[Блок "Объём полномочий"<br/><br/>
        Чекбоксы:<br/>
        ▢ Продавать транспортное средство<br/>
        ▢ Подписывать договор купли-продажи<br/>
        ▢ Подавать документы в спецЦОН<br/>
        ▢ Ставить и снимать ТС с регистрационного у
▢ Получать денежные средства<br/>
        ▢ Подписывать акт приёма-передачи<br/>
        ▢ Получать новые номера<br/>
        ▢ Сдавать старые номера<br/>
        ▢ Забирать документы из спецЦОНа<br/><br/>
        ▢ **Выбрать всё** (all_check)
    ]

    RIGHTS --> REGION

    %% РЕГИОН ДЕЙСТВИЯ
    REGION{Где действует доверенность?}

    REGION --> RK_CITIES[Чекбокс: Только по городам РК<br/>(множественный выбор)]
    REGION --> RK_ALL[Чекбокс: Вся территория Республики Казахстан]
    REGION --> OUTSIDE[Чекбокс: Включая действия за пределами РК]

    RK_CITIES --> VALIDATE
    RK_ALL --> VALIDATE
    OUTSIDE --> VALIDATE

    %% ВАЛИДАЦИЯ
    VALIDATE{Проверка:<br/>- Доверитель заполнен<br/>- 1 или 2 поверенных заполнены<br/>- Полные данные ТС<br/>- Срок корректен<br/>- Передоверие выбрано<br/>- Выбрано >= 1 полномочие<br/>- Выбран регион действия}

    VALIDATE -->|Ошибка| ERROR[Показать ошибки<br/>и подсветку полей]
    ERROR --> CORRECT[Пользователь исправляет] --> VALIDATE

    VALIDATE -->|OK| GENERATE[Кнопка Generate<br/>→ Формирование документа]

    GENERATE --> DOC[Генерация .docx (шаблон)<br/>С подстановкой данных<br/>ВСЕХ выбранных полномочий]
    DOC --> END([Готово])

6 flowchart TD
  START([Старт: Форма "Согласие супруга(и) на совершение сделок"])

  %% КАКОЕ СОГЛАСИЕ
  START --> TXN_CHOICE{Выберите тип(ы) сделки<br/>(обязательно ≥1)}
  TXN_CHOICE -->|Покупка| BUY["Покупка (чекбокс)"]
  TXN_CHOICE -->|Продажа| SELL["Продажа (чекбокс)"]
  TXN_CHOICE -->|Залог / Ипотека| PLEDGE["Залог / Ипотека (чекбокс)"]

  BUY --> WHO_GIVES
  SELL --> WHO_GIVES
  PLEDGE --> WHO_GIVES

  %% КТО ДАЁТ СОГЛАСИЕ
  WHO_GIVES[Кто даёт согласие?<br/>Выбор: супруг или супруга (radio, обяз.)]
  WHO_GIVES --> SPOUSE_DATA["Блок: Данные дающего согласие (супруг/супруга)<br/>- ФИО<br/>- ИИН<br/>- Документ (тип/серия/№/кем/дата)<br/>- Адрес<br/>- Контакт"]

  SPOUSE_DATA --> WHO_RECEIVES

  %% КОМУ ДАЁТСЯ СОГЛАСИЕ
  WHO_RECEIVES[Кому даётся согласие?<br/>Варианты:<br/>- другому супругу (radio)<br/>- третьему лицу (radio) — ввести данные)<br/>- организация (radio) — ввести данные]
  WHO_RECEIVES --> RECIP_DATA["Если выбрано не 'другому супругу' → ввести данные получателя:<br/>- ФИО/Наименование<br/>- ИИН/БИН<br/>- Документ/реквизиты<br/>- Контакт"]

  RECIP_DATA --> PROPERTY_TYPE_CHECK

  %% ТИП НЕДВИЖИМОСТИ — если среди выбранных типов есть сделки с НЕДВИЖИМОСТЬЮ (покупка/продажа/залог)
  property_needed{Выбрана ли операция,<br/>требующая данных недвижимости?<br/>(покупка, продажа или залог)?}
  WHO_RECEIVES --> property_needed
  TXN_CHOICE --> property_needed

  property_needed -->|Да| PROPERTY_TYPE
  property_needed -->|Нет| TERM_CHOICE

  PROPERTY_TYPE[Выберите тип объекта (обязательно):<br/>чекбоксы/радио (один):<br/>- Квартира<br/>- Жилой дом<br/>- Земельный участок<br/>- Доля (в ТОО / в праве) / доля в праве<br/>- Паркинг / машиноместо<br/>- Нежилое помещение<br/>- Другое (ручной ввод)]

  PROPERTY_TYPE --> PROPERTY_DETAILS["Данные по объекту (зависимо от типа):<br/>- Адрес / местоположение<br/>- Кадастровый номер / Уник. идентификатор<br/>- Правоустанавливающие документы (серия/№)<br/>- Площадь / этаж / прочее<br/>- Примечание"]

  PROPERTY_DETAILS --> TERM_CHOICE

  %% СРОК И ЦЕНА
  TERM_CHOICE{Срок согласия}
  TERM_CHOICE --> TERM_DAYS[Опция "Дни" (1–31)]
  TERM_CHOICE --> TERM_MONTHS[Опция "Месяцы" (1–36)]

  TERM_DAYS --> PRICE_CHOICE
  TERM_MONTHS --> PRICE_CHOICE

  PRICE_CHOICE{Цена сделки / ограничение по цене}
  PRICE_CHOICE -->|Указать сумму| PRICE_VAL[Поле: сумма (сом/тенге/валюта) + дополнительные условия]
  PRICE_CHOICE -->|По усмотрению / без ограничения| PRICE_OPEN[Флаг: price_open = true]
  PRICE_CHOICE -->|Указать диапазон| PRICE_RANGE[Поля: min / max]

  PRICE_VAL --> VALIDATE
  PRICE_OPEN --> VALIDATE
  PRICE_RANGE --> VALIDATE

  %% ВАЛИДАЦИЯ
  VALIDATE{Валидация формы:<br/>- выбран ≥1 тип сделки?<br/>- заполнены данные дающего согласие?<br/>- указан получатель (либо "другой супруг")?<br/>- если нужно — заполнены данные по объекту?<br/>- срок в пределах допустимого?<br/>- указана позиция по цене (сумма/по усмотрению/диапазон)?}

  VALIDATE -->|Ошибка| SHOW_ERR[Отобразить ошибки и подсказки]
  SHOW_ERR --> CORR[Пользователь исправляет] --> VALIDATE

  VALIDATE -->|OK| GENERATE[Кнопка "Generate" — сформировать документ]

  GENERATE --> DOC[Генерация .docx/.pdf<br/>Подстановка: выбранные типы сделок, данные супруг(и), получателя, данные объекта (если есть), срок, условие по цене]
  DOC --> END([Готово: скачать / отправить / распечатать])
Короткие пояснения (для разработчика)
Поле выбора типов сделки — чекбоксы, но обязательна хотя бы одна галочка.

Опция «данные по недвижимости» показывается только если выбрана операция, связанная с недвижимостью (покупка/продажа/залог).

Тип объекта — радио/селект (один из списка), при выборе «Другое» — текстовое поле.

Цена: три варианта — точная сумма, диапазон, или отметка «по усмотрению / без ограничения».

Срок: переключатель Days / Months с ограничениями (1–31 / 1–36).

Валидация — обязательна: не пустые ключевые блоки.

Generate формирует готовый шаблон согласия с перечислением выбранных операций и условий.

7 flowchart TD
  START([Старт: Форма "Доверенность на получение документов"])

  %% ДОВЕРИТЕЛЬ (Всегда 1)
  START --> PRINCIPAL[Блок "Доверитель (1)"<br/>Поля: ФИО / Наименование, ИИН/БИН, документ личности (тип, серия/№, кем выдан, дата), адрес, телефон (опц.)]

  PRINCIPAL --> AGENT_CHOICE

  %% ПОВЕРЕННЫЙ (1 или 2)
  AGENT_CHOICE{Поверенный: количество 1 или 2?}
  AGENT_CHOICE -->|1| AGENT1[Форма "Поверенный 1"<br/>Поля: ФИО, ИИН, документ (тип/серия/№/кем/дата), адрес, тел.]
  AGENT_CHOICE -->|2| AGENT2[Форма "Поверенный 1" и "Поверенный 2"<br/>(аналогичные поля)]

  AGENT1 --> TERM
  AGENT2 --> TERM

  %% СРОК
  TERM{Срок доверенности}
  TERM --> TERM_DAYS[Выбор: Дни (1–31)]
  TERM --> TERM_MONTHS[Выбор: Месяцы (1–36)]

  TERM_DAYS --> DOC_GROUPS
  TERM_MONTHS --> DOC_GROUPS

  %% ГРУППЫ ДОКУМЕНТОВ (основное меню, не длинный список)
  DOC_GROUPS[Выбор группы документов (обязателен)<br/>Пункты (чекбоксы):<br/>1) Документы из налоговых органов<br/>2) Документы медучреждений<br/>3) Документы работодателя<br/>4) Документы по транспорту<br/>5) Документы недвижимости<br/>6) Банковские документы<br/>7) Судебные/юридические документы<br/>8) Прочие (другие)]

  DOC_GROUPS --> GROUP_NTG{Выбрана ли группа?}
  GROUP_NTG -->|Нет| SHOW_ERR1[Ошибка: выберите ≥1 группу]
  GROUP_NTG -->|Да| GROUP_SELECTED

  GROUP_SELECTED --> SUBOPTIONS

  %% ПОДПУНКТЫ — для каждой выбранной группы показываются конкретные опции
  subgraph SUBOPTIONS_BLOCK [Подменю: конкретные документы по выбранным группам]
    direction TB
    SUBOPTIONS[Для каждой выбранной группы открылось подменю с чекбоксами (typeahead):]
    SUBOPTIONS --> TAX_SUB[Налоговые: справка о задолженности, справки по налогам, выписка по счету КГД]
    SUBOPTIONS --> MED_SUB[Медучреждения: медицинная справка, выписка из медкарты, справка для органов]
    SUBOPTIONS --> EMP_SUB[Работодатель: справка о заработной плате, справка о месте работы, характеристика]
    SUBOPTIONS --> TRANSPORT_SUB[Транспорт: техпаспорт, свидетельство о регистрации ТС, дубликат номера]
    SUBOPTIONS --> RE_IMM_SUB[Недвижимость: техпаспорт, кадастровая выписка, справка о праве]
    SUBOPTIONS --> BANK_SUB[Банк: выписка по счету, справка о остатке, справка по депозиту]
    SUBOPTIONS --> JUD_SUB[Суд: решение, исполнительный лист, копия судебного акта]
    SUBOPTIONS --> OTHER_SUB[Прочее: текстовое поле для ручного ввода документа]
  end

  %% ВОЗМОЖНОСТЬ "ВЫБРАТЬ ВСЕ" ДЛЯ ПОДПУНКТОВ
  SUBOPTIONS --> SUB_SELECT_ALL{Есть чекбокс "Выбрать всё" в подменю?}
  SUB_SELECT_ALL -->|Да (вкл.)| SUB_ALL_SELECTED[Отмечены все подпункты выбранных групп]
  SUB_SELECT_ALL -->|Нет| SUB_CUSTOM[Пользователь отмечает отдельные подпункты]

  SUB_ALL_SELECTED --> INSTITUTIONS
  SUB_CUSTOM --> INSTITUTIONS

  %% ГДЕ ПОЛУЧАТЬ — СПИСОК УЧРЕЖДЕНИЙ (с выбором "Все" или множественный выбор)
  INSTITUTIONS[Блок "Где получать (институты/учреждения)"<br/>Чекбоксы / typeahead:<br/>- ЦОН / СпецЦОН<br/>- Банк<br/>- ЕНПФ<br/>- Суд<br/>- Налоговый комитет (КГД)<br/>- Поликлиника / Больница<br/>- Работодатель<br/>- Архив<br/>- Почта / Казпочта<br/>- Другое (ручной ввод)<br/>+ чекбокс "Выбрать все учреждения"]

  INSTITUTIONS --> INST_SELECT_ALL{Выбрано "Все учреждения"?}
  INST_SELECT_ALL -->|Да| INST_ALL_FLAG[all_institutions = true]
  INST_SELECT_ALL -->|Нет| INST_LIST[Массив выбранных учреждений]

  INST_ALL_FLAG --> VALIDATE
  INST_LIST --> VALIDATE

  %% ВАЛИДАЦИЯ
  VALIDATE{Валидация формы:<br/>- Доверитель заполнен?<br/>- Поверенный(е) заполнены?<br/>- Срок корректен?<br/>- Выбрана ≥1 группа и ≥1 подпункт (или "Выбрать всё")?<br/>- Выбрано место получения (или "Выбрать все")?}

  VALIDATE -->|Ошибка| SHOW_ERRORS[Показать ошибки/подсказки у полей]
  SHOW_ERRORS --> CORRECT[Пользователь исправляет] --> VALIDATE

  VALIDATE -->|OK| GENERATE[Кнопка "Generate" — Формирование доверенности]

  GENERATE --> DOC[Генерация документа (.docx/.pdf) по шаблону<br/>Подстановка: доверитель, поверенные, срок, выбранные группы и подпункты, места получения]
  DOC --> END([Готово: скачать/отправить/распечатать])
Короткие разъяснения для разработчика
Группы документов — показываются в виде компактного меню из ~8 категорий (не длинный список).

Подпункты — для каждой выбранной группы — раскрывающийся список (чекбоксы). Здесь обязательно опция «Выбрать всё» внутри подменю.

Учреждения (где брать) — отдельный множественный список с typeahead и чекбоксом «Выбрать все учреждения».

Валидация: обязательные — доверитель, поверенный(е), срок, хотя бы одна группа и один подпункт (или глобальный «все»), место получения (или «все учреждения»).

UI: typeahead + мультивыбор + возможность «Другой документ / вручную» (текст).

Генерация: подставлять список выбранных подпунктов и выбранные учреждения в шаблон доверенности (включая пометку “Получать в: Все учреждения” если выбран all).

***заметка важная - данные людей (доверитель, поверенный - всегда приклладываются два скрина на каждого человека, если поверенных к примеру 2, то Поверенный 1 (окно для вставки 2 скрина) и окно для Поверенный 2 также 2 скрина, без которых нотари не может продолжить

8 flowchart TD
  START([Старт: Форма "Доверенность на получение пособий"])

  %% ДОВЕРИТЕЛЬ
  START --> PRINCIPAL[Блок "Доверитель (1)"<br/>Поля (обяз.): ФИО, ИИН, дата рожд., адрес, документ (тип/серия/№/кем/дата), контакт]

  PRINCIPAL --> AGENT_CHOICE

  %% ПОВЕРЕННЫЙ (1/2)
  AGENT_CHOICE{Поверенный: 1 или 2?}
  AGENT_CHOICE -->|1| AGENT1[Форма "Поверенный 1": ФИО, ИИН, док. (тип/серия/№/кем/дата), адрес, тел.]
  AGENT_CHOICE -->|2| AGENT2[Форма "Поверенный 1" и "Поверенный 2" (аналогично)]

  AGENT1 --> BENEFIT_SELECTION
  AGENT2 --> BENEFIT_SELECTION

  %% СРОК ДОВЕРЕННОСТИ
  BENEFIT_SELECTION[Выбор видов пособий (обяз.):<br/>категории (чекбоксы):<br/>- Социальные (родам, уход и т.п.)<br/>- Пенсии / ЕНПФ<br/>- Пособия по потере кормильца<br/>- Инвалидность / уход<br/>- Фонд соц. страхования<br/>- Прочие]

  BENEFIT_SELECTION --> BENEFIT_SUBS

  %% ПОДПУНКТЫ ПО КАЖДОЙ ГРУППЕ
  subgraph SUBS [Подпункты выбранных групп]
    direction TB
    BENEFIT_SUBS[Для каждой выбранной категории раскрываются подпункты (чекбоксы / typeahead).]
    BENEFIT_SUBS --> CHILD_REQ{Требует ли выбранный подпункт указание ребёнка/инвалида?}
  end

  CHILD_REQ -->|Да| CHILD_BLOCK[Показать блок "Данные ребёнка/инвалида":<br/>- ФИО получателя пособия<br/>- ИИН<br/>- Дата рождения<br/>- Группа инвалидности (если применимо)<br/>- Документ (свид.рожд./паспорт): серия/№/кем/дата]
  CHILD_REQ -->|Нет| NO_CHILD

  CHILD_BLOCK --> WHERE_GET
  NO_CHILD --> WHERE_GET

  %% МЕСТО ПОЛУЧЕНИЯ
  WHERE_GET[Блок "Где получать" (множественный выбор):<br/>- ГЦВП / Центр выплат<br/>- Фонд соц.страхования<br/>- ЕНПФ<br/>- Акимат / УСЗН<br/>- Банк<br/>- Почта / Казпочта<br/>- Другие (ручной ввод)<br/>+ чекбокс "Выбрать всё учреждения"]

  WHERE_GET --> RIGHTS

  %% ПРАВА ПОВЕРЕННОГО
  RIGHTS[Блок "Права поверенного" (чекбоксы):<br/>- Получать денежные выплаты<br/>- Подписывать заявления/документы<br/>- Подавать заявления в органы<br/>- Получать уведомления<br/>- Открывать/управлять счетом для выплат<br/>- "Выбрать всё"]

  RIGHTS --> PAYMENT_TYPE

  %% ТИПЫ ВЫПЛАТ И ОГРАНИЧЕНИЯ
  PAYMENT_TYPE{Тип выплат (чекбоксы):<br/>- Разовая<br/>- Ежемесячная<br/>- Обе}
  PAYMENT_TYPE --> AMOUNT_CHOICE

  AMOUNT_CHOICE{Ограничение по сумме?}
  AMOUNT_CHOICE -->|Нет| AMT_NONE[flag_amount_unlimited = true]
  AMOUNT_CHOICE -->|Да| AMT_VAL[Поле: сумма (валюта) или диапазон min/max]

  AMT_NONE --> APPEARS_REQUESTER
  AMT_VAL --> APPEARS_REQUESTER

  %% КТО ПРИШЁЛ (лично / по доверенности)
  APPEARS_REQUESTER{Обратившийся поступил: личным приходом или по доверенности? (radio, обяз.)}
  APPEARS_REQUESTER -->|Лично| REQUESTER_PERSONAL[Флаг: personal = true]
  APPEARS_REQUESTER -->|По доверенности| REQUESTER_POA[Флаг: personal = false → показать поля ввода реквизитов исходной доверенности]

  REQUESTER_PERSONAL --> VALIDATE
  REQUESTER_POA --> POA_DETAILS

  %% РЕКВИЗИТЫ ИСХОДНОЙ ДОВЕРЕННОСТИ (если по доверенности)
  POA_DETAILS[Поля (обяз. при приходе по доверенности):<br/>- Реестровый номер доверенности (ручной ввод)<br/>- Кем выдана (ФИО нотариуса / Нотариальная контора)<br/>- Дата выдачи доверенности<br/>- Номер лицензии нотариуса<br/>- Дата выдачи лицензии<br/>- Кем выдана лицензия (орган)] 

  POA_DETAILS --> VALIDATE

  %% СРОК ДОВЕРЕННОСТИ
  VALIDATE{Срок доверенности + общая валидация:<br/>- Выбрать срок: дни (1–31) или месяцы (1–36)<br/>- Доверитель и поверенные заполнены?<br/>- Выбран ≥1 вид пособия и подпункт?<br/>- Если нужна — данные ребёнка/инвалида заполнены?<br/>- Выбрано место получения (или "все")?<br/>- Выбраны права поверенного?<br/>- Если приход по доверенности: реквизиты введены?}

  VALIDATE -->|Ошибка| SHOW_ERR[Показать ошибки/подсказки у полей]
  SHOW_ERR --> CORRECT[Пользователь исправляет] --> VALIDATE

  VALIDATE -->|ОК| GENERATE[Кнопка "Generate" — формирование доверенности]

  GENERATE --> DOC[Генерация .docx/.pdf по шаблону:<br/>Подстановка всех данных: доверитель, поверенные, выбранные пособия и подпункты, если — данные ребёнка/инвалида, места получения, права, срок, реквизиты исходной доверенности (если есть)]
  DOC --> END([Готово — скачать / отправить / распечатать])
Короткие пояснения для разработчика
Группы → подпункты: UI должен показывать компактный список групп (категорий). При выборе группы раскрываются подварианты (чекбоксы).

Динамика блоков: при выборе подпунктов, требующих указания ребёнка/инвалида, автоматически появляется соответствующий блок.

Приход по доверенности: radio «Лично / По доверенности» — если выбран «По доверенности», появляется обязательный ручной блок для ввода реквизитов исходной доверенности (реестровый номер, кто выдал, дата, лицензия нотариуса и т.д.). Поля — текстовые, обязательные.

Поля суммы: поддержать ввод валюты и диапазона (min/max).

Валидация: обязательна на всех ключевых шагах; показать конкретные подсказки.

Generate: формирует документ .docx/.pdf по шаблону с перечислением всех выбранных позиций и вставкой реквизитов при необходимости.

9 flowchart TD
  START([Старт: Форма "Доверенность — представление интересов в суде"])

  %% ДОВЕРИТЕЛЬ
  START --> PRINCIPAL[Блок: Доверитель (обяз.)<br/>ФИО/Наим., ИИН/БИН, док. личности, адрес, контакт]

  PRINCIPAL --> AGENT_CHOICE

  %% ПОВЕРЕННЫЙ
  AGENT_CHOICE{Поверенный: 1 или 2?}
  AGENT_CHOICE -->|1| AGENT1[Форма: Поверенный 1 (ФИО, ИИН, док., контакт)]
  AGENT_CHOICE -->|2| AGENT2[Форма: Поверенный 1 и Поверенный 2 (аналогично)]

  AGENT1 --> COURT_TYPE
  AGENT2 --> COURT_TYPE

  %% ТИП СУДА (список с "Выбрать всё")
  COURT_TYPE[Блок: Тип суда (обяз., select/multi)<br/>▢ [Выбрать всё]<br/>- Районный/Городской<br/>- Областной<br/>- Верховный Суд<br/>- Административный<br/>- Экономический/арбитраж<br/>- Специализированные]
  COURT_TYPE --> CASE_TYPE

  %% ТИП ДЕЛА (список с "Выбрать всё")
  CASE_TYPE[Блок: Тип дела (обяз., чекбоксы)<br/>▢ [Выбрать всё]<br/>- Гражданское<br/>- Административное<br/>- Уголовное (огранич.)<br/>- Экономическое<br/>- Семейное<br/>- Исполнительное производство<br/>- Апелляции/Кассации]
  CASE_TYPE --> SUBJECT

  %% ПРЕДМЕТ ДЕЛА / ОПИСАНИЕ
  SUBJECT[Поле: Краткое описание предмета дела (ручной ввод)<br/>(обяз. / используется в тексте доверенности)]

  SUBJECT --> POWERS

  %% ПОЛНОМОЧИЯ (чекбоксы с "Выбрать всё")
  POWERS[Блок: Полномочия поверенного (обяз., чекбоксы)<br/>▢ [Выбрать всё полномочия]<br/>Стандартные:<br/>- Представлять интересы в судах выбранных уровней<br/>- Заявлять иски / возражения<br/>- Участвовать в заседаниях<br/>- Знакомиться с материалами дела / снимать копии<br/>- Подавать ходатайства<br/>- Получать повестки и документы<br/>- Заключать мировые соглашения<br/>Расширенные:<br/>▢ Подавать апелляции/кассации/надзор<br/>▢ Подписывать/изменять иски<br/>▢ Получать исполнительный лист<br/>▢ Право получения/распоряжения денежными средствами]
  POWERS --> AUTHORITIES

  %% ОРГАНЫ / ВЗАИМОДЕЙСТВИЕ (с "Выбрать всё")
  AUTHORITIES[Блок: Органы взаимодействия (чекбоксы)<br/>▢ [Выбрать всё органы]<br/>- Суд<br/>- Исполнительная служба<br/>- Прокуратура<br/>- Полиция / МВД<br/>- Банк<br/>- Регистраторы (ЦОН и т.п.)<br/>- Прочие госорганы]
  AUTHORITIES --> MATERIAL_RIGHTS

  %% МАТЕРИАЛЬНЫЕ/ФИНАНСОВЫЕ ПОЛНОМОЧИЯ (с "Выбрать всё")
  MATERIAL_RIGHTS[Блок: Материальные полномочия (чекбоксы)<br/>▢ [Выбрать всё мат. права]<br/>- Оплачивать госпошлины<br/>- Получать/распоряжаться денежными средствами<br/>- Подписывать соглашения с финансовыми условиями]
  MATERIAL_RIGHTS --> DELEGATION

  %% ПРАВО ПЕРЕДОВЕРИЯ
  DELEGATION{Право передоверия (radio, обяз.)}
  DELEGATION -->|Да| DELEG_Y[delegation_allowed = true]
  DELEGATION -->|Нет| DELEG_N[delegation_allowed = false]

  DELEG_Y --> TERM
  DELEG_N --> TERM

  %% СРОК
  TERM{Срок доверенности}
  TERM --> TERM_DAYS[Опция: Дни (1–31)]
  TERM --> TERM_MONTHS[Опция: Месяцы (1–36)]
  TERM_DAYS --> APPEAR_TYPE
  TERM_MONTHS --> APPEAR_TYPE

  %% ОБРАЩЕНИЕ: ЛИЧНО ИЛИ ПО ДОВЕРЕННОСТИ
  APPEAR_TYPE{Обратившийся действует:<br/>- Лично<br/>- По доверенности (radio, обяз.)}
  APPEAR_TYPE -->|Лично| PERSONAL[flag_personal = true] --> VALIDATE
  APPEAR_TYPE -->|По доверенности| POA_IN[flag_personal = false]

  POA_IN --> POA_FIELDS[Поля (обяз. при приходе по доверенности):<br/>- Реестровый № доверенности (ручной ввод)<br/>- Кем выдана (нотариус / контора)<br/>- Дата выдачи доверенности<br/>- Номер лицензии нотариуса<br/>- Дата выдачи лицензии<br/>- Кем выдана лицензия]
  POA_FIELDS --> VALIDATE

  %% ВАЛИДАЦИЯ
  VALIDATE{Валидация (обяз.):<br/>- Доверитель заполнен?<br/>- Поверенные заполнены?<br/>- Выбран ≥1 тип суда?<br/>- Выбран ≥1 тип дела?<br/>- Описан предмет дела?<br/>- Выбраны необходимые полномочия (≥1)?<br/>- Выбран хотя бы 1 орган взаимодействия?<br/>- Срок в пределах допустимого?<br/>- При приходе по доверенности: реквизиты заполнены?}
  VALIDATE -->|Ошибка| SHOW_ERR[Показать ошибки, подсказки]
  SHOW_ERR --> CORRECT[Пользователь исправляет] --> VALIDATE
  VALIDATE -->|OK| GENERATE[Кнопка "Generate" — сформировать документ]

  GENERATE --> DOC[Генерация .docx/.pdf по шаблону:<br/>Подстановка полей: доверитель, поверенные, тип суда/дела, предмет, выбранные полномочия и органы, мат. права, срок, реквизиты исходной доверенности (если есть)]
  DOC --> END([Готово — скачать / отправить / распечатать])
Короткие пояснения (для девелопера)
Везде, где много опций (чекбоксы / select) — обязательно предусмотреть верхнюю опцию «▢ [Выбрать всё]», которая массово ставит/снимает все галочки в данном блоке.

Тип суда и тип дела — могут быть мультивыбором, но UI должен позволять убрать «теоретические» судебные варианты (пользователь сам решает).

Полномочия — разбивать на «стандартные» и «расширенные» (апелляции/кассации/получение исполнительного листа и т.д.). По умолчанию — ничего не выбрано (безопасность).

Право передоверия — radio required; при выборе «Да» можно показывать опциональные дополнительные поля (ограничения).

Приход по доверенности — реквизиты исходной доверенности вводятся ручно и обязательны в этом сценарии.

Валидация — предъявляет конкретные подсказки; генерация документа блокируется, пока валидация не пройдена.

Output — готовый .docx/.pdf, где перечислены все выбранные опции в читабельном виде (подчёркивания, пункты, даты).

10 flowchart TD
  START([Старт: Форма "Доверенность — банковские операции (физлица)"])

  %% ДОВЕРИТЕЛЬ (ФИЗЛО)
  START --> PRINCIPAL[Блок: Доверитель (физическое лицо) — обязательные поля:<br/>ФИО, ИИН, дата рожд., адрес регистрации, документ личности (тип/серия/№/кем/дата), контакт]

  PRINCIPAL --> AGENT_CHOICE

  %% ПОВЕРЕННЫЕ (1 или 2)
  AGENT_CHOICE{Поверенный: 1 или 2? (обяз.)}
  AGENT_CHOICE -->|1| AGENT1[Форма: Поверенный 1 — ФИО, ИИН, документ личности, адрес, контакт]
  AGENT_CHOICE -->|2| AGENT2[Форма: Поверенный 1 и Поверенный 2 (аналогично)]

  AGENT1 --> BANK_SELECTION_BLOCK
  AGENT2 --> BANK_SELECTION_BLOCK

  %% BLOК ВЫБОРА БАНКОВ (DROP-LIST + SELECT ALL + CARD PER BANK)
  subgraph BANK_SELECT ["Блок: Банк / Счета (typeahead, множественный выбор)"]
    direction TB
    BANK_HELP[Интерфейс:<br/>- Typeahead + множественный выбор банков<br/>- Вверху: ▢ «Выбрать всё банки» (select_all_banks)<br/>- Кнопка: «Добавить банк вручную»]
    BANK_LIST["При выборе: в UI создаётся карточка для каждого выбранного банка:"]
    BANK_CARD["БАНК-КАРТОЧКА (для каждого банка):<br/>- Название банка (readonly)<br/>- Филиал/отделение (typeahead/manual)<br/>- Номер счёта (IBAN/№) (если операция требует — обязательно)<br/>- Валюта<br/>- Флаги: 'use_for_statements', 'use_for_cash_withdraw'<br/>- Кнопка 'Удалить банк'"]
    BANK_HELP --> BANK_LIST --> BANK_CARD
  end

  BANK_SELECTION_BLOCK --> OPERATIONS_BLOCK

  %% ПРАВА / ОПЕРАЦИИ (чекбоксы с SELECT ALL)
  subgraph OPERATIONS_BLOCK ["Блок: Права / операции"]
    direction TB
    OPS_HELP[Интерфейс: чекбоксы + сверху ▢ "Выбрать всё операции"]
    OPS_LIST["Права (чекбоксы):"]
    OPS_ITEMS["- Получать банковские выписки (по счёту/периоду)\n- Получать справки о состоянии счёта\n- Снимать наличные с указанного счёта (лимит)\n- Получать платежные документы (чеки)\n- Подписывать заявления/документы в банке\n- Получать/забирать банковские карточки / PIN\n- Управлять депозитами (открывать/закрывать)\n- Получать входящие переводы\n- Подписывать договоры банковского обслуживания\n- Представлять интересы в банке"]
    OPS_HELP --> OPS_LIST --> OPS_ITEMS
  end

  OPERATIONS_BLOCK --> LIMITS_BLOCK

  %% ОГРАНИЧЕНИЯ ПО СУММЕ
  subgraph LIMITS_BLOCK ["Блок: Лимиты / ограничения"]
    direction TB
    LIMIT_CHOICE{Ограничение по сумме?}
    LIMIT_CHOICE -->|Нет| LIMIT_NONE[flag_unlimited = true]
    LIMIT_CHOICE -->|Да| LIMIT_VAL[Поля: разовый лимит, суммарный лимит, валюта]
  end

  LIMITS_BLOCK --> DOC_REQ_BLOCK

  %% ТРЕБОВАНИЯ БАНКА К ДОКУМЕНТАМ
  subgraph DOC_REQ_BLOCK ["Требования документов (чекбоксы + manual)"]
    direction TB
    DOC_REQ["- ▢ Требуется оригинал доверенности при обращении\n- ▢ Достаточно нотариально заверенной копии\n- ▢ Достаточно электронной подписи (если банк принимает)\n- Поле 'Особые требования банка' (ручной ввод)"]
  end

  DOC_REQ_BLOCK --> TERM_BLOCK

  %% СРОК
  subgraph TERM_BLOCK ["Срок доверенности"]
    direction TB
    TERM_CHOICE{Выбор срока}
    TERM_CHOICE --> TERM_DAYS[Дни (1–31)]
    TERM_CHOICE --> TERM_MONTHS[Месяцы (1–36)]
  end

  TERM_BLOCK --> DELEGATION_BLOCK

  %% ПРАВО ПЕРЕДОВЕРИЯ
  subgraph DELEGATION_BLOCK ["Право передоверия"]
    direction TB
    DELEG{Право передоверия (radio, обяз.)}
    DELEG -->|Да| DELEG_Y[delegation_allowed = true]
    DELEG -->|Нет| DELEG_N[delegation_allowed = false]
  end

  DELEGATION_BLOCK --> VALIDATE_BLOCK

  %% ВАЛИДАЦИЯ ВСЕЙ ФОРМЫ
  subgraph VALIDATE_BLOCK ["Валидация (обязательная перед Generate)"]
    direction TB
    VALIDATE[Проверки (все обязательны):<br/>- Доверитель заполнен?<br/>- Поверенные заполнены (1 или 2)?<br/>- Выбран ≥1 банк (или select_all_banks=true)?<br/>- Для операций, требующих счета → есть хотя бы один банк с заполненным account?<br/>- Выбраны ≥1 операции?<br/>- Если указаны лимиты → суммы корректны и валюта указана?<br/>- Указаны требования к документам (хотя бы default)?<br/>- Срок в рамках допустимого?<br/>- Если нужны оригиналы → пометка стоит?]
    VALIDATE -->|Ошибка| SHOW_ERR[Показать ошибки/подсказки у соответствующих полей]
    VALIDATE -->|ОК| GENERATE_BTN[Кнопка "Generate"]
  end

  SHOW_ERR --> CORRECT[Пользователь исправляет] --> VALIDATE

  GENERATE_BTN --> DOC_GEN

  %% ГЕНЕРАЦИЯ ДОКУМЕНТА
  DOC_GEN[Генерация документа (.docx/.pdf) по шаблону:<br/>Подставить: {{PRINCIPAL}}, {{AGENTS}}, {{BANKS_AND_ACCOUNTS}}, {{OPERATIONS_LIST}}, {{LIMITS}}, {{DOC_REQUIREMENTS}}, {{TERM}}, {{DELEGATION}}]

  DOC_GEN --> OUTPUT[Результат: скачать / отправить по e-mail / распечатать]

  OUTPUT --> END([Готово])
Короткие указания для разработчика (1–2 абзаца)
Блок банков — typeahead + мультивыбор; вверху чекбокс «Выбрать всё банки», при котором создаются карточки всех банков (карточки можно отредактировать/удалить). Для операций, требующих счёта, обязательна хотя бы одна карточка с заполнённым account.

Блок операций — чекбоксы с верхней опцией «Выбрать всё операции». Некоторые операции (например, снятие наличных, получение выписки) должны триггерить валидацию наличия счёта/банка.

Валидация — строгая: генерация документа блокируется, пока обязательные поля/связки не подтверждены.

Output — .docx/.pdf с читаемым списком банков/счетов и подробной расшифровкой прав и ограничений.

11 flowchart TD
  START([Старт: Форма "Доверенность — представление интересов (вне суда)"])

  %% ДОВЕРИТЕЛЬ (ФИЗЛО)
  START --> PRINCIPAL[Блок: Доверитель (обяз.)<br/>Поля: ФИО, ИИН, дата рожд., адрес, документ личности (тип/серия/№/кем/дата), контакт]

  PRINCIPAL --> AGENT_CHOICE

  %% ПОВЕРЕННЫЕ (1 или 2)
  AGENT_CHOICE{Поверенный: 1 или 2?}
  AGENT_CHOICE -->|1| AGENT1[Поверенный 1 — ФИО, ИИН, док. личности, адрес, контакт]
  AGENT_CHOICE -->|2| AGENT2[Поверенный 1 и Поверенный 2 (аналогично)]

  AGENT1 --> SCOPE_BLOCK
  AGENT2 --> SCOPE_BLOCK

  %% ОБЛАСТЬ ПРЕДСТАВЛЕНИЯ — ГРУППЫ (с "Выбрать всё")
  subgraph SCOPE_BLOCK["Блок: Область представления (чекбоксы, вверху ▢ 'Выбрать всё')"]
    direction TB
    SCOPE_TITLE["Выберите области, в которых поверенный уполномочен действовать:"]
    SCOPE_LIST[
      ▢ [Выбрать всё области]<br/>
      - Госорганы / Административные органы (ЦОН, акимат, министерства)<br/>
      - Регистрационные органы (реестр недвижимости, рег. права) <br/>
      - Налоговые органы (КГД) <br/>
      - Социальные службы (УСЗН, ГЦВП) <br/>
      - Медучреждения (получение справок/мед. докум.) <br/>
      - Работодатель / Трудовые отношения <br/>
      - Коммунальные / ЖКХ <br/>
      - Торговые/поставщики/контрагенты (переговоры, подписи) <br/>
      - Банки (в ограниченном виде; см. блок банков) <br/>
      - Прочие (ручной ввод)
    ]
    SCOPE_TITLE --> SCOPE_LIST
  end

  SCOPE_BLOCK --> ACTIONS_BLOCK

  %% ДЕЙСТВИЯ / ПРАВА (чекбоксы с "Выбрать всё")
  subgraph ACTIONS_BLOCK["Блок: Конкретные действия / полномочия (чекбоксы, 'Выбрать всё' сверху)"]
    direction TB
    ACTIONS_TITLE["Какие конкретные полномочия даются поверенному?"]
    ACTIONS_LIST[
      ▢ [Выбрать всё полномочия]<br/>
      - Подавать и получать документы в/из органов<br/>
      - Подписывать заявления, запросы, ответы<br/>
      - Представлять интересы на переговорах и подписывать договоры (лимит/условия)<br/>
      - Получать справки/выписки/копии документов<br/>
      - Получать/получать на руки документы (оригиналы/копии)<br/>
      - Подписывать акты приёма-передачи и иные акты<br/>
      - Платить госпошлины / подавать платежи (требовать указать лимит)<br/>
      - Представлять интересы в Коммунальных службах (договора/переписки)<br/>
      - Подавать, получать документы в ЦОН / регистры<br/>
      - Переговоры/подписание в коммерческих контрактах (указать лимит/условия)
    ]
    ACTIONS_TITLE --> ACTIONS_LIST
  end

  ACTIONS_BLOCK --> MATERIAL_BLOCK

  %% МАТЕРИАЛЬНЫЕ ПОЛНОМОЧИЯ / ОГРАНИЧЕНИЯ
  subgraph MATERIAL_BLOCK["Материальные полномочия и ограничения"]
    direction TB
    MAT_TITLE["Материальные права / ограничения (обяз. выбор при операциях с деньгами)"]
    MAT_OPTIONS[
      ▢ [Выбрать всё мат. права]<br/>
      - Право получать денежные средства (да/нет)<br/>
      - Право подписывать акты с финансовыми последствиями<br/>
      - Лимит на получение наличных (поле: сумма + валюта)<br/>
      - Право оплачивать государственные/коммунальные платежи (лимит)<br/>
      - Ограничения: запрет на получение денежных средств свыше суммы X
    ]
    MAT_TITLE --> MAT_OPTIONS
  end

  MATERIAL_BLOCK --> WHERE_BLOCK

  %% ГДЕ ДЕЙСТВОВАТЬ (СПИСОК ОРГАНОВ) — SELECT ALL
  WHERE_BLOCK[Блок: Конкретные учреждения / места (множественный выбор, typeahead)<br/>▢ [Выбрать всё учреждения]<br/>- ЦОН / СпецЦОН<br/>- Акимат / районный акимат<br/>- Налоговый комитет (КГД)<br/>- Соц. службы / ГЦВП<br/>- Поликлиника / больница<br/>- Коммунальные службы<br/>- Регистраторы (кадастр, БТИ)<br/>- Работодатель<br/>- Почта / Казпочта<br/>- Другое (ручной ввод)]

  WHERE_BLOCK --> TERM_BLOCK

  %% СРОК (Дни / Месяцы)
  subgraph TERM_BLOCK["Срок доверенности"]
    TERM_CHOICE{Выбрать срок}
    TERM_CHOICE --> TERM_DAYS[Дни (1–31)]
    TERM_CHOICE --> TERM_MONTHS[Месяцы (1–36)]
  end

  TERM_BLOCK --> DELEG_BLOCK

  %% ПРАВО ПЕРЕДОВЕРИЯ (обязательный выбор)
  subgraph DELEG_BLOCK["Право передоверия"]
    DELEG{Право передоверия?<br/>Да / Нет (radio, обяз.)}
    DELEG -->|Да| DELEG_Y[delegation_allowed = true]
    DELEG -->|Нет| DELEG_N[delegation_allowed = false]
  end

  DELEG_BLOCK --> APPEAR_TYPE

  %% ОБРАЩЕНИЕ: ЛИЧНО ИЛИ ПО ДОВЕРЕННОСТИ (если приходит по доверенности — реквизиты)
  APPEAR_TYPE{Обратившийся: Лично или по доверенности? (radio, обяз.)}
  APPEAR_TYPE -->|Лично| PERSONAL[flag_personal = true] --> VALIDATE_BLOCK
  APPEAR_TYPE -->|По доверенности| POA_IN

  POA_IN --> POA_FIELDS[Поля (обяз. при приходе по доверенности):<br/>- Реестровый номер исходной доверенности (ручной ввод)<br/>- Кем выдана (ФИО нотариуса / контора)<br/>- Дата выдачи доверенности<br/>- Номер лицензии нотариуса<br/>- Дата выдачи лицензии<br/>- Кем выдана лицензия]

  POA_FIELDS --> VALIDATE_BLOCK

  %% ВАЛИДАЦИЯ ВСЕЙ ФОРМЫ
  subgraph VALIDATE_BLOCK["Валидация перед Generate"]
    VALIDATE["Проверки (обязательно):<br/>- Доверитель заполнен?<br/>- Поверенные заполнены?<br/>- Выбрана ≥1 область представления?<br/>- Выбрано ≥1 конкретное действие/право?<br/>- При финансовых операциях — указаны мат. права/лимиты?<br/>- Указаны места / учреждения (или 'Выбрать всё')?<br/>- Срок в допустимых пределах?<br/>- При приходе по доверенности — реквизиты введены?"]
    VALIDATE -->|Ошибка| SHOW_ERR[Показать ошибки/подсказки]
    VALIDATE -->|OK| GENERATE_BTN[Кнопка "Generate"]
  end

  SHOW_ERR --> CORRECT[Пользователь исправляет] --> VALIDATE

  GENERATE_BTN --> DOC_GENERATE

  DOC_GENERATE[Генерация документа (.docx/.pdf) по шаблону:<br/>Подстановки: {{PRINCIPAL}}, {{AGENTS}}, {{SCOPE_AREAS}}, {{ACTIONS_LIST}}, {{MATERIAL_RIGHTS}}, {{WHERE_LIST}}, {{TERM}}, {{DELEGATION}}, {{POA_REFERENCES}}]

  DOC_GENERATE --> OUTPUT[Результат: скачать / отправить / распечатать]

  OUTPUT --> END([Готово])
Короткие пояснения для разработчика (чтобы не было вопросов)
Везде, где много опций (SCOPE, ACTIONS, WHERE, MATERIAL) — поставить сверху чекбокс «▢ Выбрать всё», который массово отмечает все элементы блока (и может быть инвертирован пользователем).

ACTIONS — это именно юридические формулировки; в шаблоне подставлять человеко-читаемый список.

MATERIAL_BLOCK активируется/требуется, если пользователь выбрал операции с денежными последствиями (получение денег, оплата, подписание финансовых актов).

WHERE_BLOCK — typeahead + мультивыбор + возможность ручного ввода учреждения.

APPEAR_TYPE — если референт действует по доверенности другого лица, реквизиты исходной доверенности вводятся вручную и обязательны.

VALIDATION — блок строгий: генерация документа невозможна до прохождения всех обязательных проверок.

OUTPUT — сгенерированный документ должен в очевидном виде перечислять: где, какие полномочия, лимиты, срок и реквизиты по исходным доверенностям (если применимо).

12 flowchart TD
  START([Старт: Форма "Согласие на предоставление юридического адреса"])

  %% ДОВЕРИТЕЛЬ (СОБСТВЕННИК / СОГЛАСИЕ ДАЁТ)
  START --> PRINCIPAL[Блок: Лицо, дающее согласие (обяз.)<br/>ФИО, ИИН, дата рожд., адрес регистрации,<br/>документ личности (тип/серия/№/кем/дата)]

  PRINCIPAL --> RECEIVER

  %% КОМУ ДАЁТСЯ СОГЛАСИЕ (ПОЛУЧАТЕЛЬ)
  RECEIVER[Блок: Кому дается согласие (обяз.)<br/>Тип (radio):<br/>- Физическое лицо<br/>- Юридическое лицо / ТОО<br/>Поля:<br/>ФИО/Наименование, ИИН/БИН, адрес]

  RECEIVER --> PROPERTY_TYPE

  %% ТИП НЕДВИЖИМОСТИ
  PROPERTY_TYPE{Тип объекта недвижимости (обяз.)}
  PROPERTY_TYPE --> APT[Квартира]
  PROPERTY_TYPE --> HOUSE[Жилой дом]
  PROPERTY_TYPE --> LAND[Земельный участок]
  PROPERTY_TYPE --> NONRESIDENTIAL[Нежилое помещение]
  PROPERTY_TYPE --> OTHER[Другое (ручной ввод типа объекта)]

  APT --> PROPERTY_DATA
  HOUSE --> PROPERTY_DATA
  LAND --> PROPERTY_DATA
  NONRESIDENTIAL --> PROPERTY_DATA
  OTHER --> PROPERTY_DATA

  %% ДАННЫЕ ОБ ОБЪЕКТЕ (ОБЯЗАТЕЛЬНО!)
  PROPERTY_DATA[Блок: Адрес недвижимости (обяз.)<br/>Поля:<br/>- Полный адрес объекта (обяз.)<br/>- Кадастровый номер (если есть)<br/>- Номер и дата правоустанавливающего документа<br/>- Возможность указать "квартира/офис/помещение №""]

  PROPERTY_DATA --> ALLOWED_USE

  %% ЦЕЛЬ / НА ЧТО ДАЁТСЯ СОГЛАСИЕ
  ALLOWED_USE[Цель согласия (фиксировано):<br/>"Использовать указанный объект недвижимости в качестве юридического адреса компании/получателя согласия"]

  ALLOWED_USE --> TERM

  %% СРОК
  TERM{Срок согласия}
  TERM --> TERM_MONTHS[Месяцы (1–36)]
  TERM --> TERM_DAYS[Дни (1–31)]

  TERM_DAYS --> APPEAR_TYPE
  TERM_MONTHS --> APPEAR_TYPE

  %% ОБРАЩЕНИЕ: ЛИЧНО ИЛИ ПО ДОВЕРЕННОСТИ
  APPEAR_TYPE{Обратившийся действует:<br/>Лично или по доверенности? (обяз.)}
  APPEAR_TYPE -->|Лично| PERSONAL[flag_personal = true] --> VALIDATE
  APPEAR_TYPE -->|По доверенности| POA_IN

  %% РЕКВИЗИТЫ ИСХОДНОЙ ДОВЕРЕННОСТИ
  POA_IN --> POA_FIELDS[Поля обязательны при приходе по доверенности:<br/>- Реестровый номер доверенности<br/>- ФИО нотариуса, выдавшего доверенность<br/>- Номер лицензии нотариуса<br/>- Дата выдачи доверенности<br/>- Дата выдачи лицензии<br/>- Кем выдана лицензия]

  POA_FIELDS --> VALIDATE

  %% ВАЛИДАЦИЯ
  VALIDATE{Проверка обязательных данных:<br/>- Доверитель заполнен?<br/>- Получатель заполнен?<br/>- Выбран тип объекта?<br/>- Адрес объекта указан полностью?<br/>- Срок корректный?<br/>- Если по доверенности — реквизиты исходной доверенности?}
  VALIDATE -->|Ошибка| SHOW_ERR[Показать ошибки/подсказки]
  VALIDATE -->|OK| GENERATE[Кнопка "Generate"]

  SHOW_ERR --> FIX[Пользователь исправляет] --> VALIDATE

  %% ГЕНЕРАЦИЯ ДОКУМЕНТА
  GENERATE --> DOC[Генерация документа (.docx/.pdf)<br/>Подстановка:<br/>{{PRINCIPAL}}, {{RECEIVER}},<br/>{{PROPERTY_TYPE}}, {{PROPERTY_ADDRESS}}, {{KADASTR}}, {{TERM}}, {{POA_INFO}}]

  DOC --> END([Готово — скачать / отправить / распечатать])
🔍 Что обязательно учитывать в программе (коротко)
1. Данные доверителя — стандартный набор: ФИО, ИИН, документ, адрес.
2. Данные получателя согласия:
физлицо (ФИО + ИИН),

или юрлицо (Наименование + БИН).
(Мы NOT делаем функции юрлиц — только принимаем данные.)

3. Объект недвижимости — обязательный блок:
Адрес полностью (улица, дом, квартира/офис).

Кадастровый номер (если есть).

Правоустанавливающий документ (№, дата).

4. Тип объекта — влияет на текст: квартира / дом / нежилое помещение / земля и т.п.
5. Срок — стандартные твои диапазоны: дни (1–31) или месяцы (1–36).
6. «Лично / По доверенности»
Если «по доверенности» → обязательно заполнить реквизиты исходной доверенности.

7. Генерация документа — в шаблон подставлять:
данные сторон,

данные объекта,

срок,

основание присутствия (лично/по доверенности).

13 flowchart TD
  START([Старт: Форма "Согласие на приватизацию"])

  %% КТО ДАЁТ СОГЛАСИЕ
  START --> PRINCIPAL[Блок: Лицо, дающее согласие (обяз.):<br/>ФИО / Наименование, ИИН/БИН, дата рожд., адрес регистрации, документ личности (тип/серия/№/кем/дата), контакт]

  PRINCIPAL --> RECIPIENT

  %% КОМУ ДАЁТСЯ (КТО ПРОВОДИТ ПРИВАТИЗАЦИЮ / БЕНЕФИЦИАР)
  RECIPIENT[Блок: Кому даётся согласие (обяз.):<br/>Тип (radio):<br/>- Физическое лицо (ФИО, ИИН, контакт)<br/>- Несколько лиц (перечислить)<br/>- Юридическое лицо (наименование, БИН) — (если применимо)<br/>- Государственный орган / комитет (выбрать из списка)]

  RECIPIENT --> PRIV_TYPE

  %% ТИП ПРИВАТИЗАЦИИ
  PRIV_TYPE{Выберите тип приватизации (обяз., можно несколько):}
  PRIV_TYPE --> PT_HOUSING[Жилая недвижимость (квартира/дом)]
  PRIV_TYPE --> PT_LAND[Земельный участок]
  PRIV_TYPE --> PT_NONRES[Нежилое помещение / коммерч. недвижимость]
  PRIV_TYPE --> PT_SHARE[Приватизация доли / выделение доли]
  PRIV_TYPE --> PT_OTHER[Другое (ручной ввод)]

  PT_HOUSING --> PROPERTY_BLOCK
  PT_LAND --> PROPERTY_BLOCK
  PT_NONRES --> PROPERTY_BLOCK
  PT_SHARE --> PROPERTY_BLOCK
  PT_OTHER --> PROPERTY_BLOCK

  %% ДАННЫЕ ПО ОБЪЕКТУ (ОБЯЗАТЕЛЬНО)
  PROPERTY_BLOCK[Блок: Данные об объекте (обяз.):<br/>- Полный адрес / местоположение<br/>- Кадастровый номер / учётный номер<br/>- Тип/описание (квартира, комната, дом, участок, и т.п.)<br/>- Площадь / этаж / номер помещения<br/>- Правоустанавливающие документы (серия/№, кем/дата)<br/>- Наличие договора социального найма / распоряжения (если есть)]

  PROPERTY_BLOCK --> PRIV_CONDITIONS

  %% УСЛОВИЯ ПРИВАТИЗАЦИИ
  PRIV_CONDITIONS[Условия приватизации (чекбоксы/поля):<br/>- ▢ Приватизация **бесплатно** (по программе)<br/>- ▢ Приватизация **с оплатой** (ввести сумму / механизм оплаты)<br/>- ▢ Приватизация доли (указать долю % или квоту)<br/>- ▢ Согласие на изменение назначения/перепланировку (если требуется)<br/>- ▢ Согласие на передачу прав третьему лицу после приватизации (опц.)]

  PRIV_CONDITIONS --> REQUIRED_DOCS

  %% СПИСОК ТРЕБУЕМЫХ ДОКУМЕНТОВ (DROP LIST)
  REQUIRED_DOCS[Блок: Подтверждающие документы (множественный выбор/typeahead):<br/>▢ [Выбрать всё документы]<br/>- Технический паспорт / БТИ<br/>- Кадастровая выписка<br/>- Договор социального найма (если был)<br/>- Справка о составе семьи (если нужно)<br/>- Паспорт/удостоверение доверителя<br/>- Иные правоустанавливающие документы<br/>- Прочее (ручной ввод)]

  REQUIRED_DOCS --> WHERE_GET

  %% ГДЕ ОФОРМЛЯТЬ / КУДА ПОДАВАТЬ (опционально)
  WHERE_GET[Блок: Куда подавать / орган (typeahead, множественный):<br/>- Акимат / отдел жилищных отношений<br/>- Комитет по имуществу / орган приватизации<br/>- ЦОН / СпецЦОН<br/>- ЖЭК / ТОО управляющая<br/>- Другие (ручной ввод) ]

  WHERE_GET --> APPEAR_TYPE

  %% ЛИЧНО ИЛИ ПО ДОВЕРЕННОСТИ
  APPEAR_TYPE{Обратившийся действует:<br/>- Лично<br/>- По доверенности (radio, обяз.)}
  APPEAR_TYPE -->|Лично| PERSONAL[flag_personal = true] --> VALIDATE_BLOCK
  APPEAR_TYPE -->|По доверенности| POA_IN

  POA_IN --> POA_FIELDS[Поля (обяз. при приходе по доверенности):<br/>- Реестровый номер доверенности (ручной ввод)<br/>- Кем выдана (нотариус/контора)<br/>- Дата выдачи доверенности<br/>- Номер лицензии нотариуса<br/>- Дата выдачи лицензии<br/>- Кем выдана лицензия]

  POA_FIELDS --> VALIDATE_BLOCK

  %% ВАЛИДАЦИЯ (ОБЯЗАТЕЛЬНЫЕ ПРОВЕРКИ)
  subgraph VALIDATE_BLOCK["Валидация перед Generate"]
    VALIDATE[Проверки (обязательно):<br/>- Доверитель заполнен?<br/>- Получатель указан?<br/>- Выбран ≥1 тип приватизации?<br/>- Полные данные об объекте указаны (адрес/кадастр/правоуст.)?<br/>- Указаны условия (бесплатно/с оплатой) — если с оплатой → сумма указана?<br/>- Выбран хотя бы 1 подтверждающий документ (или 'Выбрать всё')?<br/>- Указано место подачи (опц.)?<br/>- При приходе по доверенности — реквизиты введены?</br>]
    VALIDATE -->|Ошибка| SHOW_ERR[Показать ошибки/подсказки у полей]
    VALIDATE -->|OK| GENERATE_BTN[Кнопка "Generate"]
  end

  SHOW_ERR --> CORRECT[Пользователь исправляет] --> VALIDATE

  GENERATE_BTN --> DOC_GEN

  %% ГЕНЕРАЦИЯ ДОКУМЕНТА
  DOC_GEN[Генерация .docx/.pdf по шаблону:<br/>Подстановка: {{PRINCIPAL}}, {{RECIPIENT}}, {{PRIV_TYPE}}, {{PROPERTY_DATA}}, {{PRIV_CONDITIONS}}, {{REQUIRED_DOCS}}, {{WHERE_GET}}, {{POA_INFO}}]

  DOC_GEN --> OUTPUT[Результат: скачать / отправить по e-mail / распечатать]

  OUTPUT --> END([Готово])
Короткие пояснения для разработчика
Тип приватизации — можно разрешить множественный выбор (например: квартира + доля), но UI должен чётко показывать, какие поля обязательны для каждого типа.

Данные по объекту — обязательны и должны включать поле для кадастрового номера; если его нет — показать подсказку «укажите правоустанавливающий документ».

Условия приватизации — важный блок: если выбран «с оплатой», требуется поле суммы/механизма оплаты; если «доля» — поле процента.

Документы — реализовать как drop-list с typeahead и опцией «Выбрать всё документы». Также возможность ручного ввода «другого документа».

Приход по доверенности — реквизиты исходной доверенности вводятся вручную и обязательны в этом случае.

Валидация — блок строгий: генерация документа запрещена до заполнения всех обязательных чеков.

Output — в документе обязательно перечислить: объект (с кадастром), условия приватизации, кто даёт согласие и кому, перечень прикреплённых документов и реквизиты исходной доверенности (если применимо).

14 flowchart TD
  START([Старт: Форма "Согласие на выезд ребёнка с одним из родителей"])

  %% Кто даёт согласие
  START --> WHO_GIVES{Кто даёт согласие?}
  WHO_GIVES -->|Мать| GIVER_M[Блок "Доверитель (дающий согласие)" — Мать:<br/>ФИО, ИИН, док. личности (тип/серия/№/кем/дата), адрес, тел.]
  WHO_GIVES -->|Отец| GIVER_F[Блок "Доверитель (дающий согласие)" — Отец:<br/>ФИО, ИИН, док. личности (тип/серия/№/кем/дата), адрес, тел.]
  WHO_GIVES -->|Оба родителя| GIVER_BOTH[Блок "Доверители" — Мать и Отец (оба заполнить)]

  GIVER_M --> TO_WHOM
  GIVER_F --> TO_WHOM
  GIVER_BOTH --> TO_WHOM

  %% Кому даётся согласие (кому разрешают вывозить)
  TO_WHOM{Кому даётся согласие?}
  TO_WHOM -->|Другому родителю| RECIP_PARENT[Блок "Кому даётся" — Другой родитель:<br/>ФИО, ИИН, док. личности, контакты]
  TO_WHOM -->|Третьему лицу (сопровождающему)| RECIP_3[Блок "Кому даётся" — Третье лицо:<br/>ФИО, ИИН/паспорт, контакты, степень родства/статус (тренер/сопровождающий)]

  RECIP_PARENT --> CHILD_BLOCK
  RECIP_3 --> CHILD_BLOCK

  %% Дети
  CHILD_BLOCK{Дети: количество (1–10)?}
  CHILD_BLOCK --> CHILD_FORM[Форма по каждому ребёнку (1..10):<br/>- ФИО<br/>- ИИН (если есть)<br/>- Дата рождения (валидация: <18)<br/>- Свидетельство о рождении / паспорт №]
  CHILD_FORM --> TRIP_SCOPE

  %% Объём согласия — страны / маршруты
  TRIP_SCOPE{Маршрут поездки}
  TRIP_SCOPE --> WORLD[Чекбокс: "Весь мир" (select all countries)]
  TRIP_SCOPE --> COUNTRIES_LIST[Список стран (typeahead / чекбоксы): выбрать конкретные страны (множественный выбор)]
  TRIP_SCOPE --> REGION_RK[Опция: "В пределах РК" (если только внутренний выезд)]

  WORLD --> TRIP_TYPE
  COUNTRIES_LIST --> TRIP_TYPE
  REGION_RK --> TRIP_TYPE

  %% Тип поездки и срок
  TRIP_TYPE{Тип поездки}
  TRIP_TYPE -->|Единичный выезд| ONE_TRIP[Поле: дата выезда, дата возвращения (опц.)]
  TRIP_TYPE -->|Многократные поездки / на срок| MULTI_TRIP[Поле: срок (дни 1–31 / месяцы 1–36) или период с даты по дату]
  TRIP_TYPE -->|Без ограничения по числу поездок| OPEN_TRIP[Флаг: open = true + опционально срок]

  ONE_TRIP --> CONSENT_ADDITIONAL
  MULTI_TRIP --> CONSENT_ADDITIONAL
  OPEN_TRIP --> CONSENT_ADDITIONAL

  %% Дополнительные опции (медиц. согласие, экстр. связь)
  CONSENT_ADDITIONAL[Доп. опции (чекбоксы):<br/>- Разрешение на получение медицинской помощи (да/нет)<br/>- Разрешение на оформление виз/паспортных формальностей<br/>- Контакт для экстренной связи<br/>- Ограничения (страны/регионы, запрет передоверия и т.п.)]

  CONSENT_ADDITIONAL --> APPEAR_TYPE

  %% Пришёл ли доверитель лично или приносит доверенность/копию
  APPEAR_TYPE{Как оформляется/подаётся согласие?}
  APPEAR_TYPE -->|Лично| PERSONAL[Флаг personal = true] --> VALIDATE
  APPEAR_TYPE -->|По доверенности / приносит копию| POA_IN[Флаг personal = false]

  POA_IN --> POA_FIELDS[Поля (если по доверенности/приносят документ):<br/>- Реестровый номер/серия доверенности (если есть)<br/>- Кем выдана (нотариус / контора)<br/>- Дата выдачи<br/>- Номер лицензии нотариуса (опц.)<br/>- Приложить копию/оригинал (scan/upload)]
  POA_FIELDS --> VALIDATE

  %% ВАЛИДАЦИЯ
  VALIDATE{Валидация перед Generate:<br/>- Все доверители заполнены?<br/>- Поверенный/получатель заполнен?<br/>- Для каждого ребёнка дата рождения < 18?<br/>- Выбран маршрут (страны/весь мир/РК)?<br/>- Для единичного выезда указаны даты? Для многократного — срок корректен?<br/>- Если выбрана опция медпомощи — указан контакт? Если по доверенности — приложен документ?}
  VALIDATE -->|Ошибка| SHOW_ERR[Показать ошибки и подсказки]
  SHOW_ERR --> CORRECT[Пользователь исправляет] --> VALIDATE
  VALIDATE -->|OK| GENERATE[Кнопка "Generate — сформировать согласие"]

  GENERATE --> DOC[Генерация документа (.docx / .pdf):<br/>Подстановка: {{GIVER}}, {{RECIPIENT}}, {{CHILDREN}}, {{COUNTRIES}}, {{DATES_OR_TERM}}, {{ADDITIONAL_OPTIONS}}, {{POA_INFO}}]
  DOC --> END([Готово — скачать / отправить / распечатать])
Короткие пояснения для разработчика (важное)
Возрастная проверка. Если для какого-то ребёнка возраст ≥18 — показать предупреждение: «для совершеннолетних согласие не требуется» и не включать этого ребёнка в документ.

Маршрут. Реализовать 3 варианта: “Весь мир” (select all), выбор конкретных стран (typeahead + чекбоксы), только внутри РК.

Тип поездки. Поддержать единичный выезд (дата от/до), многократные выезды (срок) и «без ограничения» (редкий, но встречается).

Медицинская опция. Многие родители просят разрешение на предоставление медпомощи — это отдельная галочка/строка для подстановки в текст согласия.

Приход по доверенности / прикрепление копий. Часто родители приносят старую доверенность/копию — предусмотри upload и ручной ввод реквизитов исходной доверенности (реестровый номер, кто выдавал).

Валидация. Генерация блокируется пока не пройдены обязательные проверки (доглядывай за датами/возрастом/маршрутом).

Шаблон текста. В шаблоне .docx предусмотри блоки: перечисление детей, список стран/«весь мир», срок/даты, доп. разрешения (мед. помощь) и реквизиты исходной доверенности (если есть).

15 flowchart TD
  START([Старт: Форма "Иное согласие физического лица"])

  %% ДОВЕРИТЕЛЬ / ЛИЦО, ДАЮЩЕЕ СОГЛАСИЕ
  START --> PRINCIPAL[Блок: Лицо, дающее согласие (обяз.)<br/>ФИО, ИИН, дата рожд., адрес, документ личности (тип/серия/№/кем/дата), контакт]

  PRINCIPAL --> CONSENT_TYPE

  %% ТИП СОГЛАСИЯ – КАТЕГОРИИ (ЧЕКБОКСЫ, SELECT ALL)
  subgraph CONSENT_TYPE["Выберите категорию согласия (можно одно или несколько)"]
    direction TB
    CT_LIST[
      ▢ [Выбрать всё категории]<br/>
      - На обработку персональных данных<br/>
      - На получение / выдачу документов<br/>
      - На выполнение административных действий<br/>
      - На участие в мероприятиях / поездках<br/>
      - На выполнение юридически значимых действий<br/>
      - На предоставление доступа к информации<br/>
      - На разрешение использования имущества / объекта<br/>
      - На действия в отношении ребёнка<br/>
      - На любые иные действия (ручной ввод)
    ]
  end

  CONSENT_TYPE --> SUBTYPE_BLOCK

  %% ПОДТИПЫ / КОНКРЕТИЗАЦИЯ (динамические чекбоксы)
  subgraph SUBTYPE_BLOCK["Подтип / конкретизация действия"]
    direction TB
    SUBTYPE_GENERATOR[Для каждой выбранной категории → показывать её подтипы:<br/><br/>
      Примеры:<br/>
      **Персональные данные:**<br/>
      ▢ обработка / хранение / передача<br/>
      ▢ передача третьим лицам<br/>
      ▢ обработка в информационных системах<br/><br/>

      **Выдача документов:**<br/>
      ▢ выдача справок<br/>
      ▢ выдача копий документов<br/>
      ▢ выдача личных документов (указать вручную)<br/><br/>

      **Административные действия:**<br/>
      ▢ подача заявления<br/>
      ▢ получение результата госуслуги<br/>
      ▢ получение уведомлений<br/><br/>

      **Действия в отношении ребенка:**<br/>
      ▢ участие в мероприятии<br/>
      ▢ оформление документов<br/>
      ▢ сопровождение<br/><br/>

      **Иное действие (ручной ввод текста)**<br/>
      Поле ввода: текст согласия вручную
    ]
  end

  SUBTYPE_BLOCK --> TARGET_SECTION

  %% КОМУ / КУДА ДАЁТСЯ СОГЛАСИЕ
  subgraph TARGET_SECTION["Кому / куда даётся согласие (обяз.)"]
    direction TB
    TARGET_CHOICE{Тип получателя согласия}
    TARGET_CHOICE -->|Физическое лицо| TARGET_PHYS[ФИО, ИИН, документ, контакт]
    TARGET_CHOICE -->|Организация| TARGET_ORG[Наименование, БИН, адрес]
    TARGET_CHOICE -->|Госорган| TARGET_GOV[Выбрать из списка (typeahead) + ручной ввод]
    TARGET_CHOICE -->|Иное| TARGET_OTHER[Ручной ввод названия / данных]
  end

  TARGET_SECTION --> OBJECT_SECTION

  %% ОБЪЕКТ СОГЛАСИЯ (если требуется)
  subgraph OBJECT_SECTION["Объект согласия (если действие связано с объектом)"]
    direction TB
    OBJ_NEEDED{Требуется указать объект?}
    OBJ_NEEDED -->|Да| OBJ_FIELDS[Поля объекта (динамические):<br/>- Тип объекта (квартира/дом/документ/данные/ребёнок/имущество/услуга)<br/>- Адрес/местонахождение<br/>- Реквизиты документа / описание<br/>- Данные ребёнка (если применимо): ФИО, ИИН, дата рожд.]
    OBJ_NEEDED -->|Нет| SKIP_OBJ
  end

  OBJ_FIELDS --> TERM_BLOCK
  SKIP_OBJ --> TERM_BLOCK

  %% СРОК ДЕЙСТВИЯ
  subgraph TERM_BLOCK["Срок согласия"]
    direction TB
    TERM_TYPE{Тип срока}
    TERM_TYPE --> TERM_DAYS[Дни (1–31)]
    TERM_TYPE --> TERM_MONTHS[Месяцы (1–36)]
    TERM_TYPE --> TERM_PERIOD[Период (дата с – по)]
    TERM_TYPE --> TERM_UNLIMITED[Бессрочно (галочка — осторожно)]
  end

  TERM_BLOCK --> EXTRA_OPTIONS

  %% ДОПОЛНИТЕЛЬНЫЕ ОПЦИИ / ОГРАНИЧЕНИЯ
  subgraph EXTRA_OPTIONS["Дополнительные параметры согласия"]
    direction TB
    EXTRA_LIST[
      Чекбоксы:<br/>
      - ▢ Передача третьим лицам / организациям<br/>
      - ▢ Получение уведомлений от лица доверителя<br/>
      - ▢ Подпись документов от имени доверителя (только для конкретных действий)<br/>
      - ▢ Получение оригиналов документов<br/>
      - ▢ Получение персональных данных<br/>
      - ▢ Ограничения на использование (ручной ввод)<br/>
      - ▢ Особые условия (ручной ввод)
    ]
  end

  EXTRA_OPTIONS --> APPEAR_TYPE

  %% ЛИЧНО ИЛИ ПО ДОВЕРЕННОСТИ
  APPEAR_TYPE{Обратившийся действует:<br/>Лично / По доверенности (обяз.)}
  APPEAR_TYPE -->|Лично| PERSONAL[flag_personal = true] --> VALIDATE_BLOCK
  APPEAR_TYPE -->|По доверенности| POA

  POA --> POA_FIELDS[Поля (обяз.) при приходе по доверенности:<br/>- Реестровый номер доверенности<br/>- ФИО нотариуса<br/>- Дата выдачи<br/>- Номер лицензии<br/>- Дата выдачи лицензии<br/>- Кем выдана]

  POA_FIELDS --> VALIDATE_BLOCK

  %% ВАЛИДАЦИЯ
  subgraph VALIDATE_BLOCK["Валидация перед генерацией"]
    VALIDATE[Проверить:<br/>- Доверитель заполнен?<br/>- Выбрана ≥1 категория?<br/>- Указан получатель согласия?<br/>- Подтипы / описание действия заполнены?<br/>- Если требуется объект — заполнены поля?<br/>- Срок корректно указан?<br/>- При по доверенности — реквизиты есть?]
    VALIDATE -->|Ошибка| SHOW_ERR[Показать ошибки/подсказки]
    VALIDATE -->|OK| GENERATE[Кнопка "Generate"]
  end

  SHOW_ERR --> FIX[Исправление пользователем] --> VALIDATE

  GENERATE --> DOC[Генерация .docx / .pdf<br/>Подстановка: {{PRINCIPAL}}, {{CATEGORIES}}, {{SUBTYPES}}, {{TARGET}}, {{OBJECT}}, {{TERM}}, {{EXTRA}}, {{POA_INFO}}]

  DOC --> END([Готово])
🔍 Короткие пояснения (для разработчика)
1. Категории → подкатегории
Категория определяет набор подтипов.
Для опции «Иное действие» — открывается ручной ввод текста, который пойдёт в документ.

2. Объект согласия
Появляется динамически, только если действие связано с объектом
(документы, имущество, ребёнок, недвижимость, данные и др.).

3. Получатель соглашения
Физлицо / организация / госорган / иное — универсально.

4. Дополнительные параметры
Нужны для гибких вариантов: передача данных, подписи, ограничения.

5. Валидация
Обязательна перед генерацией, чтобы документ был юридически корректен.

16 flowchart TD
  START([Старт: Форма "Доверенность — участие в собраниях (ОСИ / КСК)"])

  %% ДОВЕРИТЕЛЬ (ВСЕГДА 1)
  START --> PRINCIPAL[Блок: Доверитель (обяз.):<br/>ФИО, ИИН, адрес регистрации, документ личности (тип/серия/№/кем/дата), контакт]

  PRINCIPAL --> AGENT_CHOICE

  %% ПОВЕРЕННЫЕ (1 или 2)
  AGENT_CHOICE{Поверенный: 1 или 2?}
  AGENT_CHOICE -->|1| AGENT1[Поверенный 1 — ФИО, ИИН, док. личности, контакт]
  AGENT_CHOICE -->|2| AGENT2[Поверенные 1 и 2 (аналогично)]

  AGENT1 --> ASSOC_SELECT
  AGENT2 --> ASSOC_SELECT

  %% ВЫБОР ОБЪЕКТА / ОРГАНИЗАЦИИ (ТСЖ/ОСИ/КСК и т.п.)
  ASSOC_SELECT[Блок: Выберите организацию / объект (typeahead / выпадающий список)<br/>▢ [Выбрать всё / множественный выбор]<br/>- Название ТСЖ/ОСИ/КСК<br/>- Адрес дома / комплекс<br/>- Идентификатор (если есть)]

  ASSOC_SELECT --> UNIT_DETAILS

  %% ДАННЫЕ О ЕДИНИЦЕ СОБСТВЕННОСТИ
  UNIT_DETAILS[Блок: Данные по праву собственности (обяз.):<br/>- Номер квартиры / блок/помещения<br/>- Доля (процент) или количество кв. метров<br/>- Свидетельство/правоустанавливающие реквизиты (опц.)<br/>(поддержка множественных единиц, если доверитель — несколько объектов)]

  UNIT_DETAILS --> MEETING_SCOPE

  %% ТИП/ОБЪЁМ СОБРАНИЯ (однократно / серия / период)
  MEETING_SCOPE{Собрание — выбрать режим (обяз.)}
  MEETING_SCOPE -->|Единичное собрание| ONE_MEET[Поле: дата собрания (дата + время) + место проведения]
  MEETING_SCOPE -->|Несколько дат / Повторяющиеся| MULTI_MEET[Список дат / правило (ежемесячно/ежеквартально) или период: с — по]
  MEETING_SCOPE -->|Все собрания за период| PERIOD_MEET[Период: с — по (или N месяцев)]

  ONE_MEET --> AGENDA_BLOCK
  MULTI_MEET --> AGENDA_BLOCK
  PERIOD_MEET --> AGENDA_BLOCK

  %% ПОВЕСТКА / ПУНКТЫ (категории + подпункты) — с SELECT ALL
  AGENDA_BLOCK[Блок: Повестка (чекбоксы, вверху ▢ "Выбрать всё"):<br/>Категории/пункты (пример):<br/>▢ [Выбрать всё пункты]<br/>- Утверждение отчёта правления / бух.отчёта<br/>- Выборы правления / председателя<br/>- Утверждение тарифов / сбора на содержание<br/>- Капитальный ремонт / выделение средств<br/>- Разрешение на сделки с общим имуществом<br/>- Согласование проектов/договоров с подрядчиками<br/>- Иные вопросы (ручной ввод пункта)</br/><br/>→ Для выбранных пунктов можно открыть детальные подпункты/описание (typeahead/ручной ввод)]

  AGENDA_BLOCK --> VOTING_INSTRUCTIONS

  %% ИНСТРУКЦИИ ПО ГОЛОСОВАНИЮ (глобально или по пунктам)
  VOTING_INSTRUCTIONS{Инструкции по голосованию}
  VOTING_INSTRUCTIONS -->|Глобальная инструкция| GLOBAL_VOTE[Глобальная инструкция: ▢ За / ▢ Против / ▢ Воздержаться / ▢ Делегировать решение поверенному]
  VOTING_INSTRUCTIONS -->|По каждому пункту| PER_ITEM[Список пунктов с выбором (За/Против/Воздержаться/Делегировать)]
  VOTING_INSTRUCTIONS -->|Без инструкций (на усмотрение поверенного)| NO_INSTR[Флаг: доверенность даёт свободу решения]

  GLOBAL_VOTE --> POWERS_BLOCK
  PER_ITEM --> POWERS_BLOCK
  NO_INSTR --> POWERS_BLOCK

  %% ПОЛНОМОЧИЯ ПОВЕРЕННОГО (чекбоксы с SELECT ALL)
  POWERS_BLOCK[Блок: Полномочия поверенного (чекбоксы, сверху ▢ "Выбрать всё"):<br/>- Присутствовать и представлять интересы доверителя<br/>- Голосовать по повестке (включая подпункты)<br/>- Подписывать протокол собрания/акт результатов голосования<br/>- Избирать и быть избранным в состав правления/комитетов (если разрешено)<br/>- Подписывать решения собрания от имени доверителя<br/>- Предлагать инициативы/вопросы от имени доверителя<br/>- Заключать договоры/соглашения, одобренные собранием (лимит/условия)<br/>- Получать документы и выписки по решению собрания<br/>- Подавать жалобы/заявления от имени доверителя<br/>- Иные полномочия (ручной ввод)]

  POWERS_BLOCK --> MATERIAL_LIMITS

  %% МАТЕРИАЛЬНЫЕ ОГРАНИЧЕНИЯ / ЛИМИТЫ (если есть)
  MATERIAL_LIMITS[Блок: Материальные / финансовые ограничения (опционально):<br/>- Лимит на согласование расходов (сумма)<br/>- Разрешение заплатить часть взносов (лимит)<br/>- Ограничение на подписание договоров свыше X KZT]

  MATERIAL_LIMITS --> DELEGATION

  %% ПРАВО ПЕРЕДОВЕРИЯ (обязательный выбор)
  DELEGATION{Право передоверия? (radio, обяз.)}
  DELEGATION -->|Да| DELEG_Y[delegation_allowed = true]
  DELEGATION -->|Нет| DELEG_N[delegation_allowed = false]

  DELEG_Y --> APPEAR_TYPE
  DELEG_N --> APPEAR_TYPE

  %% ОБРАЩЕНИЕ: ЛИЧНО ИЛИ ПО ДОВЕРЕННОСТИ (если при приёме нужно указывать)
  APPEAR_TYPE{Обратившийся действует:<br/>- Лично (поверенный пришёл лично)<br/>- По доверенности (поверенный пришёл по доверенности третьего лица) (radio)}
  APPEAR_TYPE -->|Лично| PERSONAL[flag_personal = true] --> VALIDATE
  APPEAR_TYPE -->|По доверенности| POA_IN

  POA_IN --> POA_FIELDS[Поля (обяз. при приходе по доверенности):<br/>- Реестровый номер исходной доверенности (ручной ввод)<br/>- Кем выдана (нотариус / контора)<br/>- Дата выдачи доверенности<br/>- Номер лицензии нотариуса<br/>- Дата выдачи лицензии<br/>- Приложить скан/копию]

  POA_FIELDS --> VALIDATE

  %% ВАЛИДАЦИЯ
  VALIDATE{Валидация перед Generate:<br/>- Доверитель заполнен?<br/>- Поверенные заполнены (1/2)?<br/>- Выбран объект/ТСЖ/дом и заполнены данные по квартире/доле?<br/>- Выбрана дата/период собрания?<br/>- Выбрана повестка (≥1 пункт) или флаг "Выбрать всё"?<br/>- Заданы инструкции по голосованию (если требуется)?<br/>- Выбраны полномочия (≥1)?<br/>- Если есть лимиты — суммы корректны?<br/>- При приходе по доверенности — реквизиты введены?}
  VALIDATE -->|Ошибка| SHOW_ERR[Показать ошибки/подсказки у полей]
  SHOW_ERR --> CORRECT[Пользователь исправляет] --> VALIDATE
  VALIDATE -->|OK| GENERATE[Кнопка "Generate — сформировать доверенность"]

  GENERATE --> DOC[Генерация документа (.docx/.pdf) по шаблону:<br/>Подстановка: {{PRINCIPAL}}, {{AGENTS}}, {{ASSOCIATION}}, {{UNIT_DETAILS}}, {{MEETING_SCOPE}}, {{AGENDA}}, {{VOTING_INSTRUCTIONS}}, {{POWERS}}, {{LIMITS}}, {{POA_INFO}}]

  DOC --> END([Готово — скачать / отправить / распечатать])
Короткие пояснения для разработчика
Повестка / пункты: реализовать компактный список категорий с возможностью раскрытия детальных подпунктов и ручного ввода. Вверху блока — ▢ «Выбрать всё пункты» для быстрого заполнения.

Инструкции по голосованию: дать выбор — глобальная инструкция (один выбор для всех пунктов) или подробные инструкции по каждому пункту.

Полномочия: чекбоксы + опция «Выбрать всё полномочия». Для подписания договоров/финансовых операций — обязательный лимит.

Множественные единицы собственности: поддержать, если доверитель владеет несколькими квартирами/долями — каждая единица должна быть указана.

Право передоверия: radio required.

Приход по доверенности: предусмотреть ручной ввод реквизитов исходной доверенности и загрузку скана.

Валидация: обязательна — генерация запрещена пока не пройдены ключевые проверки.

Шаблон документа: предусмотреть плейсхолдеры перечислённые в диаграмме; выводить читаемый список пунктов повестки + инструкции по голосованию.

17 flowchart TD
  START([Старт: Форма "Доверенность — управление недвижимым имуществом (кроме продажи)"])

  %% ДОВЕРИТЕЛЬ
  START --> PRINCIPAL[Блок: Доверитель (обяз.)<br/>Поля: ФИО, ИИН, адрес прописки/регистрации, документ личности (тип/серия/№/кем/дата), контакт]

  PRINCIPAL --> AGENT_CHOICE

  %% ПОВЕРЕННЫЕ (1 или 2)
  AGENT_CHOICE{Поверенный: 1 или 2?}
  AGENT_CHOICE -->|1| AGENT1[Поверенный 1 — ФИО, ИИН, док. личности, адрес, телефон]
  AGENT_CHOICE -->|2| AGENT2[Поверенный 1 и Поверенный 2 (аналогично)]

  AGENT1 --> PROPERTY_BLOCK
  AGENT2 --> PROPERTY_BLOCK

  %% ДАННЫЕ ОБЪЕКТА НЕДВИЖИМОСТИ
  PROPERTY_BLOCK[Блок: Объект недвижимости (обяз.):<br/>- Тип объекта (квартира / дом / нежилое / земельный участок)<br/>- Полный адрес (улица, дом, кв.)<br/>- Кадастровый/кадастровый номер (если есть)<br/>- Правоустанавливающие документы (серия/№/кем/дата)<br/>- Доля (%) если совместная собственность<br/>- Доп. поле: «несколько объектов» (поддержка множеств)]

  PROPERTY_BLOCK --> POWERS_BLOCK

  %% ОБЪЁМ ПОЛНОМОЧИЙ (ЧЕКБОКСЫ С SELECT ALL)
  POWERS_BLOCK[Блок: Полномочия управления (чекбоксы, сверху ▢ "Выбрать всё"):<br/>
    - ▢ Управление и содержание объекта (общие действия)<br/>
    - ▢ Оформлять прописку/снимать с регистрационного учета (регистрация по месту жительства)<br/>
    - ▢ Заключать/расторгать договоры аренды и субаренды<br/>
    - ▢ Подписывать акты приёма-передачи арендаторов и документы по заселению/выселению<br/>
    - ▢ Принимать и возвращать залоги/депозиты арендаторов<br/>
    - ▢ Получать арендную плату и другие платежи (с указанием лимитов, если нужно)<br/>
    - ▢ Вести переговоры с арендаторами и подрядчиками<br/>
    - ▢ Организовывать текущий/капитальный ремонт, подписывать акты выполненных работ<br/>
    - ▢ Оплачивать коммунальные, налоговые и иные платежи от имени доверителя (указать лимиты)<br/>
    - ▢ Представлять интересы в госорганах/ЦОН/регистрах по вопросам учета/техдокументов<br/>
    - ▢ Получать и подавать документы, выписки, справки по объекту<br/>
    - ▢ Оформлять доверенности третьим лицам на выполнение отдельных работ (передоверие) — при наличии права передоверия<br/>
    - ▢ Иные управленческие полномочия (ручной ввод)]
  
  POWERS_BLOCK --> FIN_LIMITS

  %% МАТЕРИАЛЬНЫЕ ОГРАНИЧЕНИЯ / ЛИМИТЫ
  FIN_LIMITS[Блок: Финансовые ограничения (опционально):<br/>- Лимит на одну операцию (сумма + валюта)<br/>- Суммарный лимит за период<br/>- Ограничение на подписание договоров/соглашений свыше X KZT]

  FIN_LIMITS --> DOC_REQ

  %% ТРЕБОВАНИЯ К ДОКУМЕНТАМ / БАНКУ (ОПЦИОНАЛЬНО)
  DOC_REQ[Блок: Доп. требования (чекбоксы/текст):<br/>- Требуется оригинал доверенности при обращении<br/>- Достаточно нотариально заверенной копии<br/>- Потребовать отчет о выполненных работах (периодически)<br/>- Особые требования / примечания (ручной ввод)]

  DOC_REQ --> TERM

  %% СРОК ДОВЕРЕННОСТИ
  TERM{Срок доверенности}
  TERM --> TERM_DAYS[Дни (1–31)]
  TERM --> TERM_MONTHS[Месяцы (1–36)]

  TERM_DAYS --> DELEGATION
  TERM_MONTHS --> DELEGATION

  %% ПРАВО ПЕРЕДОВЕРИЯ (обязательный выбор)
  DELEGATION{Право передоверия? (radio, обяз.)}
  DELEGATION -->|Да| DELEG_Y[delegation_allowed = true]
  DELEGATION -->|Нет| DELEG_N[delegation_allowed = false]

  DELEG_Y --> APPEAR_TYPE
  DELEG_N --> APPEAR_TYPE

  %% ОБРАЩЕНИЕ: ЛИЧНО ИЛИ ПО ДОВЕРЕННОСТИ
  APPEAR_TYPE{Обратившийся: личным приходом или по доверенности? (radio)}
  APPEAR_TYPE -->|Лично| PERSONAL[flag_personal = true] --> VALIDATE
  APPEAR_TYPE -->|По доверенности| POA_IN

  POA_IN --> POA_FIELDS[Поля (обязательно при приходе по доверенности):<br/>- Реестровый номер/серия доверенности (ручной ввод)<br/>- Кем выдана (ФИО нотариуса / нотариальная контора)<br/>- Дата выдачи доверенности<br/>- Номер лицензии нотариуса<br/>- Дата выдачи лицензии<br/>- Кем выдана лицензия<br/>- Прикрепить скан/копию доверенности]

  POA_FIELDS --> VALIDATE

  %% ВАЛИДАЦИЯ ФОРМЫ
  VALIDATE{Валидация (обязательно):<br/>- Доверитель заполнен?<br/>- Поверенный(е) заполнены?<br/>- Объект недвижимости полностью описан?<br/>- Выбраны ≥1 управленческих полномочий?<br/>- Если выбраны операции с оплатой/получением денег — указаны лимиты?<br/>- Срок в пределах допустимого?<br/>- При приходе по доверенности — реквизиты введены и/или приложен скан?}

  VALIDATE -->|Ошибка| SHOW_ERR[Показать ошибки/подсказки у полей]
  SHOW_ERR --> CORRECT[Пользователь исправляет] --> VALIDATE

  VALIDATE -->|OK| GENERATE_BTN[Кнопка "Generate" — сформировать доверенность]

  GENERATE_BTN --> DOC_GEN

  %% ГЕНЕРАЦИЯ ДОКУМЕНТА
  DOC_GEN[Генерация документа (.docx/.pdf):<br/>Подстановка плейсхолдеров:<br/>{{PRINCIPAL}}, {{AGENTS}}, {{PROPERTY}}, {{POWERS_LIST}}, {{FIN_LIMITS}}, {{DOC_REQ}}, {{TERM}}, {{DELEGATION}}, {{POA_INFO}}]

  DOC_GEN --> OUTPUT[Результат: скачать / отправить / распечатать / сохранить в истории]
  OUTPUT --> END([Готово])
Короткие пояснения для разработчика
Обязательные поля: обязательно заполнить блок PROPERTY_BLOCK (адрес/кадастр/правоустанавливающие данные) и хотя бы одно управление (POWERS_BLOCK).

Верификация финансовых операций: если выбраны пункты «получать арендную плату» или «оплачивать коммунальные платежи», обязательно показывать блок FIN_LIMITS.

Право передоверия: если пользователь выбирает «Да», то в тексте доверенности автоматически добавлять формулировку о пределе/условиях передоверия (или поле для ручного ввода ограничений).

Приход по доверенности: реквизиты исходной доверенности вводятся вручную и скан/копия может быть загружена — это часто требуется при проверке у госорганов/банков.

UI: для POWERS_BLOCK и прочих длинных списков — предусмотреть опцию «▢ Выбрать всё», typeahead-подсказки для адреса и справочник кадастров/справочник типов объекта.

Аудит: сохранить историю генераций (кто сгенерировал, когда, какие поля были выбраны) — важно для нотариальной практики.

18 flowchart TD
  START([Старт: Форма "Согласие родственника на выезд на ПМЖ"])

  %% КТО ДАЁТ СОГЛАСИЕ
  START --> GIVER_TYPE{Кто даёт согласие? (обяз.)}

  GIVER_TYPE -->|Родитель| GIVER_PARENT[Блок: Дает согласие — Родитель:<br/>ФИО, ИИН, дата рождения,<br/>документ личности (тип/серия/№/кем/дата),<br/>адрес регистрации]
  GIVER_TYPE -->|Супруг/супруга| GIVER_SPOUSE[Блок: Дает согласие — Супруг/супруга:<br/>ФИО, ИИН, документ личности,<br/>адрес, данные о браке (опц.)]
  GIVER_TYPE -->|Совершеннолетний ребенок| GIVER_CHILD[Блок: Дает согласие — Совершеннолетний ребенок:<br/>ФИО, ИИН, документ, адрес]
  GIVER_TYPE -->|Иной родственник| GIVER_REL[Блок: Дает согласие — Иной родственник:<br/>ФИО, ИИН, родство (ручной ввод), документ, адрес]

  GIVER_PARENT --> RECIPIENT
  GIVER_SPOUSE --> RECIPIENT
  GIVER_CHILD --> RECIPIENT
  GIVER_REL --> RECIPIENT

  %% КОМУ ДАЁТСЯ СОГЛАСИЕ
  RECIPIENT[Кому даётся согласие (обяз.):<br/>Лицо, выезжающее на ПМЖ:<br/>ФИО, ИИН, дата рождения, документ личности]

  RECIPIENT --> COUNTRY_BLOCK

  %% ВЫБОР СТРАНЫ ПМЖ
  COUNTRY_BLOCK{Страна ПМЖ (обяз.)}
  COUNTRY_BLOCK --> WORLD[Весь мир (редкое — select all)]
  COUNTRY_BLOCK --> COUNTRY_LIST[Выбрать страну (typeahead)]  
  COUNTRY_LIST --> CITY[Город/регион ПМЖ (ручной ввод)]

  WORLD --> CITY
  CITY --> PURPOSE

  %% ЦЕЛЬ / СУТЬ СОГЛАСИЯ
  PURPOSE[Суть согласия (автоматический блок):<br/>“Даю согласие на выезд <br/>{{RECIPIENT_FULLNAME}} <br/>на постоянное место жительства в {{COUNTRY}}.”]

  PURPOSE --> ADD_INFO

  %% ДОПОЛНИТЕЛЬНЫЕ ПАРАМЕТРЫ
  ADD_INFO[Дополнительные параметры (чекбоксы):<br/>
    ▢ Согласие на снятие с регистрационного учета<br/>
    ▢ Согласие на оформление выездных документов<br/>
    ▢ Согласие на выезд вместе с несовершеннолетними детьми (если указано)<br/>
    ▢ Подтверждение отсутствия имущественных претензий (часто требуется)<br/>
    ▢ Отсутствие препятствий со стороны родственника<br/>
    ▢ Иное (ручной ввод)]

  ADD_INFO --> MINORS_BLOCK

  %% НЕСОВЕРШЕННОЛЕТНИЕ ДЕТИ (если едут вместе)
  MINORS_BLOCK{Выезжают ли несовершеннолетние дети?}
  MINORS_BLOCK -->|Да| MINORS_DATA[Данные детей (1–10):<br/>ФИО, ИИН, дата рождения,<br/>свидетельство о рождении]
  MINORS_BLOCK -->|Нет| SKIP_MINORS

  MINORS_DATA --> TERM
  SKIP_MINORS --> TERM

  %% СРОК
  TERM{Срок действия согласия}
  TERM --> TERM_DAYS[Дни (1–31)]
  TERM --> TERM_MONTHS[Месяцы (1–36)]
  TERM --> TERM_OPEN[Бессрочно]

  TERM_DAYS --> APPEAR
  TERM_MONTHS --> APPEAR
  TERM_OPEN --> APPEAR

  %% ПРИХОД ЛИЧНО / ПО ДОВЕРЕННОСТИ
  APPEAR{Обратившийся действует: лично или по доверенности?}
  APPEAR -->|Лично| PERSONAL[flag_personal = true] --> VALIDATE
  APPEAR -->|По доверенности| POA_IN

  POA_IN --> POA_FIELDS[Заполнить реквизиты доверенности:<br/>- Реестровый номер<br/>- Кем выдана (ФИО нотариуса)<br/>- Номер лицензии<br/>- Дата выдачи доверенности<br/>- Дата выдачи лицензии<br/>- Прикрепить копию]

  POA_FIELDS --> VALIDATE

  %% ВАЛИДАЦИЯ
  VALIDATE{Проверка (обяз.):<br/>- Выбран тип родственника?<br/>- Данные дающего согласие корректны?<br/>- Данные выезжающего на ПМЖ заполнены?<br/>- Страна ПМЖ указана?<br/>- Если едут дети — заполнены их данные?<br/>- Срок указан?<br/>- При "по доверенности" введены все реквизиты?}
  VALIDATE -->|Ошибка| SHOW_ERR[Показать ошибки/подсказки]
  SHOW_ERR --> CORRECT[Исправление] --> VALIDATE
  VALIDATE -->|OK| GENERATE[Generate — сформировать согласие]

  GENERATE --> DOC[Генерация документа (.docx/.pdf):<br/>Поля: {{GIVER}}, {{RECIPIENT}}, {{COUNTRY}}, {{MINORS}}, {{EXTRA_OPTIONS}}, {{TERM}}, {{POA_INFO}}]

  DOC --> END([Готово])
🧠 Дополнительная логика, нужная твоим разработчикам
1. Кто может давать согласие?
Надо дать выбор:

Родитель

Супруг/супруга

Совершеннолетний сын/дочь

Другой родственник (мама/папа супруга, брат/сестра и т.д.)

Система не должна ограничивать — реально органы иногда требуют согласия «совместно проживающих» родственников.

2. Что должно быть обязательно?
Страна ПМЖ

Данные выезжающего

Данные дающего согласие

Срок согласия

Опционально — дети, если едут с ним

3. Важные дополнительные галочки (часто требуют):
«Отсутствие имущественных претензий»

«Разрешение на снятие с регистрационного учета»

«Разрешение МВД на оформление ПМЖ»

19 flowchart TD
  START([Старт: Форма "Согласие на регистрацию (временную / постоянную)"])

  %% ДОВЕРИТЕЛЬ — КТО ДАЁТ СОГЛАСИЕ (СОБСТВЕННИК / НАЕМОДАТЕЛЬ / ПРОЖИВАЮЩИЙ)
  START --> WHO_GIVES{Кто даёт согласие? (обяз.)}
  WHO_GIVES -->|Собственник помещения| GIVER_OWNER[Блок: Доверитель — собственник:<br/>ФИО, ИИН, адрес прописки, док. личности (тип/серия/№/кем/дата), контакт]
  WHO_GIVES -->|Наниматель / арендодатель| GIVER_LANDLORD[Блок: Доверитель — арендодатель:<br/>ФИО/Наим., ИИН/БИН, договор аренды № (опц.), док. личности, контакт]
  WHO_GIVES -->|Проживающий (даёт согласие сосед/совладелец)| GIVER_RES[Блок: Доверитель — проживающий:<br/>ФИО, ИИН, док., отношение к объекту]

  GIVER_OWNER --> RECIPIENT_TYPE
  GIVER_LANDLORD --> RECIPIENT_TYPE
  GIVER_RES --> RECIPIENT_TYPE

  %% КОМУ ДАЁТСЯ СОГЛАСИЕ (КТО РЕГИСТРИРУЕТСЯ)
  RECIPIENT_TYPE[Кому даётся согласие (обяз.):<br/>Тип (radio):<br/>- Физическое лицо (сам регистрирующийся)<br/>- Несколько лиц (семья) — добавить формы для каждого<br/>Поля: для каждого — ФИО, ИИН, дата рожд., док. личности]

  RECIPIENT_TYPE --> REGISTRATION_TYPE

  %% ТИП РЕГИСТРАЦИИ
  REGISTRATION_TYPE{Тип регистрации (обяз., выбрать один или оба)}
  REGISTRATION_TYPE -->|Временная| TEMP[Чекбокс: Временная регистрация]
  REGISTRATION_TYPE -->|Постоянная| PERM[Чекбокс: Постоянная регистрация]
  TEMP --> ADDRESS_BLOCK
  PERM --> ADDRESS_BLOCK

  %% ДАННЫЕ ПО АДРЕСУ (ОБЯЗАТЕЛЬНО)
  ADDRESS_BLOCK[Блок: Данные объекта (обяз.):<br/>- Полный адрес (обяз.) — улица, дом, корпус, квартира/помещение<br/>- Кадастровый/адресный код (если есть)<br/>- Право / основание проживания собственника (серия/№ правоустанавливающего док.)<br/>- Для аренды: № договора аренды, срок аренды]

  ADDRESS_BLOCK --> PERIOD_OR_DATES

  %% СРОК ДЛЯ ВРЕМЕННОЙ / ДАТЫ
  PERIOD_OR_DATES{Если Временная — выбрать формат срока}
  PERIOD_OR_DATES -->|Даты| DATES[Поля: дата начала, дата окончания (обяз. при временной)]
  PERIOD_OR_DATES -->|Срок в днях/месяцах| TERM[Поля: дни (1–31) или месяцы (1–36)]
  DATES --> PURPOSE_BLOCK
  TERM --> PURPOSE_BLOCK
  %% Если постоянная — пропускаем срок
  REGISTRATION_TYPE -->|Постоянная| PURPOSE_BLOCK

  %% ЦЕЛЬ И УСЛОВИЯ СОГЛАСИЯ
  PURPOSE_BLOCK[Цель/условия согласия (чекбоксы / текст):<br/>- Регистрация для проживания (основное место проживания)<br/>- Регистрация для временного проживания (учёба/работа)<br/>- Согласие на постановку/снятие с регистрационного учёта<br/>- Согласие только с уведомлением собственника (без полного прав)<br/>- Ограничения/условия (ручной ввод)]

  PURPOSE_BLOCK --> DOCS_BLOCK

  %% СПИСОК ПОДТВЕРЖДАЮЩИХ ДОКУМЕНТОВ (DROP-LIST)
  DOCS_BLOCK[Блок: Документы (drop-list, множественный выбор, "Выбрать всё"):<br/>- Паспорт/удостоверение<br/>- Договор аренды<br/>- Правоустанавливающие документы на объект<br/>- Согласие совладельцев (если есть)<br/>- Свидетельство о праве собственности<br/>- Справка о составе семьи<br/>- Другое (ручной ввод)]

  DOCS_BLOCK --> APPEAR_TYPE

  %% ЛИЧНО ИЛИ ПО ДОВЕРЕННОСТИ
  APPEAR_TYPE{Как подаётся согласие при регистрации?<br/>- Лично (собственник/доверитель пришёл) <br/>- По доверенности (представитель приносит согласие/документы) (обяз.)}
  APPEAR_TYPE -->|Лично| PERSONAL[flag_personal = true] --> VALIDATE
  APPEAR_TYPE -->|По доверенности| POA_IN

  POA_IN --> POA_FIELDS[Поля (обяз. при приходе по доверенности):<br/>- Реестровый номер доверенности (ручной ввод)<br/>- Кем выдана (ФИО нотариуса / контора)<br/>- Дата выдачи доверенности<br/>- Номер лицензии нотариуса<br/>- Дата выдачи лицензии<br/>- Прикрепить скан / копию доверенности]

  POA_FIELDS --> VALIDATE

  %% ДОПОЛНИТЕЛЬНЫЕ ОПЦИИ
  VALIDATE_PREP[Доп. опции (чекбоксы):<br/>- Разрешить регистрацию только конкретных лиц (перечислить)<br/>- Разрешить регистрацию с правом дальнейшей передачи прав третьим лицам<br/>- Нотировать требование предъявления оригиналов документов при регистрации]

  VALIDATE_PREP --> VALIDATE

  %% ВАЛИДАЦИЯ ПЕРЕД ГЕНЕРАЦИЕЙ
  VALIDATE{Валидация (обязательно):<br/>- Доверитель/собственник заполнен?<br/>- Для каждого регистрируемого указаны ФИО и ИИН?<br/>- Адрес объекта полностью указан?<br/>- При временной регистрации — даты/срок корректны?<br/>- Выбран хотя бы один подтверждающий документ?<br/>- Если по доверенности — реквизиты введены и/или приложен скан?<br/>- При ограничениях — указаны условия?}
  VALIDATE -->|Ошибка| SHOW_ERR[Показать ошибки / подсказки у полей]
  SHOW_ERR --> CORRECT[Пользователь исправляет] --> VALIDATE
  VALIDATE -->|OK| GENERATE[Кнопка "Generate — сформировать согласие"]

  GENERATE --> DOC[Генерация документа (.docx/.pdf):<br/>Подстановка: {{GIVER}}, {{RECIPIENTS}}, {{ADDRESS}}, {{REG_TYPE}}, {{DATES_OR_TERM}}, {{DOCS_LIST}}, {{CONDITIONS}}, {{POA_INFO}}]

  DOC --> END([Готово — скачать / отправить / распечатать])
Короткие пояснения для разработчика
Ключевые обязательные поля:

данные дающего согласие (собственник / арендодатель / проживающий),

данные регистрируемых лиц (ФИО + ИИН),

полный адрес объекта,

для временной регистрации — даты/срок.

Документы: реализовать как drop-list с typeahead и опцией «▢ Выбрать всё».

Приход по доверенности: при выборе «По доверенности» — показать обязательные поля для реквизитов исходной доверенности и возможность загрузки скана.

Ограничения: дать возможность прописывать условия (кто именно, на какой срок, ограничения по комнатам и т.д.).

Валидация: генерация запрещена до заполнения всех обязательных проверок.

Шаблон: в документ подставлять читаемо адрес + список регистрируемых + срок/даты + перечень приложенных документов + реквизиты доверенности (если есть).

20 flowchart TD
  START([Старт: Форма "Заявление об отмене (отзыве) доверенности"])

  %% КТО ПОДАЁТ
  START --> APPLICANT_TYPE{Кто подаёт заявление?}
  APPLICANT_TYPE -->|Доверитель (тот, кто выдал доверенность)| APPLICANT_PRINCIPAL[Блок "Заявитель — Доверитель":<br/>ФИО, ИИН, док. личности (тип/серия/№/кем/дата), адрес, контакт]
  APPLICANT_TYPE -->|Поверенный (тот, кому выдана доверенность)| APPLICANT_AGENT[Блок "Заявитель — Поверенный (если действует по встречной доверенности/соглашению)":<br/>ФИО, ИИН, док., контакт, основание (письменное/суд) — опц.]
  APPLICANT_TYPE -->|Третье лицо / Представитель| APPLICANT_OTHER[Блок "Иное лицо":<br/>ФИО, ИИН, док., отношение к доверенности (копия/доказательства), документ-основание полномочий (при наличии)]

  APPLICANT_PRINCIPAL --> POA_DETAILS
  APPLICANT_AGENT --> POA_DETAILS
  APPLICANT_OTHER --> POA_DETAILS

  %% РЕКВИЗИТЫ ОТМЕНЯЕМОЙ ДОВЕРЕННОСТИ
  POA_DETAILS[Блок "Реквизиты доверенности (обязательно заполнить)"]    
  POA_DETAILS --> POA_FIELDS[
    - Реестровый / регистрационный номер доверенности (если есть) (text)<br/>
    - Дата выдачи доверенности (date)<br/>
    - Кем выдана (ФИО нотариуса / нотариальная контора)<br/>
    - Номер лицензии нотариуса (text)<br/>
    - Дата выдачи лицензии (date)<br/>
    - Кем выдана лицензия (орган) (text)<br/>
    - Краткое содержание доверенности / цель (text)
  ]

  POA_FIELDS --> ORIGINAL_AVAIL

  %% НАЛИЧИЕ ОРИГИНАЛА / КОПИИ
  ORIGINAL_AVAIL{Есть ли оригинал или копия доверенности?}
  ORIGINAL_AVAIL -->|Оригинал есть| ORIGINAL_UPLOAD[Загрузить оригинал (file upload) + просканировать]
  ORIGINAL_AVAIL -->|Копия есть| COPY_UPLOAD[Загрузить нотариально заверенную копию / копию с отметками]
  ORIGINAL_AVAIL -->|Нет документов| NO_DOCS[Формировать заявление без оригинала/копии — потребовать доказательства/ссылки]

  ORIGINAL_UPLOAD --> NOTARY_VERIFY
  COPY_UPLOAD --> NOTARY_VERIFY
  NO_DOCS --> NOTARY_VERIFY

  %% ВЕРИФИКАЦИЯ НОТАРИУСОМ
  NOTARY_VERIFY[Действия нотариуса:<br/>- Проверка личности заявителя (ID)<br/>- Проверка загруженных документов<br/>- Проверка соответствия реквизитов доверенности]
  NOTARY_VERIFY --> CHECK_REGISTRY

  %% ПРОВЕРКА РЕЕСТРА/БАЗЫ (ОПЦИОНАЛЬНО)
  CHECK_REGISTRY{Проверка реестра/электронной базы нотариусов/реестра доверенностей}
  CHECK_REGISTRY -->|Найдена запись / совпадение| REG_FOUND[Пометка: запись найдена — показать данные (совпадают/не совпадают)]
  CHECK_REGISTRY -->|Запись не найдена| REG_NOT_FOUND[Запись не найдена — пометка, запросить доп. сведения или связаться с выдавшим нотариусом]

  REG_FOUND --> VALIDITY_DECISION
  REG_NOT_FOUND --> VALIDITY_DECISION

  %% РЕШЕНИЕ НОТАРИУСА / ПРОВЕРКИ
  VALIDITY_DECISION{Пройдена ли верификация и есть ли основание для отмены?}
  VALIDITY_DECISION -->|Да| PROCEED_REVOKE[Оформить заявление об отмене:]
  VALIDITY_DECISION -->|Нет / Нужны доп. документы| REQUEST_MORE[Запросить дополнительные документы / разъяснения (уведомление заявителю)]

  REQUEST_MORE --> WAIT_FOR_DOCS[Ожидание документов (upload/предоставление)] --> NOTARY_VERIFY

  %% ОФОРМЛЕНИЕ ЗАЯВЛЕНИЯ И РЕГИСТРАЦИЯ
  PROCEED_REVOKE --> REVOKE_FORM[Сформировать текст заявления/распоряжения об отзыве:<br/>- указать реквизиты отменяемой доверенности<br/>- указать заявителя и основание отзыва<br/>- дата отзыва (момент вступления в силу)<br/>- пометка: уведомить поверенного (галочка/поле контакта)]
  REVOKE_FORM --> REGISTRATION_ACTION

  REGISTRATION_ACTION{Действия после оформления}
  REGISTRATION_ACTION -->|Зарегистрировать отзыв в реестре| REGISTER_REVOKE[Запись в реестре / регистрационной книге (если применяется)]
  REGISTRATION_ACTION -->|Оповестить поверенного| NOTIFY_AGENT[Отправить уведомление поверенному (e-mail/SMS/почта) — опция]
  REGISTRATION_ACTION -->|Выдать подтверждение заявителю| ISSUE_RECEIPT[Выдать заявителю подтверждение о принятии/об оформлении отзыва (PDF/печать)]

  REGISTER_REVOKE --> ISSUE_RECEIPT
  NOTIFY_AGENT --> ISSUE_RECEIPT

  ISSUE_RECEIPT --> END_OK([Готово — заявление оформлено / действие принято])
Короткие пояснения (что обязательно и как работает)
Обязательные поля (для UI / бэка)
Кто подаёт заявление: выбор (доверитель / поверенный / иное лицо).

Данные заявителя: ФИО, ИИН, документ личности (тип/серия/№/кем/дата), адрес, контакт.

Реквизиты отменяемой доверенности: реестровый номер (если есть), дата выдачи, кем выдана (ФИО/контора нотариуса), номер лицензии нотариуса, дата выдачи лицензии, кем выдана лицензия.

Наличие оригинала/копии (файл) — поле upload.

Причина/основание отмены (текстовое поле, опционально, но полезно).

Параметр «уведомить поверенного» + контактные данные (если нужно).

Подпись/дата — итоговое оформление.

Валидация и логика
Если есть реестровый номер — система должна попытаться сверить с реестром (если он доступен). Если запись находится — показать данные и сравнить.

Если оригинал или нотариально заверенная копия загружены — ускоряет процедуру; при их отсутствии — нотариус может запросить доп. доказательства или связаться с выдавшим нотариусом.

Нотариус принимает решение о возможности оформления отзыва (есть ли полномочия заявителя). Если всё в порядке — формируется заявление/распоряжение об отзыве и, при наличии реестра, делается запись.

Опция уведомить поверенного — добавляет шаг отправки уведомления (email/SMS/почта).

Формат выходного документа
Генерируется заявление/распоряжение в .docx/.pdf с плейсхолдерами:
{{APPLICANT_FIO}}, {{APPLICANT_IIN}}, {{POA_REG_NUMBER}}, {{POA_ISSUE_DATE}}, {{POA_ISSUED_BY}}, {{NOTARY_LICENSE_NO}}, {{LICENSE_ISSUE_DATE}}, {{REVOKE_DATE}}, {{REASON_TEXT}}, {{NOTIFY_AGENT_FLAG}}.

21 flowchart TD
  START([Старт: Форма "Заявление о принятии / отказе от наследства"])

  %% ШАГ 1 — Выбор действия
  START --> ACTION{Выберите действие (обязательно)}
  ACTION -->|Принять наследство| ACCEPT
  ACTION -->|Отказаться от наследства| RENOUNCE

  %% ОБЩИЙ БЛОК: Кто подаёт
  subgraph APPLICANT_BLOCK [Кто подаёт заявление? (выбор обязательно)]
    direction TB
    AP1[Наследник по завещанию]
    AP2[Наследник по закону (родство)]
    AP3[Исполнитель завещания]
    AP4[Законный представитель (опекун/попечитель)]
    AP5[Представитель по доверенности]
    AP6[Кредитор / иное заинтересованное лицо (если применимо)]
  end

  ACCEPT --> APPLICANT_BLOCK
  RENOUNCE --> APPLICANT_BLOCK

  %% Проверка полномочий заявителя
  APPLICANT_BLOCK --> CHECK_AUTH{Если заявитель не наследник<br/>— есть ли полномочия действовать?}
  CHECK_AUTH -->|Да: доверенность / опека / документ| AUTH_OK[Требуется загрузить полномочия (доверенность, приказ опеки, решение суда)]
  CHECK_AUTH -->|Нет| AUTH_FAIL[Ошибка: заявитель не вправе подавать без документов → уведомление]

  AUTH_FAIL --> END_FAIL([Заявление отклонено / запрос на полномочия])

  AUTH_OK --> DECEASED_DATA

  %% ДАННЫЕ УМЕРШЕГО И СИТУАЦИЯ
  DECEASED_DATA[Данные умершего (обяз.):<br/>- ФИО<br/>- Дата смерти<br/>- Место последнего жительства<br/>- Наличие/отсутствие завещания (файл/рег.№ если есть)<br/>- Краткая информация о составе наследников (если известна)]

  DECEASED_DATA --> DOCS_REQUIRED

  %% СПИСОК ДОКУМЕНТОВ
  DOCS_REQUIRED[Документы, которые нужно приложить (типичный набор):<br/>▢ Паспорт заявителя<br/>▢ Свидетельство о смерти<br/>▢ Завещание (если есть)<br/>▢ Документы, подтверждающие родство / право наследования<br/>▢ Доверенность / решение опеки / документы представителя (если применимо)<br/>▢ Выписки/документы на имущество (если заявитель принимает только часть) <br/>▢ Иные документы (по требованию нотариуса)]

  DOCS_REQUIRED --> MINORS_CHECK

  %% СПЕЦИФИКА: несовершеннолетние / недееспособные
  MINORS_CHECK{Заявитель или наследник — несовершеннолетний/недееспособный?}
  MINORS_CHECK -->|Да| GUARDIAN_BLOCK[Требуется: заявление от законного представителя (опекуна), решение опеки/суд разрешение (если требуется); загрузить документы]
  MINORS_CHECK -->|Нет| NO_GUARDIAN

  GUARDIAN_BLOCK --> NOTARY_VERIFY
  NO_GUARDIAN --> NOTARY_VERIFY

  %% ТОЧЕЧНЫЕ ВЕТКИ: Принятие или отказ — дополнительные вопросы
  NOTARY_VERIFY --> ACTION_SPECIFIC

  subgraph ACTION_SPEC["Особенности в зависимости от действия"]
    direction TB
    A_ACCEPT[Если действие = Принятие:<br/>- Указать: принять **полностью** или **с ограничением** (например: после инвентаризации) (опц.)<br/>- Указать, принимается ли имущество вместе с долгами или с отказом от долгов (опц./юрид. примечание)]
    A_RENOUNCE[Если действие = Отказ:<br/>- Указать: полный отказ или частичный отказ (конкретизация объектов)<br/>- Подтвердить, что отказ добровольный и осознанный]
  end

  ACTION_SPECIFIC --> NOTARY_CHECKS

  %% ПРОВЕРКИ НОТАРИУСА
  NOTARY_CHECKS[Действия нотариуса / системы (верификация):<br/>- Проверка личности заявителя<br/>- Проверка подлинности документов<br/>- Проверка наличия реестровых записей / предыдущих заявлений<br/>- Уточнение других наследников / уведомление заинтересованных лиц (если требуется)<br/>- Проверка сроков подачи заявления (если применимо) — подсказка: уточнить законодательно)]

  NOTARY_CHECKS --> ADD_REQUIREMENTS

  %% Доп. требования: уведомления, судебные разрешения
  ADD_REQUIREMENTS{Потребуются ли дополнительные действия?}
  ADD_REQUIREMENTS -->|Да: уведомление / согласие других наследников / судебное решение| REQ_ACTIONS[Нотариус формирует запросы:<br/>- Уведомить остальных наследников (письменно/по реестру)<br/>- Потребовать согласия/отказа от других наследников<br/>- При необходимости — направление в суд за разрешением (например, споры, опека)]
  ADD_REQUIREMENTS -->|Нет| READY_TO_REGISTER

  REQ_ACTIONS --> WAIT_RESPONSES[Ожидание ответов / документов / решения суда] --> NOTARY_CHECKS

  READY_TO_REGISTER --> REGISTER_DECISION

  %% РЕГИСТРАЦИЯ / РЕЗУЛЬТАТ
  REGISTER_DECISION{Регистрация результата}
  REGISTER_DECISION -->|Принятие зарегистрировать| REGISTER_ACCEPT[Записать принятие наследства в журнале / выдать справку о принятии (если предусмотрено)]
  REGISTER_DECISION -->|Отказ зарегистрировать| REGISTER_RENOUNCE[Записать отказ в журнале / выдать подтверждение об отказе]
  REGISTER_DECISION -->|Отсрочить / требуются доп. действия| PENDING[Отметить как «в рассмотрении» и уведомить заявителя]

  REGISTER_ACCEPT --> NOTIFY_HEIRS
  REGISTER_RENOUNCE --> NOTIFY_HEIRS
  PENDING --> NOTIFY_APPLICANT

  %% УВЕДОМЛЕНИЯ
  NOTIFY_HEIRS[Оповестить заинтересованных лиц (опция):<br/>- отправка уведомлений наследникам / кредиторам / регистрам]
  NOTIFY_APPLICANT[Уведомить заявителя о статусе (письмо / e-mail / печать)]

  NOTIFY_HEIRS --> ISSUE_DOCS
  NOTIFY_APPLICANT --> END_OK

  %% ВЫДАЧА ДОКУМЕНТОВ / СПРАВОК
  ISSUE_DOCS[Выдать/сформировать документы:<br/>- Справка/акт о принятии наследства (или отказе)<br/>- Пометка о дате и записи в реестре<br/>- Инструкция по дальнейшим шагам (перепись имущества, оценка, регистрация прав)]
  ISSUE_DOCS --> END_OK

  END_OK([Готово — дело закрыто / зарегистрировано / в ожидании])
  END_FAIL([Заявление отклонено / ожидаются полномочия])
Краткие пояснения (что обязательно учесть в программе)
Действие (принятие / отказ) — обязательный выбор в форме.

Кто подаёт — перечислить варианты (наследник по завещанию, по закону, представитель, опекун, исполнитель завещания, кредитор и т.д.). Если подаёт представитель — требуется загрузить доверенность.

Документы заявителя — паспорт, свидетельство о смерти, документы на завещание (если есть), документы, подтверждающие родство, документы представителя (доверенность, решение опеки). Сделать drop-list с возможностью загрузки файлов.

Особенные случаи — несовершеннолетние и недееспособные: обязательны документы опеки/суд разрешение; суд. решения — автоматически триггерить.

Валидация — форма блокирует генерацию / подачи до наличия обязательных документов и реквизитов (ФИО умершего, дата смерти, и т.д.).

Доп. действия нотариуса — проверка реестра, уведомление других наследников, требование судебного вмешательства в спорных/сложных случаях. В интерфейсе показать чек-лист нотариуса и статус ожидания.

Результат — регистрация записи (журнал), выдача справки/акта о принятии или об отказе, уведомления заинтересованных лиц.

Поля в итоговом документе: заявитель; его статус (наследник/представитель); реквизиты умершего; выбор (принятие/отказ); оговорки/условия; список приложенных документов; дата и подпись; отметки нотариуса.

22 flowchart TD
  START([Старт: Форма "Заявление на получение дубликата"])

  %% Кто подает заявление
  START --> APPLICANT_TYPE{Кто подаёт заявление?}
  APPLICANT_TYPE -->|Сам владелец| APPL_OWNER[Блок "Заявитель — владелец":<br/>ФИО, ИИН, дата рожд., адрес, документ личности (тип/серия/№/кем/дата), контакт]
  APPLICANT_TYPE -->|Представитель по доверенности| APPL_REP[Блок "Заявитель — представитель":<br/>ФИО представителя, ИИН, док. личности, контакт<br/>+ загрузить доверенность]
  APPLICANT_TYPE -->|Иное лицо (на основании закона)| APPL_OTHER[Блок "Иное лицо":<br/>ФИО, ИИН, основание (решение суда/опекунство и т.д.), загрузить документ-основание]

  APPL_OWNER --> DOC_TYPE
  APPL_REP --> DOC_TYPE
  APPL_OTHER --> DOC_TYPE

  %% Выбор типа документа (drop-list) — один или несколько
  DOC_TYPE[Блок: Тип запрашиваемого дубликата (обяз., drop-list/typeahead):<br/>▢ [Выбрать всё не нужно — обычно 1 документ]<br/>Примеры:<br/>- Паспорт (внутренний / загран)<br/>- Свидетельство о рождении / браке / смерти<br/>- Техпаспорт (ТС)<br/>- Диплом / аттестат<br/>- Свидетельство о праве собственности / кадастр<br/>- Банковская карта / справка банка<br/>- Другое (ручной ввод названия документа)]
  DOC_TYPE --> DOC_DETAILS

  %% ДАННЫЕ ИСХОДНОГО ДОКУМЕНТА
  DOC_DETAILS[Блок: Реквизиты исходного документа (если известны / применимо):<br/>- Серия / номер (если есть)<br/>- Дата выдачи<br/>- Орган/кем выдан (название учреждения)<br/>- Место выдачи / регистрационный №<br/>- Примечание: если утерян — указать "утерян" и дату, если повреждён — описать повреждения]
  DOC_DETAILS --> REASON

  %% ПРИЧИНА ЗАПРОСА (чекбоксы)
  REASON[Причина запроса (обяз.):<br/>- ▢ Утеря / кража (требуется справка из полиции)<br/>- ▢ Повреждение (прикрепить повреждённый документ, фото)<br/>- ▢ Испорчен / негоден<br/>- ▢ Изменение данных (смена ФИО, исправления)<br/>- ▢ Истёк срок действия и требуется замена<br/>- ▢ Иное (ручной ввод причины)]
  REASON --> SUPPORTING_DOCS

  %% ПОДТВЕРЖДАЮЩИЕ ДОКУМЕНТЫ
  SUPPORTING_DOCS[Подтверждающие документы (drop-list + upload):<br/>- ▢ Справка/заявление в полицию (при утере/краже)<br/>- ▢ Повреждённый оригинал (фото/скан)<br/>- ▢ Свидетельства об изменении ФИО (бракоразвод, решение суда)<br/>- ▢ Доверенность представителя (если подаёт представитель)<br/>- ▢ Судебные решения / опека (если применимо)<br/>- ▢ Иные документы (ручной ввод + upload)]
  SUPPORTING_DOCS --> EXPEDITE

  %% СРОЧНОСТЬ / РЕЖИМ ОБРАБОТКИ
  EXPEDITE{Режим обработки}
  EXPEDITE -->|Обычный| MODE_REGULAR[Обычный срок обработки]
  EXPEDITE -->|Срочно (платно)| MODE_URGENT[Срочная обработка (доплата) — показать сумму и способы оплаты]
  MODE_REGULAR --> PAYMENT_BLOCK
  MODE_URGENT --> PAYMENT_BLOCK

  %% ОПЛАТА ГОСПОШЛИНЫ / СБОРА
  PAYMENT_BLOCK[Оплата (обяз., если применимо):<br/>- Сумма госпошлины (авторасчёт по типу документа)<br/>- Способы оплаты: карта, терминал, онлайн (платёжная система)<br/>- Поле: квитанция/платёжный документ (upload) — если оплата не онлайн]
  PAYMENT_BLOCK --> CONSENT_PRIVACY

  %% СОГЛАСИЯ / ОБРАБОТКА ДАННЫХ
  CONSENT_PRIVACY[Блок: Согласия и подтверждения (чекбоксы, обяз.):<br/>- ▢ Подтверждаю правдивость данных<br/>- ▢ Согласие на обработку персональных данных<br/>- ▢ Согласие на поиск по реестрам (если надо)<br/>- ▢ Согласие на уведомления (SMS/e-mail)]
  CONSENT_PRIVACY --> APPEAR_TYPE

  %% ЛИЧНО ИЛИ ПО ДОВЕРЕННОСТИ (проверки)
  APPEAR_TYPE{Как подаётся заявление? (обяз.)}
  APPEAR_TYPE -->|Заявитель лично| APPL_PERSONAL[Флаг: applicant_present = true] --> VALIDATE
  APPEAR_TYPE -->|По доверенности| APPL_POA[Флаг: applicant_present = false]

  APPL_POA --> POA_FIELDS
  POA_FIELDS[Поля (обяз. при подаче по доверенности):<br/>- Реестровый номер доверенности (если есть)<br/>- Кем выдана (нотариус / орган)<br/>- Дата выдачи доверенности<br/>- Номер лицензии нотариуса (если нотариус)<br/>- Upload доверенности (скан/оригинал при предъявлении)]
  POA_FIELDS --> VALIDATE

  %% ВАЛИДАЦИЯ ПОЛЕЙ
  VALIDATE{Валидация перед отправкой/созданием заявления:<br/>- Заполнены данные заявителя?<br/>- Выбран тип документа?<br/>- Указана причина (если утеря/кража — приложена справка из полиции)?<br/>- Реквизиты исходного документа (если есть) заполнены?<br/>- Произведена оплата / приложено подтверждение?<br/>- Если подаёт представитель — приложена доверенность?<br/>- Подтверждены согласия и PD обработка?}
  VALIDATE -->|Ошибка| SHOW_ERR[Показать ошибки/подсказки и подсветить поля]
  SHOW_ERR --> CORRECT[Пользователь исправляет] --> VALIDATE
  VALIDATE -->|ОК| SUBMIT

  %% ОТПРАВКА / ОБРАБОТКА НА СТОРОНЕ ОРГАНА
  SUBMIT[Отправка заявления / регистрация в системе учреждения]
  SUBMIT --> CHECK_BY_OFFICER

  CHECK_BY_OFFICER[Проверка сотрудником(и):<br/>- Проверка личности и документов<br/>- Сверка с реестром / базой (если доступна)<br/>- Проверка подлинности приложенных документов<br/>- Решение: выдать дубликат / запросить доп. сведения / отказ]
  CHECK_BY_OFFICER -->|Выдать дубликат| ISSUE_DUP
  CHECK_BY_OFFICER -->|Запрос доп. сведений| REQ_INFO
  CHECK_BY_OFFICER -->|Отказать| DENY

  REQ_INFO --> WAIT_DOCS[Ожидание доп. документов от заявителя] --> CHECK_BY_OFFICER

  %% ВЫДАЧА ДУБЛИКАТА
  ISSUE_DUP[Выдача дубликата:<br/>- Сформировать документ-основание выдачи<br/>- Указать серию/номер дубликата<br/>- Печать / подпись уполномоченного<br/>- Выдать дубликат заявителю (лично/представителю)] --> NOTIFY_APPLICANT

  NOTIFY_APPLICANT[Уведомление заявителя:<br/>- SMS / e-mail / телефон / выдача квитанции] --> ARCHIVE_RECORD

  ARCHIVE_RECORD[Запись в журнал/реестр о выдаче дубликата:<br/>- кто выдал, дата, реквизиты старого и нового документа, основание выдачи] --> END_OK([Готово — дубликат выдан])

  DENY[Отказать — сформировать мотивированный ответ:<br/>- Выдать причину отказа, как оспорить / подать доки снова] --> NOTIFY_APPLICANT
  NOTIFY_APPLICANT --> END_FAIL([Готово — отказ оформлен / отправлено сообщение])
Короткие пояснения (для разработчика)
1. Поля формы (минимум обязательного):

Тип документа (обяз.)

Данные заявителя (ФИО, ИИН, документ)

Реквизиты исходного документа (если есть): серия/№, дата, кем выдано

Причина запроса (обяз. — выбрать хотя бы одну)

При утере/краже — upload справки из полиции (обяз.)

При подаче представителем — upload доверенности (обяз.)

Сумма госпошлины (рассчитывается автоматически по типу документа) и подтверждение оплаты или способ оплаты

Согласие на обработку персональных данных (обязательно)

2. Drop-list типов документов:
Сформировать в справочнике (админка): список типов (паспорт, свидетельство, техпаспорт и т.д.), для каждого типа — правило: нужна ли справка из полиции при утере; какая госпошлина; какие дополнительные документы возможны.

3. Валидация:
Серийный номер/дата выдачи — опциональны, но, если известны, ускоряют проверку. Для утери — обязательна справка из полиции. Для повреждения — обязательна фотография/скан повреждённого документа.

4. Представительство:
Если подаёт представитель — доверенность обязательна и загружается в систему; в UI подсвечивать инструкцию по форме доверенности.

5. Срочность:
Опция срочной обработки (если учреждение предоставляет) — показывать доп. плату и варианты оплаты.

6. Output / лог:
После выдачи — сделать запись в журнале/реестре с полным набором реквизитов старого и нового документа; генерировать квитанцию/уведомление.

23 flowchart TD
  START([Старт: Форма "Заявление: отсутствие брачных отношений"])

  %% ЗАЯВИТЕЛЬ
  START --> APPLICANT[Блок: Заявитель (обяз.):<br/>ФИО, ИИН, дата рождения,<br/>документ личности (тип/серия/№/кем/дата), адрес, контакт]

  APPLICANT --> PROPERTY_SELECT

  %% ВЫБОР ОБЪЕКТА НЕДВИЖИМОСТИ (можно несколько)
  PROPERTY_SELECT[Блок: Тип(ы) недвижимости (обяз., множественный выбор):<br/>▢ [Выбрать всё не нужно — обычно 1 объект]<br/>- Квартира<br/>- Жилой дом/дача<br/>- Земельный участок<br/>- Нежилое помещение / коммерческая недвижимость<br/>- Паркинг / машиноместо<br/>- Доля в праве / доля в ТОО<br/>-> Для каждого объекта: адрес/кадастр/правоуст. рекв.]

  PROPERTY_SELECT --> ACQUISITION_INFO

  %% СВЕДЕНИЯ О ПРИОБРЕТЕНИИ И ПРОДАЖЕ
  ACQUISITION_INFO[Блок: Сведения по сделкам (обяз.):<br/>- Дата приобретения (дд.мм.гггг) + документ (договор/акт)<br/>- Дата предполагаемой/фактической продажи (или "настоящее")<br/>- Указать: заявление охватывает одно/несколько объектов]

  ACQUISITION_INFO --> MARITAL_STATUS_CHECK

  %% СТАТУС В МОМЕНТ ПРИОБРЕТЕНИЯ И В МОМЕНТ ПРОДАЖИ
  MARITAL_STATUS_CHECK{Проверка брачного статуса (обяз.)}
  MARITAL_STATUS_CHECK -->|Не состоял в браке в момент приобретения + Не состоит в браке в момент продажи| STATUS_OK[Авто-блок: сформировать фразу:<br/>"На момент приобретения ({{acq_date}}) заявитель не состоял(а) в браке; на момент продажи ({{sale_date}}) не состоит(не состоял)."]
  MARITAL_STATUS_CHECK -->|Был(а) в браке в момент приобретения| ACQ_MARRIED[Пометка: в момент приобретения состоял(а) в браке → требуется подтверждение прав / согласие супруга]
  MARITAL_STATUS_CHECK -->|Состоит в браке сейчас (в момент продажи)| SALE_MARRIED[Пометка: состоит в браке сейчас → требуется согласие супруга для продажи]
  MARITAL_STATUS_CHECK -->|Не уверен / нужен поиск по реестру| NEED_CHECK[Запрос: выполнить поиск по реестру ЗАГС / выписке о семейном положении]

  STATUS_OK --> DOCS_UPLOAD
  ACQ_MARRIED --> DOCS_UPLOAD
  SALE_MARRIED --> DOCS_UPLOAD
  NEED_CHECK --> DOCS_UPLOAD

  %% ДОКУМЕНТЫ (загрузки)
  DOCS_UPLOAD[Блок: Требуемые документы (обяз. загрузка минимум одного набора):<br/>- Паспорт заявителя (scan/upload)<br/>- Документ на приобретение (договор купли/акт передачи) — подтверждение даты приобретения<br/>- Документ о продаже / договор (если есть)<br/>- Выписка из ЗАГСа / справка о семейном положении (подтверждение, что не состоял/не состоит)<br/>- Если ранее состоял(а) в браке — загрузить свидетельство о разводе ИЛИ свидетельство о смерти супруга<br/>- Если состоит в браке сейчас — загрузить согласие супруга (нот. соглашение) или указать, что согласие будет получено<br/>- Доп. документы по объекту (кадастр, правоустанавливающие)</br/>(опция: прикрепить иные подтверждающие документы)]

  DOCS_UPLOAD --> NOTARY_VERIF

  %% НОТАРИАЛЬНАЯ ВЕРИФИКАЦИЯ / ЛОГИКА
  NOTARY_VERIF[Нотариус: Верификация и бизнес-логика:<br/>- Проверка личных данных и сканов<br/>- Сверка дат приобретения и продажи с предоставленными документами<br/>- Проверка семейного положения по загсу/реестру<br/>- Если заявлено, что не состоял(а) в браке — проверить наличие свидетельств о разводе/смерти при прошлом браке<br/>- Если сейчас состоит в браке → проверить наличие согласия супруга; при отсутствии — запросить согласие или отказать в выпуске заявления]

  NOTARY_VERIF --> VERIF_DECISION

  %% РЕШЕНИЕ НОТАРИУСА
  VERIF_DECISION{Решение после проверки}
  VERIF_DECISION -->|Все документы в порядке и статус подтверждён| PROCEED_ISSUE[Оформить заявление: сформировать текст и выдать / экспортировать (.docx/.pdf)]
  VERIF_DECISION -->|Не хватает документов / статус не подтверждён| REQUEST_ADDITIONAL[Запросить доп. документы / справки (уведомить заявителя)]
  VERIF_DECISION -->|Заявитель состоит в браке и согласия нет| REQUIRE_SPOUSE[Отказать в выдаче заявления и/или оформить с пометкой 'требуется согласие супруга']

  REQUEST_ADDITIONAL --> WAIT_DOCS[Ожидание загрузки доп. доков] --> NOTARY_VERIF

  PROCEED_ISSUE --> REGISTER_AND_NOTIFY

  REQUIRE_SPOUSE --> END_REJECT

  %% РЕГИСТРАЦИЯ / ВЫДАЧА / ЛОГ
  REGISTER_AND_NOTIFY[Запись в журнале / реестр заявлений:<br/>- Сформировать документ-номер<br/>- Ссылка на загруженные файлы<br/>- Выдать заявителю документ / печать / подпись<br/>- Опция: отправить уведомление получателю / третьим лицам (SMS/email)]

  REGISTER_AND_NOTIFY --> END_OK[Готово — заявление оформлено и выдано]

  END_REJECT([Остановка: требуется согласие супруга / отказано — уведомление заявителю])

  END_OK([Завершено])
Краткие пояснения для разработчика (обязательные моменты)
Обязательные поля в форме: данные заявителя (ФИО, ИИН, паспорт), выбор(ы) объекта(ов) недвижимости с полными реквизитами (адрес, кадастр), даты приобретения и продажи, загрузка документов, подтверждающих эти даты.

Документы семейного положения: предусмотреть загрузку/интеграцию с выпиской ЗАГС (если доступно) или ручной upload справки о семейном положении; поддержать свидетельства о разводе и свидетельства о смерти супруга.

Логика при наличии брака: если заявитель состоит в браке сейчас, или был в браке в момент приобретения, система должна пометить, что для оформления такой справки необходима дополнительная проверка и, как правило, согласие супруга (нотариальная форма). Предусмотреть поле для загрузки согласия супруга (нот. заверенное).

Валидация: нельзя выдать финальный документ, пока не пройдёт верификация (пользователь загрузил обязательные документы и/или нотариус подтвердил статус в реестре).

UI/UX: для дат применять удобный календарь; при вводе дат автоматически показывать подсказку/проверку (например: «если дата приобретения попадает в период брака — загрузите свидетельство о разводе/смерти супруга или согласие супруга»).

Output: итоговый .docx/.pdf должен содержать чёткие формулировки: что заявитель не состоял(а) в браке в момент приобретения (дата), и не состоит(не состоял) в браке в момент продажи (дата), с перечислением объектов и ссылками на приложенные документы; подпись нотариуса и регистрационные реквизиты.

Журнал/аудит: хранить все загруженные файлы, дату и пользователя, кто сгенерировал документ — это важно для нотариальной практики.

24 flowchart TD
  START([Старт: Форма "Доверенность — сделки с недвижимостью (купля/продажа)"])

  %% ДОВЕРИТЕЛЬ
  START --> PRINCIPAL[Блок: Доверитель (обяз.):<br/>ФИО, ИИН, дата рожд., адрес, документ личности (тип/серия/№/кем/дата), контакт]

  PRINCIPAL --> AGENT_CHOICE

  %% ПОВЕРЕННЫЕ (1 или 2)
  AGENT_CHOICE{Поверенный(е): 1 или 2? (обяз.)}
  AGENT_CHOICE -->|1| AGENT1[Поверенный 1 — ФИО, ИИН, док., контакт]
  AGENT_CHOICE -->|2| AGENT2[Поверенный 1 и Поверенный 2 (аналогично)]

  AGENT1 --> SCOPE_TXN
  AGENT2 --> SCOPE_TXN

  %% ОБЪЁМ ПОЛНОМОЧИЙ: КУПИТЬ / ПРОДАТЬ (с галочками)
  SCOPE_TXN[Блок: Типы сделок (чекбоксы, обяз., >=1):<br/>▢ [Выбрать всё]<br/>- Совершать покупку недвижимости<br/>- Совершать продажу недвижимости<br/>- Комбинированно (покупка+продажа / обмен)<br/>- Иные операции (подписывать доп.соглашения, прием-передача)]
  SCOPE_TXN --> PROPERTY_BLOCK

  %% ОБЪЕКТЫ НЕДВИЖИМОСТИ (можно несколько)
  PROPERTY_BLOCK[Блок: Объект(ы) (обяз., поддержка множеств):<br/>- Тип объекта (квартира/дом/участок/нежилое/доля)<br/>- Адрес / кадастровый номер<br/>- Правоустанов. документы (серия/№/кем/дата)<br/>- Доля (%) при совместной собственности<br/>- Примечание: обременения (ипотека/арест/аренда)]
  PROPERTY_BLOCK --> CONSENTS_REQUIRED

  %% НЕОБХОДИМЫЕ СОГЛАСИЯ И ПРОВЕРКИ
  CONSENTS_REQUIRED[Согласия/проверки (чекбоксы):<br/>▢ [Выбрать всё согласия]<br/>- Согласие супруга(и) (если требуется)<br/>- Согласие со-совладельцев / долевиков<br/>- Согласие/обычная проверка арендаторов (если есть аренда)<br/>- Проверка прав в реестре (выписка)<br/>- Устранение/согласование обременений (банк)]
  CONSENTS_REQUIRED --> PRICE_BLOCK

  %% ЦЕНА — ВАРИАНТЫ
  PRICE_BLOCK{Цена / полномочия по цене (обяз.)}
  PRICE_BLOCK -->|Фиксированная сумма| PRICE_FIXED[Поле: сумма (валюта)]
  PRICE_BLOCK -->|По усмотрению поверенного| PRICE_DISCRET[Флаг: "по усмотрению" + опц. лимит / критерии]
  PRICE_BLOCK -->|Диапазон| PRICE_RANGE[Поля: min / max]
  PRICE_BLOCK -->|По оценке/рыночной стоимости| PRICE_EVAL[Upload: отчёт оценщика (опц.)]
  PRICE_BLOCK -->|Комбинация (задаток + доплата)| PRICE_MIX[Поля: задаток, сроки доплат]

  PRICE_FIXED --> PAYMENT_TERMS
  PRICE_DISCRET --> PAYMENT_TERMS
  PRICE_RANGE --> PAYMENT_TERMS
  PRICE_EVAL --> PAYMENT_TERMS
  PRICE_MIX --> PAYMENT_TERMS

  %% УСЛОВИЯ ОПЛАТЫ, ЭСКРОУ
  PAYMENT_TERMS[Условия оплаты (чекбоксы/поля):<br/>- Немедленная оплата / перевод на счёт продавца<br/>- Задаток / аванс (сумма, срок возврата при отказе)<br/>- Эскроу / депозит (реквизиты и банк)<br/>- Оплата в рассрочку / ипотека (условия банка)<br/>- Принятие денежных средств (под роспись/квитанция)]
  PAYMENT_TERMS --> TAXES_AND_FEES

  %% НАЛОГИ И ОТВЕТСТВЕННОСТЬ
  TAXES_AND_FEES[Налоги / сборы / обязательные уведомления:<br/>- Налоговые обязательства продавца (если применимо)<br/>- Госпошлины за регистрацию перехода прав<br/>- Комиссии банков / нотариуса<br/>- Уведомление органов (регистрация перехода прав)]
  TAXES_AND_FEES --> DUE_DILIGENCE

  %% ДОКУМЕНТЫ И ПРОВЕРКИ
  DUE_DILIGENCE[Чеклист документов (обяз.):<br/>- Паспорт/ИИН всех сторон<br/>- Правоустанавливающие документы на объект<br/>- Выписки из реестра прав и обременений<br/>- Справки об отсутствии задолженностей<br/>- Доверенности / реквизиты доверенностей (если кто-то действует по ним)<br/>- Согласия третьих лиц (если применимо)]
  DUE_DILIGENCE --> LIMITS_BLOCK

  %% ОГРАНИЧЕНИЯ ПО СУММЕ / УСЛОВИЯ ПОВЕРЕННОГО
  LIMITS_BLOCK[Ограничения / лимиты (опц.):<br/>- Лимит на одну операцию (сумма)<br/>- Суммарный лимит за период<br/>- Запрет на совершение сделок ниже/выше указанной суммы без согласия доверителя<br/>- Условие: только после снятия обременения / получения выписки]
  LIMITS_BLOCK --> DELEGATION_BLOCK

  %% ПРАВО ПЕРЕДОВЕРИЯ
  DELEGATION_BLOCK{Право передоверия (radio, обяз.)}
  DELEGATION_BLOCK -->|Да| DELEG_Y[delegation_allowed = true — можно задать условия/ограничения]
  DELEGATION_BLOCK -->|Нет| DELEG_N[delegation_allowed = false]

  DELEG_Y --> TERM_BLOCK
  DELEG_N --> TERM_BLOCK

  %% СРОК ДОВЕРЕННОСТИ
  TERM_BLOCK{Срок (обяз.): дни (1–31) или месяцы (1–36) или до даты}
  TERM_BLOCK --> TERM_DAYS[Дни]
  TERM_BLOCK --> TERM_MONTHS[Месяцы]
  TERM_BLOCK --> TERM_UNTIL[До даты (дд.мм.гггг)]

  TERM_DAYS --> APPEAR_TYPE
  TERM_MONTHS --> APPEAR_TYPE
  TERM_UNTIL --> APPEAR_TYPE

  %% КТО ПРИСУТСТВУЕТ: ЛИЧНО / ПО ДОВЕРЕННОСТИ
  APPEAR_TYPE{Обратившиеся: лично / по доверенности? (обяз.)}
  APPEAR_TYPE -->|Лично| PERSONAL[flag_personal = true] --> VALIDATION
  APPEAR_TYPE -->|По доверенности| POA_IN[flag_personal = false]

  POA_IN --> POA_FIELDS[Реквизиты исходной доверенности (обяз. если по доверенности):<br/>- Реестровый номер/серия<br/>- Кем выдана (ФИО нотариуса / контора)<br/>- Дата выдачи<br/>- Номер лицензии нотариуса<br/>- Дата выдачи лицензии<br/>- Upload скана доверенности]
  POA_FIELDS --> VALIDATION

  %% ВАЛИДАЦИЯ ПЕРЕД ГЕНЕРАЦИЕЙ / УДОСТОВЕРЕНИЕМ
  VALIDATION{Валидация (обязательно):<br/>- Заполнены данные доверителя и поверенного(ых)?<br/>- Указаны объекты и имеются правоустанавливающие доки?<br/>- Собраны необходимые согласия (супруг, со-совладельцы)?<br/>- Цена и условия оплаты указаны и соответствуют лимитам?<br/>- Нет запретов/арестов/обременений (или есть план их снятия)?<br/>- Если по доверенности — реквизиты исходной доверенности загружены?<br/>- Срок и право передоверия указаны?}
  VALIDATION -->|Ошибка| SHOW_ERR[Показать ошибки / список недостающих документов]
  SHOW_ERR --> CORRECT[Стороны загружают/исправляют документы] --> VALIDATION
  VALIDATION -->|OK| GENERATE_DOCS

  %% ФОРМИРОВАНИЕ ДОКУМЕНТОВ И ПОДПИСАНИЕ
  GENERATE_DOCS[Генерация пакета документов / шаблонов:<br/>- Доверенность (финальный текст)<br/>- Договор купли-продажи / предварительный договор (черновик)<br/>- Акт приёма-передачи<br/>- Заявления для регистрации перехода прав<br/>- Квитанции/счета на оплату (госпошлины, налоги, услуги)]
  GENERATE_DOCS --> SIGNING

  SIGNING[Подписание / нотариальное удостоверение:<br/>- Нотариальная подпись, подписи сторон/поверенного<br/>- Указание ограничений и условий (лимиты, эскроу, запреты)<br/>- Выдача экземпляров доверенности и копий документов]
  SIGNING --> REGISTRATION_FLOW

  %% ПОДАЧА В РЕЕСТР И ФИНАЛ
  REGISTRATION_FLOW[Подача документов в реестр / орган регистрации:<br/>- Подать заявление и пакет документов<br/>- Получить выписку/рег. № перехода прав<br/>- Обновить статусы обременений / снять ипотеку (при необходимости)]
  REGISTRATION_FLOW --> NOTIFY_PARTIES

  NOTIFY_PARTIES[Уведомление сторон / выдача документов:<br/>- Раздать выписки и подтверждения<br/>- Отправить уведомления по e-mail/SMS<br/>- Сохранить в журнале / аудите]
  NOTIFY_PARTIES --> END_OK

  END_OK([Готово — доверенность оформлена / сделки могут быть совершены в рамках полномочий])
Короткие пояснения для разработчика / нотариуса (обязательное)
Обязательные поля формы: данные доверителя; данные поверенного(ых); объекты недвижимости (адрес + кадастр); выбор типа сделки (купля / продажа); вариант цены (фикс./по усмотрению/диапазон/оценка); срок доверенности; право передоверия (обяз. выбор); реквизиты исходной доверенности при работе через представителя.

Цена «по усмотрению» — обязательно требовать дополнительные ограничения (минимум/максимум/критерии) иначе юр. неопределённость.

Согласия: если объект в браке или имеет совладельцев — автоматически требовать загрузку согласия супруга/со-совладельцев (нот. заверенная форма).

Обременения: при наличии ипотеки/ареста — нельзя совершать продажу без снятия/согласования с кредитором; предусмотреть поле «условие снятия обременения» и workflow для получения согласия банка.

Эскроу / депонирование: при наличии схемы эскроу — предусмотреть заполнение реквизитов банка/счёта и условия высвобождения средств.

Валидация: генерация доверенности блокируется, пока не выполнены все обязательные проверки.

Output: .docx/.pdf с читаемым текстом доверенности, перечнем полномочий (что разрешено/запрещено), условиями по цене, лимитами, правом передоверия и сроком.

Аудит: хранить всю историю (кто и когда сгенерировал доверенность, кто загрузил документы, кто подписал).

25 flowchart TD
  START([Старт: Форма "Договор купли-продажи недвижимости"])

  %% ОБЩАЯ ИНФОРМАЦИЯ
  START --> TXN_META[Блок: Метаданные сделки:<br/>- Номер/внутренний ID (генерируется)<br/>- Место составления договора (город)] 

  TXN_META --> PROPERTY_TYPE

  %% ВЫБОР ТИПА НЕДВИЖИМОСТИ
  PROPERTY_TYPE[Блок: Выберите тип объекта (обяз., 1):<br/>- Квартира<br/>- Жилой дом / дача<br/>- Земельный участок<br/>- Нежилое помещение<br/>- Гараж / паркинг<br/>- Доля в праве]<br/>(для каждого: добавить карточку объекта с адресом/кадастром/правоуст. рекв.)
  PROPERTY_TYPE --> PARTIES_BLOCK

  %% СТОРОНЫ: ПРОДАВЕЦ И ПОКУПАТЕЛЬ
  PARTIES_BLOCK[Блок: Стороны (обяз.):<br/>- Продавец(и): карточка (ФИО, ИИН, паспорт, адрес, контакт)<br/>- Покупатель(и): карточка (ФИО, ИИН, паспорт, адрес, контакт)]
  PARTIES_BLOCK --> SELLER_MARITAL

  %% БРАЧНЫЙ СТАТУС ПРОДАВЦА
  SELLER_MARITAL{Статус продавца относительно брака (обяз., выбрать 1 из 3)}
  SELLER_MARITAL -->|1. В браке сейчас| SELLER_MARRIED[Показать блок: Данные супруга продавца (ФИО, ИИН, док.личности, согласие (галочка) или загрузить нотариальное согласие)]
  SELLER_MARITAL -->|2. Не состоял(а) в браке в момент приобретения / не состоит сейчас| SELLER_NOT_MARRIED[Показать поле: загрузить справку/заявление о семейном положении или оставить отметку "не состоит"]
  SELLER_MARITAL -->|3. Согласие уже имеется| SELLER_CONSENT[Чекбокс: "Указать: согласие супруга(и) имеется" + upload файла/реестровый номер согласия]
  SELLER_MARRIED --> SELLER_OWNERSHIP
  SELLER_NOT_MARRIED --> SELLER_OWNERSHIP
  SELLER_CONSENT --> SELLER_OWNERSHIP

  %% БРАЧНЫЙ СТАТУС ПОКУПАТЕЛЯ
  SELLER_OWNERSHIP --> BUYER_MARITAL{Статус покупателя относительно брака (обяз., выбрать 1 из 3)}
  BUYER_MARITAL -->|1. В браке сейчас| BUYER_MARRIED[Показать блок: Данные супруга покупателя (ФИО, ИИН, док.личности)]
  BUYER_MARITAL -->|2. Не состоит| BUYER_NOT_MARRIED[Отметка "не состоит" (без дополнительного поля)]
  BUYER_MARITAL -->|3. Согласие уже имеется| BUYER_CONSENT[Чекбокс: "Согласие супруга(и) имеется" + upload]
  BUYER_MARRIED --> OWNERSHIP_BLOCK
  BUYER_NOT_MARRIED --> OWNERSHIP_BLOCK
  BUYER_CONSENT --> OWNERSHIP_BLOCK

  %% ОСНОВАНИЕ ПРАВА СОБСТВЕННОСТИ ПРОДАВЦА
  OWNERSHIP_BLOCK[Блок: Основание права продавца (обяз., выбрать 1):<br/>- Договор купли-продажи (датa, реквизиты)<br/>- Договор дарения (датa, реквизиты)<br/>- Наследство (акт/заявление, дата, реквизиты)<br/>- РЕШЕНИЕ АКИМА / административный акт (номер, дата)<br/>- Иное (ручной ввод)]
  OWNERSHIP_BLOCK --> OWNERSHIP_DETAILS

  %% ПОЛЯ ДЛЯ ПРЕДЫДУЩЕГО ДОКУМЕНТА (если выбран один из договоров или др.)
  OWNERSHIP_DETAILS{Если основание = договор/решение/наследство → показать обязательные поля}
  OWNERSHIP_DETAILS -->|Договор (купли/дарения и т.п.)| PREV_CONTRACT[
    Поля (обяз.):<br/>- Тип договора (купля/дарение/иное)<br/>- Дата договора<br/>- Реквизиты нотариуса, удостоверившего договор (ФИО / контора)<br/>- Номер лицензии нотариуса<br/>- Дата выдачи лицензии<br/>- Реестровый/регистрационный номер договора<br/>- Upload копии/скана договора]
  OWNERSHIP_DETAILS -->|Решение акима| AKIM_DECISION[
    Поля (обяз.):<br/>- Номер решения<br/>- Дата решения<br/>- Орган-выдавший<br/>- Upload/скан]
  OWNERSHIP_DETAILS -->|Наследство| INHERITANCE[
    Поля (обяз.):<br/>- Номер/дата акта о принятии наследства или реквизиты записи<br/>- Документы опеки/суд (если есть)<br/>- Upload]
  OWNERSHIP_DETAILS -->|Иное (ручной ввод)| OTHER_OWN[Поле текст + upload]

  PREV_CONTRACT --> PRICE_SECTION
  AKIM_DECISION --> PRICE_SECTION
  INHERITANCE --> PRICE_SECTION
  OTHER_OWN --> PRICE_SECTION

  %% СТОИМОСТЬ СДЕЛКИ (ОБЯЗАТЕЛЬНО)
  PRICE_SECTION[Блок: Цена сделки (обяз., числовое поле):<br/>- Сумма сделки (KZT / валюта) — обязательно (вписать цифрами и словами)<br/>- Вариант цены (чекбокс): фиксированная / по усмотрению поверенного / диапазон (min/max) / по оценке]
  PRICE_SECTION --> PRICE_DISCRETION_CHECK

  PRICE_DISCRETION_CHECK{Если "по усмотрению" или "диапазон" выбран — вывести дополнительные поля}
  PRICE_DISCRETION_CHECK -->|По усмотрению| DISCRETION_FIELDS[Поля: лимит min/max (опц.), критерии принятия решения (ручной ввод)]
  PRICE_DISCRETION_CHECK -->|Диапазон| RANGE_FIELDS[Поля: min, max (валюта)]
  DISCRETION_FIELDS --> EXPENSES_PAYER
  RANGE_FIELDS --> EXPENSES_PAYER
  PRICE_DISCRETION_CHECK -->|Фиксированная / по оценке| EXPENSES_PAYER

  %% КТО ОПЛАЧИВАЕТ РАСХОДЫ ПО СДЕЛКЕ
  EXPENSES_PAYER[Блок: Расходы по сделке (обяз., выбрать 1):<br/>- Оплачиваются продавцом<br/>- Оплачиваются покупателем<br/>- Делятся 50/50]
  EXPENSES_PAYER --> DOCUMENTS_CHECKLIST

  %% СПИСОК ДОКУМЕНТОВ (чеклист)
  DOCUMENTS_CHECKLIST[Обязательные документы (чеклист/upload):<br/>- Паспорт/ИИН всех сторон<br/>- Копия/оригинал правоустанавливающего документа (предыдущий договор / решение / акт наследства)<br/>- Выписка из реестра прав (актуальная)<br/>- Справки об отсутствии задолженностей (кроме случаев оговоренных)<br/>- Согласия супругов (если требуется) — upload<br/>- Документы на оплату/квитанции (при задатке/эскроу/оплате) ]
  DOCUMENTS_CHECKLIST --> PAYMENT_TERMS_BLOCK

  %% УСЛОВИЯ ОПЛАТЫ / ЗАДАТОК / ЭСКРОУ
  PAYMENT_TERMS_BLOCK[Условия оплаты (обязательно выбрать/описать):<br/>- Немедленная оплата (ссылка на платёж)<br/>- Задаток/аванc (сумма, срок возврата при отказе)<br/>- Эскроу (банк, реквизиты, условие освобождения средств)<br/>- Рассрочка / ипотека (условия банка, реквизиты кредитного договора)]
  PAYMENT_TERMS_BLOCK --> REPRESENTATION

  %% КТО ПРИШЁЛ: ЛИЧНО / ПО ДОВЕРЕННОСТИ
  REPRESENTATION[Блок: Кто действует лично/по доверенности (для каждой стороны):<br/>- Лично — ввод данных и подпись<br/>- По доверенности — ручной ввод реквизитов доверенности: реестр №, кем выдан, дата, номер лицензии нотариуса, дата выдачи лицензии, upload скана (обяз.)]
  REPRESENTATION --> VALIDATION

  %% ВАЛИДАЦИЯ ПЕРЕД ФОРМИРОВАНИЕМ ДОКУМЕНТА
  VALIDATION{Валидация (обязательно перед генерацией договора):<br/>- Заполнены данные продавца и покупателя?<br/>- Заполнены/загружены обязательные документы?<br/>- Проверены согласия супругов или внедена пометка "согласие имеется"?<br/>- Указана стоимость (цифрами и словами)?<br/>- Выбран кто оплачивает расходы?<br/>- Указаны условия оплаты (задаток/эскроу и т.д.)?<br/>- Если "по усмотрению" — есть лимиты/критерии?<br/>- При подаче по доверенности — реквизиты доверенности загружены?<br/>- Нет обременений или есть условие снятия (если есть обременение) ?}
  VALIDATION -->|Ошибка| SHOW_ERRORS[Показать список ошибок/недостающих полей]
  SHOW_ERRORS --> CORRECT[Пользователь загружает/исправляет документы] --> VALIDATION
  VALIDATION -->|OK| GENERATE_CONTRACT

  %% ГЕНЕРАЦИЯ ДОГОВОРА И АКТОВ
  GENERATE_CONTRACT[Генерация пакета документов (черновики и финал):<br/>- Договор купли-продажи (.docx/.pdf) с подстановкой всех полей (стоимость прописью и цифрами)<br/>- Акт приёма-передачи<br/>- Приложения: выписка из реестра, копии правоустан. доков, согласия супругов, квитанции оплаты<br/>- Заявление о регистрации перехода прав (шаблон)]
  GENERATE_CONTRACT --> SIGNING_NOTARY

  %% ПОДПИСАНИЕ / НОТАРИАЛЬНОЕ УДОСТОВЕРЕНИЕ
  SIGNING_NOTARY[Подписание и/или нотариальное удостоверение:<br/>- Стороны подписывают договор / нотариус удостоверяет подписи<br/>- Нотариус ставит отметку о проверке согласий/прав<br/>- Сканирование/архивация всех документов]
  SIGNING_NOTARY --> REGISTER_SUBMIT

  %% ПОДАЧА В РЕЕСТР / РЕГИСТРАЦИЯ ПРАВ
  REGISTER_SUBMIT[Подача документов в регистр (ЦОН / кадастр):<br/>- Подать пакет документов, оплатить госпошлину<br/>- Получить регистрацию перехода прав (рег.№, дата) — занести в систему]
  REGISTER_SUBMIT --> FINISH

  FINISH([Готово — договор оформлен, права переданы / в ожидании регистрации])
Короткие пояснения для разработчика (обязательные моменты)
Обязательные поля и проверки

Поле Price — обязательно: числом и прописью.

Для варианта «по усмотрению поверенного» — обязательно задавать хотя бы минимальный/максимальный лимит или критерии принятия решения.

Три варианта по брачному статусу для каждой стороны:

«В браке сейчас» → показать блок данных супруга(и) и требование согласия (upload/галочка).

«Не состоял/не состоит» → показать поле/выписку о семейном положении (upload) или отметку.

«Согласие уже имеется» → чекбокс + upload/реестровый номер согласия.

Основание права продавца: если это предыдущий договор/решение/акт наследства — ручной ввод реквизитов: дата договора, кем удостоверен (нотариус/контора), номер лицензии нотариуса, дата выдачи лицензии, реестровый номер договора — все эти поля обязательны при выборе соответствующей опции. Upload копии договора обязателен.

Кто платит расходы — обязателен (продавец / покупатель / 50-50).

Документы: выписка из реестра прав на объект должна быть загружена/введена и актуальна.

Поверенные: если стороны действуют по доверенности — реквизиты доверенности обязательны (ручной ввод и upload скана).

Валидация: генерация договора и подписи блокируется, пока не пройдены все обязательные проверки.

Output: .docx/.pdf договор с подстановкой всех полей, акт приёма-передачи и приложение-чеклист. В договоре — явное указание основания права продавца (с реквизитами) и пометка о согласиях супругов/их реквизитах.

26 flowchart TD
  START([Старт: Форма "Договор Мены Недвижимости"])

  %% МЕТАДАННЫЕ
  START --> META[Метаданные сделки:<br/>- Номер/ID сделки<br/>- Место составления]

  META --> PARTIES

  %% СТОРОНЫ
  PARTIES[Стороны сделки (обяз.)<br/>Сторона 1 — ФИО, ИИН, паспорт, контакт<br/>Сторона 2 — ФИО, ИИН, паспорт, контакт] 
  PARTIES --> PROPERTY_A

  %% ОБЪЕКТ СО СТОРОНЫ 1
  PROPERTY_A[Объект A (Сторона 1):<br/>Тип:<br/>- Квартира<br/>- Дом/дача<br/>- Земельный участок<br/>- Нежилое помещение<br/>- Гараж/паркинг<br/>- Доля<br/>Реквизиты: адрес, кадастр, правоустанов. документы]
  PROPERTY_A --> MARRIAGE_A

  %% БРАЧНЫЙ СТАТУС СТОРОНЫ 1
  MARRIAGE_A{Брачный статус Стороны 1 (обяз., 1 из 3)}
  MARRIAGE_A -->|В браке| A_MARRIED[Показать поля супруга A: ФИО, ИИН, док. + загрузка согласия]
  MARRIAGE_A -->|Не в браке / не состоял в момент приобретения| A_NOT_MARRIED[Чекбокс + опция загрузить справку]
  MARRIAGE_A -->|Согласие уже имеется| A_CONSENT[Upload/ввод реестрового номера согласия]
  A_MARRIED --> OWNERSHIP_A
  A_NOT_MARRIED --> OWNERSHIP_A
  A_CONSENT --> OWNERSHIP_A

  %% ОСНОВАНИЕ ПРАВА НА ОБЪЕКТ A
  OWNERSHIP_A[Основание права собственности на Объект A (обяз., 1):<br/>- Договор купли-продажи<br/>- Договор дарения<br/>- Наследство<br/>- Решение акима<br/>- Иное]
  OWNERSHIP_A --> OWNERSHIP_A_DETAILS

  %% РЕКВИЗИТЫ ОСНОВАНИЯ ПРАВА A
  OWNERSHIP_A_DETAILS{Если основание — договор/решение/акт → обязательные реквизиты}
  OWNERSHIP_A_DETAILS -->|Договор| A_CONTRACT[
    Поля:<br/>- Дата договора<br/>- Тип (купля/дарение/иное)<br/>- Нотариус (ФИО/контора)<br/>- № лицензии нотариуса<br/>- Дата выдачи лицензии<br/>- Реестровый номер<br/>- Upload копии]
  OWNERSHIP_A_DETAILS -->|Решение акима| A_AKIM[
    Поля:<br/>- Номер решения<br/>- Дата<br/>- Орган-выдавший<br/>- Upload]
  OWNERSHIP_A_DETAILS -->|Наследство| A_INHERIT[
    Поля:<br/>- Реквизиты акта<br/>- Upload подтверждений]
  OWNERSHIP_A_DETAILS -->|Иное| A_OTHER[Ручной ввод + Upload]
  A_CONTRACT --> PROPERTY_B
  A_AKIM --> PROPERTY_B
  A_INHERIT --> PROPERTY_B
  A_OTHER --> PROPERTY_B

  %% ОБЪЕКТ СО СТОРОНЫ 2
  PROPERTY_B[Объект B (Сторона 2):<br/>Тип:<br/>- Квартира<br/>- Дом<br/>- Участок<br/>- Нежилое<br/>- Доля<br/>Реквизиты: адрес, кадастр, правоустанов. документ]
  PROPERTY_B --> MARRIAGE_B

  %% БРАЧНЫЙ СТАТУС СТОРОНЫ 2
  MARRIAGE_B{Брачный статус Стороны 2 (обяз., 1 из 3)}
  MARRIAGE_B -->|В браке| B_MARRIED[Данные супруга B + загрузка согласия]
  MARRIAGE_B -->|Не в браке| B_NOT_MARRIED[Отметка + опц. справка]
  MARRIAGE_B -->|Согласие уже имеется| B_CONSENT[Upload/реестр №]
  B_MARRIED --> OWNERSHIP_B
  B_NOT_MARRIED --> OWNERSHIP_B
  B_CONSENT --> OWNERSHIP_B

  %% ОСНОВАНИЕ ПРАВА НА ОБЪЕКТ B
  OWNERSHIP_B[Основание права собственности на Объект B (обяз., 1):<br/>- Договор купли-продажи<br/>- Договор дарения<br/>- Наследство<br/>- Решение акима<br/>- Иное]
  OWNERSHIP_B --> OWNERSHIP_B_DETAILS

  %% РЕКВИЗИТЫ ОСНОВАНИЯ ПРАВА B
  OWNERSHIP_B_DETAILS{Если основание — договор/решение/акт → обязательные реквизиты}
  OWNERSHIP_B_DETAILS -->|Договор| B_CONTRACT[
    Поля:<br/>- Дата<br/>- Тип<br/>- Нотариус (ФИО/контора)<br/>- № лицензии<br/>- Дата выдачи лицензии<br/>- Реестровый номер<br/>- Upload]
  OWNERSHIP_B_DETAILS -->|Решение акима| B_AKIM[
    Поля:<br/>- Номер<br/>- Дата<br/>- Орган<br/>- Upload]
  OWNERSHIP_B_DETAILS -->|Наследство| B_INHERIT[
    Поля:<br/>- Акт<br/>- Upload]
  OWNERSHIP_B_DETAILS -->|Иное| B_OTHER[Ручной ввод + Upload]
  B_CONTRACT --> VALUE_SECTION
  B_AKIM --> VALUE_SECTION
  B_INHERIT --> VALUE_SECTION
  B_OTHER --> VALUE_SECTION

  %% СТОИМОСТЬ ОБМЕНИВАЕМЫХ ОБЪЕКТОВ
  VALUE_SECTION[Оценочная стоимость объектов:<br/>- Стоимость объекта A (обяз.)<br/>- Стоимость объекта B (обяз.)<br/>- Если разница → появляется поле "Доплата" (кто кому платит и сколько)]
  VALUE_SECTION --> EXPENSES

  %% РАСХОДЫ ПО СДЕЛКЕ
  EXPENSES[Расходы нотариуса и регистрационные (обяз., 1):<br/>- Оплачивает Сторона 1<br/>- Оплачивает Сторона 2<br/>- 50/50]
  EXPENSES --> REPRESENTATION

  %% ЛИЧНО / ПО ДОВЕРЕННОСТИ
  REPRESENTATION[Для каждой стороны:<br/>- Лично<br/>- По доверенности (обязательные поля: реестровый номер, кем выдана, дата выдачи, № лицензии нотариуса, upload скана)]
  REPRESENTATION --> DOCS

  %% ДОКУМЕНТЫ
  DOCS[Обязательные документы:<br/>- Паспорта всех участников<br/>- Правоустанавливающие документы на оба объекта<br/>- Выписка из реестра прав по двум объектам<br/>- Согласия супругов (если требуются)<br/>- Справки о семейном положении (если выбран вариант "не состоит")<br/>- Документы по оценке стоимости (опц., если нужно)]
  DOCS --> VALIDATION

  %% ВАЛИДАЦИЯ
  VALIDATION{Проверить:<br/>- Данные сторон<br/>- Данные супругов/согласия<br/>- Полные реквизиты объектов<br/>- Основания прав + реквизиты документов<br/>- Стоимость объектов<br/>- Доплата (если требуется)<br/>- Кто оплачивает расходы<br/>- Доверенности (если применимо)}
  VALIDATION -->|Ошибка| ERR[Вывести список ошибок → вернуть на исправление]
  ERR --> CORRECT[Пользователь исправляет] --> VALIDATION
  VALIDATION -->|OK| GENERATE

  %% ГЕНЕРАЦИЯ ДОГОВОРА
  GENERATE[Сформировать пакет документов:<br/>- Договор мены (.docx/.pdf)<br/>- Акты приёма-передачи для Объекта A и Объекта B<br/>- Приложения с копиями документов<br/>- Заявления в регистр]
  GENERATE --> SIGN

  %% ПОДПИСАНИЕ / НОТАРИУС
  SIGN[Подписание / нотариальное удостоверение]
  SIGN --> REGISTER

  %% ПОДАЧА В РЕЕСТР
  REGISTER[Подача в регистр → регистрация перехода прав]
  REGISTER --> END

  END([Готово — договор мены сформирован, объекты обменены])
Что важно учесть разработчику (обязательное):
1. Два набора объектных данных
Для объекта A (Сторона 1) и объекта B (Сторона 2):

тип недвижимости

адрес

кадастровый номер

правоустанав. документы

основание права с реквизитами

2. Брачный статус (обязательно для обеих сторон)
Каждая сторона выбирает один из 3 вариантов:

В браке → нужно согласие супруга + ввод данных супруга

Не состоит → заявление/чекбокс + опционально справка

Согласие имеется → upload или ввод реестрового номера согласия

3. Основание права собственности продавца / владельца
Если договор → обязательные поля:

дата

тип договора

ФИО нотариуса

номер лицензии

дата лицензии

реестровый номер

upload скана

Если решение акима → номер, дата, орган, upload.

Если наследство → реквизиты акта, upload.

4. Стоимость + Доплата
Оба объекта должны иметь:

стоимость A

стоимость B

если A ≠ B → появляется поле «доплата» + кто кому + сколько

5. Расходы по сделке
Чётко:

Сторона 1

Сторона 2

50/50

6. По доверенности
Если хоть одна сторона действует по доверенности:

реестровый номер доверенности

кем выдана

дата выдачи

лицензия нотариуса

дата лицензии

upload скана

7. Валидация блокирует генерацию договора
Не позволять формировать договор без:

загруженного основания права

согласий супругов (если требуется)

стоимости

данных обоих объектов

реквизитов доверенностей (при их использовании)

27 flowchart TD
  START([Старт: Форма "Договор дарения недвижимости"])

  %% МЕТА
  START --> META[Метаданные:<br/>- ID сделки (генер.)<br/>- Место составления (город/нотариус)]

  META --> OBJECT_TYPE

  %% ТИП ОБЪЕКТА
  OBJECT_TYPE[Выберите тип объекта (обяз., 1):<br/>- Квартира<br/>- Жилой дом / дача<br/>- Земельный участок<br/>- Нежилое помещение<br/>- Гараж / паркинг<br/>- Доля в праве]
  OBJECT_TYPE --> OBJECT_DETAILS

  %% ДАННЫЕ ОБЪЕКТА
  OBJECT_DETAILS[Данные объекта (обяз.):<br/>- Адрес / кадастровый номер<br/>- Правоустанавливающие документы (серия/№, кем/дата)<br/>- Наличие обременений (ипотека, арест, аренда) — чекбокс]
  OBJECT_DETAILS --> PARTIES

  %% СТОРОНЫ: ДАРИТЕЛЬ И ОДАРЯЕМЫЙ
  PARTIES[Стороны (обяз.):<br/>- Даритель: карточка (ФИО, ИИН, паспорт, адрес, контакт)<br/>- Одаряемый: карточка (ФИО, ИИН, паспорт, адрес, контакт)]
  PARTIES --> DONOR_MARRIAGE

  %% БРАЧНЫЙ СТАТУС ДАРИТЕЛЯ
  DONOR_MARRIAGE{Брачный статус дарителя (обяз., выбрать 1 из 3)}
  DONOR_MARRIAGE -->|В браке сейчас| DONOR_MARRIED[Поля супруга дарителя: ФИО, ИИН, док.; согласие супруга (upload/реестровый №) — ОБЯЗАТЕЛЬНО, если имущество совместное]
  DONOR_MARRIAGE -->|Не состоял/не состоит| DONOR_NOT_MARRIED[Отметка "не состоит" / upload справки при необходимости]
  DONOR_MARRIAGE -->|Согласие уже имеется| DONOR_CONSENT[Чекбокс + upload согласия/реестровый №]
  DONOR_MARRIED --> OWNERSHIP_D
  DONOR_NOT_MARRIED --> OWNERSHIP_D
  DONOR_CONSENT --> OWNERSHIP_D

  %% БРАЧНЫЙ СТАТУС ОДАРЯЕМОГО (если требуется)
  OWNERSHIP_D --> DONEE_MARRIAGE{Брачный статус одаряемого (информативно):<br/>— В браке / Не состоит / Согласие имеется (upload)}
  DONEE_MARRIAGE --> OWNERSHIP_SRC

  %% ОСНОВАНИЕ ПРАВА ДАРИТЕЛЯ
  OWNERSHIP_SRC[Основание права дарителя (обяз., выбрать 1):<br/>- Договор купли-продажи (реквизиты)<br/>- Договор дарения (предыдущий)<br/>- Наследство (акт)<br/>- Решение органа (решение акима и т.п.)<br/>- Иное (ручной ввод)]
  OWNERSHIP_SRC --> OWNERSHIP_SRC_DETAILS

  %% РЕКВИЗИТЫ ПРЕДЫДУЩЕГО ДОКУМЕНТА (если применимо)
  OWNERSHIP_SRC_DETAILS{Если основание = договор/решение/наследство → показать поля}
  OWNERSHIP_SRC_DETAILS -->|Договор| PREV_CONTRACT[
    Поля (обяз.):<br/>- Тип договора (купля/дарение/иное)<br/>- Дата договора<br/>- Нотариус (ФИО/контора), № лицензии, дата выдачи лицензии<br/>- Реестровый/рег. номер договора<br/>- Upload копии]
  OWNERSHIP_SRC_DETAILS -->|Решение органа| ORG_DECISION[
    Поля:<br/>- Номер решения<br/>- Дата и орган<br/>- Upload]
  OWNERSHIP_SRC_DETAILS -->|Наследство| INHERITANCE_SRC[
    Поля:<br/>- Реквизиты акта о наследстве<br/>- Upload]
  OWNERSHIP_SRC_DETAILS -->|Иное| OTHER_SRC[Текст + Upload]

  PREV_CONTRACT --> GIFT_CONDITIONS
  ORG_DECISION --> GIFT_CONDITIONS
  INHERITANCE_SRC --> GIFT_CONDITIONS
  OTHER_SRC --> GIFT_CONDITIONS

  %% УСЛОВИЯ ДАРЕНИЯ
  GIFT_CONDITIONS[Условия дарения (обяз., выбрать):<br/>- Безвозмездно (обычный дар)<br/>- С обременением/обязанием (описать условие)<br/>- С пожизненным содержанием (реквизиты обязательств)<br/>- С правом отказа/отмены при условиях (описать)<br/>- Частичный дар (только доля %)]
  GIFT_CONDITIONS --> VALUE_SECTION

  %% ОЦЕНКА / СТОИМОСТЬ (информативно/для налогов)
  VALUE_SECTION[Информационно (рекомендуется):<br/>- Оценочная / рыночная стоимость объекта (для налогов/учёта)<br/>- Upload отчёта оценщика (если есть)]
  VALUE_SECTION --> TAXES_AND_FEES

  %% НАЛОГИ / ГОСПОШЛИНЫ / УВЕДОМЛЕНИЯ
  TAXES_AND_FEES[Налоги/платежи/уведомления (информативно):<br/>- Налоговые последствия (налог с дарения — в зависимости от статуса сторон)<br/>- Госпошлины за регистрацию перехода прав<br/>- Обязанность уведомить третьих лиц (если необходимо)]
  TAXES_AND_FEES --> DOCUMENTS_REQUIRED

  %% СПИСОК ДОКУМЕНТОВ
  DOCUMENTS_REQUIRED[Документы (чеклист/upload, обяз.):<br/>- Паспорта / ИИН сторон<br/>- Правоустанавливающие документы (предыдущий договор/акты)<br/>- Выписка из реестра прав (актуальная)<br/>- Согласия супругов (если требуется) — upload<br/>- Документы, подтверждающие условия (при обременении / пожизненном содержании)<br/>- Иные документы (опц.)]
  DOCUMENTS_REQUIRED --> REPRESENTATION

  %% ПРЕДСТАВИТЕЛЬСТВО / ДОВЕРЕННОСТИ
  REPRESENTATION[Кто приходит лично / действует по доверенности:<br/>- Лично — подпись и удостоверение<br/>- По доверенности — поля: реестровый № доверенности, кем выдана, дата выдачи, № лицензии нотариуса, upload скана (обяз.)]
  REPRESENTATION --> VALIDATION

  %% ВАЛИДАЦИЯ
  VALIDATION{Валидация (перед генерацией и подписями):<br/>- Заполнены данные дарителя и одаряемого?<br/>- Основание права загружено и валидно?<br/>- Если даритель в браке и имущество совместное — есть согласие супруга?<br/>- Указаны условия дарения (обременения/пожизнен. содержание) и приложены доки?<br/>- Актуальна выписка из реестра (нет арестов/ипотеки) или есть условие снятия?<br/>- При подаче по доверенности — реквизиты доверенности загружены?}
  VALIDATION -->|Ошибка| SHOW_ERRORS[Показать ошибки / запросить доп. доки]
  SHOW_ERRORS --> CORRECT[Пользователь загружает/исправляет] --> VALIDATION
  VALIDATION -->|OK| GENERATE_DOCS

  %% ГЕНЕРАЦИЯ ДОКУМЕНТОВ
  GENERATE_DOCS[Генерация документов (шаблоны / финал):<br/>- Договор дарения (.docx/.pdf) — с полным текстом условий<br/>- Акт передачи / приёма (если требуется)<br/>- Приложения: выписка из реестра, копии правоустан. документов, согласия супруга, отчёт оценщика (если есть)]
  GENERATE_DOCS --> SIGNING

  %% ПОДПИСАНИЕ И РЕГИСТРАЦИЯ
  SIGNING[Подписание / нотариальное удостоверение:<br/>- Подписи сторон, нотариальное заверение<br/>- Нотариус фиксирует проверку согласий/прав<br/>- Скан/архив всех материалов] --> REGISTER

  REGISTER[Подача в реестр / регистрация перехода прав:<br/>- Оплата госпошлины<br/>- Подача пакета в регистр (ЦОН/кадастр)<br/>- Получение записи о переходе прав (рег.№, дата)]
  REGISTER --> FINISH

  FINISH([Готово — договор дарения оформлен и зарегистрирован])
Краткие пояснения для разработчика (обязательные моменты)
Типы дарения / условия — предусмотреть варианты: обычный дар (безвозмездно), дар с обременением/условием, дар с пожизненным содержанием, частичный дар (доля). Для каждого условия — поле для детального описания и upload подтверждающих документов.

Согласие супруга — если даритель состоит в браке и объект — совместная собственность (или приобретён в браке), согласие супруга на дарение — обязательное поле (upload или ввод реестрового номера согласия). Три варианта для брачного статуса, как и в других flowcharts: «в браке» / «не состоит» / «согласие имеется».

Основание права дарителя — если даритель получил объект по договору/наследству/решению органа — обязать ввод реквизитов предыдущего документа: дата, кем удостоверен (нотариус / орган), лицензия нотариуса и реестровый номер, а также upload копии.

Проверка обременений — обязательно получать актуальную выписку из реестра прав; если есть ипотека/арест — блокировать регистрацию дарения пока не сняты/не согласованы условия (или фиксировать условие).

Налоговые/регистрационные моменты — предусмотреть поле с оценочной стоимостью (для налогов и отчетности) и инфо-блок о возможных налоговых обязательствах (в зависимости от статуса сторон).

Представительство — если кто-то действует по доверенности — реквизиты доверенности обязательны и upload скана.

Валидация — генерация договора и нотариальное заверение блокируются до загрузки всех обязательных документов и прохождения проверок.

Output — .docx/.pdf договор дарения с подстановкой всех реквизитов, приложения и акт приёма-передачи (если имущество передаётся фактически).

28 flowchart TD
  START([Старт: Форма "Договор аренды — недвижимость / ТС"])

  %% Выбор типа аренды
  START --> TYPE{Выберите тип арендуемого объекта (обяз.)}
  TYPE -->|Недвижимость| REAL
  TYPE -->|Транспортное средство| VEH

  %% --- НЕДВИЖИМОСТЬ ---
  REAL --> REAL_OBJ[Блок: Объект недвижимости (обяз.):<br/>- Тип: Квартира / Дом / Участок / Нежилое / Паркинг<br/>- Полный адрес<br/>- Кадастровый номер (если есть)]
  REAL_OBJ --> REAL_OWNERSHIP

  REAL_OWNERSHIP[Основание/подтверждение права (арендодатель вводит):<br/>- Выписка из реестра прав (обязательно): регистрационный номер / дата выдачи (ручной ввод)<br/>- Наличие обременений (ипотека/арест/аренда третьих лиц) — чекбокс + детали<br/>- Опционально: реквизиты предыдущего договора (если хотят указать)] 
  REAL_OWNERSHIP --> PARTIES_REAL

  PARTIES_REAL[Стороны (обяз.):<br/>- Арендодатель: ФИО/Наименование, ИИН/БИН, паспорт/документ<br/>- Арендатор: ФИО/ИИН, паспорт/документ<br/>- Контакты для каждой стороны]
  PARTIES_REAL --> MARITAL_OPTION_R

  MARITAL_OPTION_R{Нужна ли проверка/согласие супруга (по желанию)?}
  MARITAL_OPTION_R -->|Нет (по умолчанию)| MARITAL_SKIP_R[Не требуется — продолжаем]
  MARITAL_OPTION_R -->|Да — загрузить согласие| MARITAL_YES_R[Upload: нотариальное согласие супруга (реквизиты)]
  MARITAL_SKIP_R --> TERMS_R
  MARITAL_YES_R --> TERMS_R

  TERMS_R[Срок аренды (обяз.):<br/>- Тип: Фиксированный период (дата с — по) / Бессрочно с правом расторжения / Автомат. пролонгация (да/нет)] 
  TERMS_R --> PAYMENT_R

  PAYMENT_R[Оплата и гарантии (обяз.):<br/>- Арендная плата (сумма + валюта) — период (мес/год)<br/>- Порядок платежа (перечисление/наличными/карта)<br/>- Залог/депозит (сумма + условия возврата)<br/>- Доплата/коммунальные услуги (кто платит: арендатор/арендодатель/по счетчикам)] 
  PAYMENT_R --> USE_CONDS_R

  USE_CONDS_R[Права и обязанности (чекбоксы):<br/>- Использовать по назначению<br/>- Возможность субаренды (да/нет)<br/>- Разрешение на ремонт/переделки (требуется согласие)<br/>- Права на коммуналку/индексы/изменение тарифов<br/>- Порядок передачи ключей и акта приёма-передачи]
  USE_CONDS_R --> MAINTENANCE_R

  MAINTENANCE_R[Техническое обслуживание / ремонт:<br/>- Кто отвечает за текущий / капитальный ремонт<br/>- Условия оплаты работ и порядок согласования]
  MAINTENANCE_R --> INSURANCE_R

  INSURANCE_R[Страхование (опц.):<br/>- Требуется страховка имущества / ответственность арендатора (да/нет)<br/>- Полисы и контакты страхового агента (upload)]
  INSURANCE_R --> REGISTRATION_REQ_R

  REGISTRATION_REQ_R[Требования регистрации/уведомления:<br/>- Регистрация договора в ЦОН/реестре (если требуется) — чекбокс<br/>- Требование уведомить органов/соседей (опц.)]
  REGISTRATION_REQ_R --> DOCUMENTS_R

  DOCUMENTS_R[Документы к договору (обяз.):<br/>- Выписка из реестра прав (scan/upload)<br/>- Паспорт/ИИН сторон<br/>- Документы на обременения (при наличии)<br/>- Квитанции/договоры оплат (если предоплата)]
  DOCUMENTS_R --> VALIDATE_R

  VALIDATE_R{Валидация (обязательно):<br/>- Выписка реестра присутствует и совпадает с данными объекта?<br/>- Определён срок аренды?<br/>- Указана арендная плата и порядок оплаты?<br/>- Залог указан и условия возврата?<br/>- Согласия/документы (если выбраны) приложены?}
  VALIDATE_R -->|Ошибка| ERR_R[Показать ошибки -> загрузка/исправление] --> DOCUMENTS_R
  VALIDATE_R -->|OK| GENERATE_R

  GENERATE_R[Генерация договора аренды (недвижимость):<br/>- .docx/.pdf договор + акт приёма-передачи + приложения] --> SIGN_R

  SIGN_R[Подписание и нотариальное удостоверение (если требуется):<br/>- Подписи сторон / нотариус удостоверяет / проставляет пометки] --> ARCHIVE_R

  ARCHIVE_R[Архивация договора и запись в журнале] --> END_REAL([Готово — договор аренды недвижимости создан])

  %% --- ТРАНСПОРТНОЕ СРЕДСТВО ---
  VEH --> VEH_OBJ[Блок: Транспортное средство (обяз.):<br/>- Тип: авто / мото / спецтехника<br/>- Марка, модель, VIN, гос. номера<br/>- Рег. свидетельство (серия/№) — регистрационный номер / дата]
  VEH_OBJ --> VEH_OWNERSHIP

  VEH_OWNERSHIP[Подтверждение права/регистрации (обяз.):<br/>- Регистрационный документ / выписка: № / дата<br/>- Наличие обременений (арест/залоги) — чекбокс + детали<br/>- Страховой полис (OSAGO / CASCO) — upload (опц.)]
  VEH_OWNERSHIP --> PARTIES_V

  PARTIES_V[Стороны (обяз.):<br/>- Собственник / арендодатель: ФИО / ИИН / паспорт<br/>- Арендатор: ФИО / ИИН / паспорт]
  PARTIES_V --> MARITAL_OPTION_V

  MARITAL_OPTION_V{Проверка согласия супруга (инфо):}
  MARITAL_OPTION_V -->|Не требуется (по умолчанию)| MARITAL_SKIP_V
  MARITAL_OPTION_V -->|Требуется — upload согласия| MARITAL_YES_V
  MARITAL_SKIP_V --> VEH_TERMS
  MARITAL_YES_V --> VEH_TERMS

  VEH_TERMS[Срок аренды (обяз.):<br/>- Дата с — по / бессрочно с правом расторжения / прокат краткосрочный] 
  VEH_TERMS --> VEH_PAYMENT

  VEH_PAYMENT[Оплата и гарантии (обяз.):<br/>- Арендная плата (сумма + валюта) — период (дни/мес)<br/>- Залог/депозит (сумма + условия возмещения повреждений)<br/>- Возмещение износа / топливо / штрафы — кто оплачивает?]
  VEH_PAYMENT --> VEH_USAGE

  VEH_USAGE[Условия использования (чекбоксы):<br/>- Ограничение пробега (км) / география использования<br/>- Разрешение на передачу третьим лицам (субаренда) — да/нет<br/>- Обязанность предоставлять ТО и акты обслуживания]
  VEH_USAGE --> VEH_INSURANCE

  VEH_INSURANCE[Страховка и ответственность (обяз./опц.):<br/>- Кто держит полис (арендодатель/арендатор)<br/>- Порядок действий при ДТП / штрафы / ответственность]
  VEH_INSURANCE --> VEH_DOCUMENTS

  VEH_DOCUMENTS[Документы (обяз.):<br/>- Регистрационный документ (scan/upload)<br/>- Водительские права арендатора (если применимо) — upload<br/>- Полисы страхования / техосмотр (если применимо)]
  VEH_DOCUMENTS --> VALIDATE_V

  VALIDATE_V{Валидация (обязательно):<br/>- Совпадают VIN/гос.номер с регистрацией?<br/>- Определён срок аренды и плата?<br/>- Залог и условия возмещения определены?<br/>- Наличие документов (регистрация, права, страховка)?}
  VALIDATE_V -->|Ошибка| ERR_V[Показать ошибки -> исправление] --> VEH_DOCUMENTS
  VALIDATE_V -->|OK| GENERATE_V

  GENERATE_V[Генерация договора аренды (ТС):<br/>- .docx/.pdf договор + акт прием-передачи + чек-лист состояния техники] --> SIGN_V

  SIGN_V[Подписание и (при необходимости) нотариальное удостоверение:<br/>- Подписи сторон, акт состояния ТС, отметки о страховке] --> ARCHIVE_V

  ARCHIVE_V[Архивация и запись] --> END_VEH([Готово — договор аренды ТС создан])
Краткие пояснения и рекомендации для разработчика
Основание права: для аренды достаточно актуальной выписки/выписки из реестра прав с регистрационным номером и датой — это основное поле, которое подтверждает право сдавать объект. Полный реквизит предыдущего нотариального договора оставлен опциональным (ручной ввод), т.к. обычно не нужен.

Согласие супруга: по умолчанию не требуется для аренды — но оставил опцию «требуется/загрузить» для ситуаций, когда стороны или внешние органы запрашивают. При отметке «требуется» поле становится обязательным.

Документы: обязательным сделал upload выписки из реестра (недвижимость) / рег. свидетельства (ТС) и паспорт/ИИН сторон. Для утери/спора предусмотреть опцию запроса дополнительных документов.

Залог / депозит: фиксировать сумму и чёткие условия возврата/компенсации (акты приёма-передачи, акт состояния). Это часто ключевой предмет спора.

Субаренда: предусмотреть флаг «разрешена/запрещена» и условия (если разрешена — возможна доп. проверка/уведомление арендодателя).

Регистрация договора: в некоторых случаях (особенно долгосрочная аренда земли) требуется регистрация договора в государственных органах — сделать чекбокс, при включении которого открываются поля для реквизитов регистрации и выплаты госпошлины.

Валидация: никак не разрешать генерацию/подписание договора без обязательных документов/полей (выписка, сумма аренды, срок, залог при выборе).

Output: для недвижимости — договор + акт приёма-передачи + приложения (выписка из реестра, согласия). Для ТС — договор + акт состояния + фотопротокол + чек-лист страховки/ТО.

Аудит и хранение: сохранять все загруженные файлы, кто и когда подписал, статусы регистрации/оплаты.

29 flowchart TD
  START([Старт: Форма "Договор залога / ипотека"])

  START --> META[Метаданные сделки:<br/>- ID / номер<br/>- Место составления (город/нотариус)]

  META --> PARTIES

  %% СТОРОНЫ
  PARTIES[Стороны (обяз.):<br/>- Залогодавец (передающий залог): ФИО/наим., ИИН/БИН, паспорт/док, адрес, контакт<br/>- Залогодержатель (прибыльный): ФИЗ/БАНК/ЮР.ЛИЦО — выбрать тип]
  PARTIES --> PLEDGEE_TYPE

  %% ЗАЛОГОДЕРЖАТЕЛЬ: банк или физлицо/юрлицо
  PLEDGEE_TYPE{Залогодержатель — тип (обяз.)}
  PLEDGEE_TYPE -->|Банк / Кредитная организация| PLEDGEE_BANK[Блок: выбрать банк из справочника (drop-list) + указать банк (наименование), БИК/банковские реквизиты, контакт уполномоченного]
  PLEDGEE_TYPE -->|Физическое лицо / частное лицо| PLEDGEE_PERSON[Поля: ФИО, ИИН, паспорт, адрес, контакт]
  PLEDGEE_TYPE -->|Иное юр. лицо| PLEDGEE_ENTITY[Наименование, БИН, реквизиты, контакт]

  PLEDGEE_BANK --> OBJECT_BLOCK
  PLEDGEE_PERSON --> OBJECT_BLOCK
  PLEDGEE_ENTITY --> OBJECT_BLOCK

  %% ОБЪЕКТ ЗАЛОГА
  OBJECT_BLOCK[Объект залога (обяз., 1 или несколько):<br/>- Тип: Недвижимость (квартира/дом/участок/нежилое), Транспортное средство, Доля, Иное<br/>- Полный адрес / VIN / идентификатор / кадастр<br/>- Кадастровый/регистрационный номер (если есть)<br/>- Правоустанавливающий документ: серия/№, дата, кем выдан (upload)]
  OBJECT_BLOCK --> OWNERSHIP_PROOF

  %% ДОКАЗАТЕЛЬСТВО ПРАВА (основание)
  OWNERSHIP_PROOF[Подтверждение права (рекомендуется):<br/>- Выписка из реестра прав (рег. № / дата) — обязателен<br/>- Реквизиты предыдущего правоустанавливающего договора (если указано): тип договора, дата, нотариус, лицензия, реестр № (ручной ввод + upload)]
  OWNERSHIP_PROOF --> ENCUMBRANCES

  ENCUMBRANCES[Обременения / ограничения (чекбокс):<br/>- Есть ли ипотека/арест/аренда третьих лиц?<br/>- Если есть → поле: детали обременения (кредитор, сумма, рег. №, условие снятия)]
  ENCUMBRANCES --> MARRIAGE_CHECK

  %% БРАЧНЫЙ СТАТУС (если физлицо-залогодавец)
  MARRIAGE_CHECK{Если залогодавец — физлицо: проверить брачный статус}
  MARRIAGE_CHECK -->|В браке| ZD_MARRIED[Поля супруга(и): ФИО, ИИН, документ; Upload: нотариальное согласие супруга (если требуется по закону)]
  MARRIAGE_CHECK -->|Не состоит| ZD_NOT_MARRIED[Отметка "не состоит" / опц. справка]
  MARRIAGE_CHECK -->|Согласие имеется| ZD_CONSENT[Чекбокс + upload согласия/реестровый №]
  ZD_MARRIED --> LOAN_TERMS
  ZD_NOT_MARRIED --> LOAN_TERMS
  ZD_CONSENT --> LOAN_TERMS

  %% УСЛОВИЯ КРЕДИТА / ОБЯЗАТЕЛЬСТВА
  LOAN_TERMS[Условия кредита / обязательства (обяз.):<br/>- Сумма обязательства (основная сумма)<br/>- Процентная ставка (годовая %)<br/>- Порядок расчёта процентов (аннуитет/дифференц.)<br/>- Срок (мес/годы) или дата погашения<br/>- График погашения (платежи: ежемес/ежеквартал/и т.д.)<br/>- Возможность досрочного погашения (условия/штрафы)]
  LOAN_TERMS --> COLLATERAL_COVERAGE

  COLLATERAL_COVERAGE[Покрытие залогом (обяз.):<br/>- Покрывает ли залог 100% суммы или часть?<br/>- Если частично — указать покрываемую сумму/процент<br/>- Возможность дополнительного обеспечения (поручительство / депозит)]
  COLLATERAL_COVERAGE --> DEFAULT_REMEDY

  %% МЕРЫ ПРИ ДЕФОЛТЕ
  DEFAULT_REMEDY[Механизмы при нарушении/дефолте (обяз. пункты):<br/>- Уведомление о просрочке: сроки и форма уведомления<br/>- Право залогодержателя на удержание/взыскание / реализацию залога (описать процедуру)<br/>- Порядок продажи залога (через торги / публичная продажа / по договорённости) — указать метод<br/>- Порядок распределения выручки и расчёта остатка долга<br/>- Требование предварительного суда/исполн. листа (если применимо)]
  DEFAULT_REMEDY --> INSURANCE_BLOCK

  %% СТРАХОВАНИЕ И УХОД
  INSURANCE_BLOCK[Страхование и содержание (рекомендуется/обязательно):<br/>- Обязанность страховать (да/нет) — кто оплачивает страховую премию?<br/>- Полис (№/страховая компания) — upload<br/>- Техническое обслуживание / сохранность (договорённости) ]
  INSURANCE_BLOCK --> EXPENSES

  %% РАСХОДЫ И НАЛОГИ
  EXPENSES[Расходы и платежи (обяз.):<br/>- Кто оплачивает расходы по оформлению/регистрации: залогодавец / залогодержатель / разделено (выбрать)<br/>- Госпошлины за регистрацию залога (если требуется) — кто платит<br/>- Налоговые последствия (информативно) ]
  EXPENSES --> REGISTRATION

  %% РЕГИСТРАЦИЯ ЗАЛОГА
  REGISTRATION[Регистрация/внесение в реестр залогов (обяз., если предусмотрено законом):<br/>- Регистратор (ЦОН/реестр)<br/>- Регистрационный номер залога (поле для ввода после регистрации)<br/>- Дата регистрации (поле)<br/>- Порядок обновления записей/снятия залога после погашения]
  REGISTRATION --> REPRESENTATION_POA

  %% ПРЕДСТАВИТЕЛЬСТВО / ДОВЕРЕННОСТИ
  REPRESENTATION_POA[Кто действует лично / по доверенности (для каждой стороны):<br/>- Лично — подпись и удостоверение<br/>- По доверенности — реквизиты доверенности: реестровый №, кем выдана, дата, № лицензии нотариуса, upload скана]
  REPRESENTATION_POA --> VALIDATION

  %% ВАЛИДАЦИЯ
  VALIDATION{Валидация (обязательно перед подписанием):<br/>- Выписка из реестра прав на объект приложена и совпадает?<br/>- Указаны сумма и процент, график платежей?<br/>- Указан метод реализации при дефолте?<br/>- Приложены согласия супругов (если требуется)?<br/>- Реквизиты залогодержателя (банк/физлицо) полные?<br/>- Указаны платежные реквизиты и штрафы/стоимость досрочки?}
  VALIDATION -->|Ошибка| SHOW_ERR[Показать ошибки → запрос доп. документов / исправлений]
  SHOW_ERR --> CORRECT[Исправление/дополнение] --> VALIDATION
  VALIDATION -->|OK| GENERATE_DOCS

  %% ГЕНЕРАЦИЯ ДОКУМЕНТОВ
  GENERATE_DOCS[Генерация пакета документов:<br/>- Текст договора залога / ипотечного договора (.docx/.pdf)<br/>- График платежей и график погашения долга<br/>- Заявление на регистрацию залога (шаблон)<br/>- Акты приёма-передачи предмета залога (если применимо)<br/>- Уведомления/письма для последующей реализации]
  GENERATE_DOCS --> SIGNING

  SIGNING[Подписание / нотариальное удостоверение:<br/>- Подписи сторон / нотариальное удостоверение / проставление отметок<br/>- Сканирование и архивация документов] --> POST_REG

  %% ДЕЙСТВИЯ ПОСЛЕ ПОДПИСАНИЯ
  POST_REG[Действия после подписания:<br/>- Подать документы на регистрацию (если требуется)<br/>- Сохранить регистрационные реквизиты<br/>- Настроить напоминания по платежам/уведомлениям]
  POST_REG --> END([Готово — договор залога оформлен / зарегистрирован])
Короткие пояснения для разработчика (обязательные моменты)
Тип залогодержателя: реализовать выбор — банк из справочника (drop-list) или физлицо/юрлицо. Если выбран банк — подтянуть поля БИК/реквизиты и контакт уполномоченного; если физлицо — обычные паспортные поля.

Подтверждение права: для аренды/кредитов чаще достаточно выписки из реестра прав (регистрационный номер и дата). В flowchart это обязательный файл/поле. Также оставить возможность вручную ввести реквизиты предыдущего договора (тип, дата, нотариус, реестр №) — обязательны, если сторона указывает.

Согласие супругов: проверяется только если залогодавец — физлицо и имущество — совместная собственность; опция «согласие имеется» или «загрузить согласие» реализуется как обязательное поле в этом случае.

Регистрация залога: при наличии требования закона — регистрация в государственном реестре залогов (поле для регистрационного номера/даты). UI должен позволять ввести рег. номер после регистрации и сохранять запись.

Дефолт и реализация: обязательно предусмотреть текстовые блоки/шаблоны для процедуры взыскания: уведомление, возможность продажи через аукцион/публичную продажу, расчёт распределения выручки. Это важно юридически — предусмотреть варианты и рубрики.

Страхование: часто требуется банком — поле для полиса и upload.

Валидация: генерация договора и подписание запрещаются, пока не пройдены все обязательные проверки (выписка реестра, сумма/процент, рег. реквизиты при необходимости, согласия супругов).

Output: договор в .docx/.pdf + приложение: график платежей, заявление на регистрацию, акты приёма-передачи, копии выписок и согласий.

Аудит: сохранять кто и когда подписал, реквизиты регистрации, историю напоминаний по платежам и статусы исполнения.

30 flowchart TD
  START([Старт: Форма "Договор займа — физлицо ↔ физлицо"])

  %% МЕТАДАННЫЕ
  START --> META[Метаданные сделки:<br/>- Внутренний ID / Дата составления<br/>- Место / нотариус (опционально)]

  META --> PARTIES

  %% СТОРОНЫ
  PARTIES[Стороны (обяз.):<br/>- Кредитор (дающий деньги): ФИО, ИИН, паспорт, адрес, контакт<br/>- Заёмщик (берущий деньги): ФИО, ИИН, паспорт, адрес, контакт]
  PARTIES --> CAPACITY_CHECK

  %% СПОСОБНОСТЬ И ЛИЧНЫЕ СТАТУСЫ
  CAPACITY_CHECK[Проверка правоспособности (обяз.):<br/>- Проверить, что стороны дееспособны (не недееспособные / не несовершеннолетние). Если нет — потребовать опеку/суд решение.] 
  CAPACITY_CHECK --> LOAN_BASIC

  %% ОСНОВНЫЕ УСЛОВИЯ ЗАЙМА
  LOAN_BASIC[Условия займа (обяз.):<br/>- Сумма займа (валюта / цифрами и словами)<br/>- Процентная ставка (годовая % или без процентов)<br/>- Период (дата с — дата по) / срок погашения (мес/годы)<br/>- Вид: одноразовый/овердрафт/кредитная линия<br/>- Цель займа (опционально)] 
  LOAN_BASIC --> REPAYMENT

  %% ГРАФИК И УСЛОВИЯ ВОЗВРАТА
  REPAYMENT[Погашение и график (обяз.):<br/>- График платежей (ежемесячно/ежеквартал/единовременно)<br/>- Дата(ы) платежей + суммы<br/>- Способ оплаты (банковский перевод/наличные/и т.д.)<br/>- Условие досрочного погашения (есть/нет, штрафы/без штрафа)] 
  REPAYMENT --> INTEREST_PENALTIES

  INTEREST_PENALTIES[Проценты и штрафы (обяз.):<br/>- Процентная ставка: тип (фикс./плавающая) и порядок расчёта<br/>- Пени за просрочку: % или фикс. сумма за день/месяц<br/>- Порядок начисления и капитализации процентов] 
  INTEREST_PENALTIES --> SECURED_OPTION

  %% ОБЕСПЕЧЕНИЕ ЗАЙМА
  SECURED_OPTION{Обеспечение займа (обяз. выбор):<br/>- ▢ Без обеспечения (необеспеченный займ)<br/>- ▢ С обеспечением (залог/ипотека/поручительство/другие)} 
  SECURED_OPTION -->|Без обеспечения| UNSECURED
  SECURED_OPTION -->|С обеспечением| SECURED

  UNSECURED --> REPRESENTATION_UNSEC
  SECURED --> COLLATERAL_TYPE

  %% ТИПЫ ОБЕСПЕЧЕНИЯ
  COLLATERAL_TYPE[Выберите тип(ы) обеспечения (чекбоксы):<br/>- Недвижимость (ипотека / залог)<br/>- Движимое имущество (транспорт, оборудование) — залог движимого<br/>- Банковская гарантия / депозит / ценные бумаги<br/>- Поручительство (физ./юр. лицо)<br/>- Иное (ручной ввод)]
  COLLATERAL_TYPE -->|Недвижимость| COLL_REAL
  COLLATERAL_TYPE -->|Движимое| COLL_MOV
  COLLATERAL_TYPE -->|Поручительство| COLL_GUAR
  COLLATERAL_TYPE -->|Иное| COLL_OTHER

  %% ЗАЛОГ НЕДВИЖИМОСТИ
  COLL_REAL[Залог недвижимости — поля (обяз.):<br/>- Описание объекта: тип, адрес, кадастровый №<br/>- Документы: выписка из реестра (рег.№, дата) — upload (обяз.)<br/>- Указать: принадлежит ли объект совместно супругам? (да/нет) -> если "да" — требовать согласие супруга(и) на залог (upload/нот. согласие).<br/>- Указать реквизиты правоустанавливающего документа (если есть): дата, реестровый №, кем удостоверен (нотариус) — ручной ввод + upload]
  COLL_REAL --> REG_REAL

  REG_REAL[Регистрация обременения/ипотеки:<br/>- Требуется регистрация в реестре/кадастре — чекбокс (да/нет)<br/>- Поля для ввода рег. номера и даты после регистрации]
  REG_REAL --> REPRESENTATION_SEC

  %% ЗАЛОГ ДВИЖИМОГО ИМУЩЕСТВА
  COLL_MOV[Залог движимого имущества — поля (обяз.):<br/>- Описание предмета: тип, VIN/серийный №, марка/модель<br/>- Выписка/документы: регистрация залога движимого (если требуется) — регистрационный № / дата<br/>- Если имущество совместное супругами — требовать согласие супруга(и) на залог (upload)] 
  COLL_MOV --> REG_MOV

  REG_MOV[Регистрация залога движимого (если требуется):<br/>- Запись в реестр залогов движимого — номер / дата] 
  REG_MOV --> REPRESENTATION_SEC

  %% ПОРУЧИТЕЛЬСТВО
  COLL_GUAR[Поручительство — поля:<br/>- ФИО поручителя, ИИН, паспорт<br/>- Договор поручительства — сумма покрываемая, срок, порядок обращения] 
  COLL_GUAR --> REPRESENTATION_SEC

  COLL_OTHER[Иное обеспечение — поле описания + upload] --> REPRESENTATION_SEC

  %% ПРЕДСТАВИТЕЛЬСТВО
  REPRESENTATION_SEC[Представительство:<br/>- Лично или по доверенности (для каждой стороны/поручителя)<br/>- Если по доверенности — реквизиты доверенности: реестровый №, кем выдана, дата, № лицензии нотариуса, upload скана (обяз.)] 
  REPRESENTATION_SEC --> VALIDATION_SEC

  REPRESENTATION_UNSEC[Представительство для необеспеченного займа: аналогичные поля (лично / по доверенности)] --> VALIDATION_SEC

  %% ВАЛИДАЦИЯ
  VALIDATION_SEC{Валидация (обязательно перед подписанием):<br/>- Заполнены ФИО/ИИН/паспорт сторон?<br/>- Сумма и график платежей указаны?<br/>- Если обеспечение — приложены выписки/регистрации и (при совместной собственности) — согласия супруга(и)?<br/>- Проверен правовой статус обеспечения (есть ли обременения)?<br/>- Уточнена дееспособность сторон?}
  VALIDATION_SEC -->|Ошибка| SHOW_ERR[Показать ошибки/недостающие документы]
  SHOW_ERR --> CORRECT[Исправление/загрузка доков] --> VALIDATION_SEC
  VALIDATION_SEC -->|OK| GENERATE_DOC

  %% ГЕНЕРАЦИЯ ДОКУМЕНТОВ
  GENERATE_DOC[Генерация пакета документов (шаблоны и финал):<br/>- Договор займа (.docx/.pdf) с графиком платежей и процентами<br/>- Договор залога / ипотечный договор (если применимо)<br/>- Договор поручительства (если есть)<br/>- Акты приёма-передачи (для движимого) + фотопротокол<br/>- Заявления/шаблоны для регистрации залога (если нужно)<br/>- Счёт/квитанции на оплату гос. пошлин (если нужно)]
  GENERATE_DOC --> SIGN_NOTARY

  %% ПОДПИСАНИЕ И НОТАРИУС
  SIGN_NOTARY[Подписание / нотариальное удостоверение (опционально):<br/>- Подписи сторон; нотариальная регистрация (если стороны хотят/если требуется по закону); проставить отметки о проверке согласий/выписок]
  SIGN_NOTARY --> POST_REG

  %% РЕГИСТРАЦИЯ ЗАЛОГА / ДЕЙСТВИЯ ПОСЛЕ ПОДПИСАНИЯ
  POST_REG[Действия после подписания:<br/>- При наличии залога: подать документы в реестр залогов/кадастр<br/>- Внести регистрационные реквизиты (№/дата) в систему<br/>- Настроить напоминания по платежам / просрочкам / уведомлениям]
  POST_REG --> ARCHIVE

  ARCHIVE[Архивация и выдача копий:<br/>- Сохранить оригиналы/сканы; выдать копии сторонам; отправка уведомлений] --> END([Готово — договор займа оформлен])
Пояснения к flowchart (что важно на практике)
Согласие супруга. Если под залог идёт имущество, которое является совместной собственностью супругов, то залог такой вещи невозможен без нотариального согласия супруга(и). Поэтому в форме — при указании, что объект принадлежит совместно супругам — автоматически включаем обязательное поле загрузки согласия супруга. 
Кручева
+1

Кто должен брать согласие? Кредитор (дающий деньги) формально не «должен» просить согласие супруга просто потому что даёт деньги; но если кредитор требует залога — то кредитор обязан убедиться в наличии права залогодателя распоряжаться имуществом и в отсутствии препятствий (поэтому он потребует выписку из реестра и согласие супруга, если имущество совместное). Практика банков закрепляет это требование в правилах. 
Адилет
+1

Регистрация залога. При залоге движимого имущества и при ипотеке — регистрация в соответствующем государственном реестре обеспечивает приоритет прав и защищает залогодержателя. Поэтому после подписания договора нужно подавать документы в реестр и фиксировать регистрационный номер/дату. 
Закон Казахстана
+1

Поручительство и иные способы обеспечения. Поручительство (guarantee) — отдельный документ, требующий подписи поручителя и часто нотариальной формы. Если поручителем выступает супруг/поручитель — проверяй его дееспособность и согласие.

Практический чеклист для нотариуса/разработчика UI: обязательные поля: сумма + слова, график платежей, процентная ставка, дата возврата, виды обеспечения, загрузка выписок, поле «совместная собственность?» -> если Да — поле upload согласия супруга, поля для реквизитов регистрации залога (номер/дата), поля для реквизитов доверенностей (если стороны действуют по доверенности).

31 flowchart TD
  START([Старт: Форма "Договор поручения"])

  START --> META[Метаданные:<br/>- ID договора<br/>- Дата и место составления]

  %% СТОРОНЫ
  META --> PARTIES
  PARTIES[Стороны (обяз.):<br/>- Доверитель (ФИО, ИИН, паспорт, адрес)<br/>- Поверенный (ФИО, ИИН, паспорт, адрес)<br/>- Контакты сторон] 
  PARTIES --> CAPACITY

  %% ПРОВЕРКА ДЕЕСПОСОБНОСТИ
  CAPACITY[Проверка дееспособности:<br/>- Совершеннолетние?<br/>- Дееспособные?<br/>- Если нет → требуется документ опеки/решение суда + upload] 
  CAPACITY --> SCOPE

  %% ОБЪЁМ ПОРУЧЕНИЯ
  SCOPE[Предмет поручения (обяз.):<br/>Выбрать категории (чекбоксы):<br/>▢ Представление интересов<br/>▢ Подписание документов<br/>▢ Получение документов/справок<br/>▢ Совершение платежей<br/>▢ Передача/получение имущества<br/>▢ Совершение юридических действий<br/>▢ Действия в госорганах/ЦОН<br/>▢ Банковские операции<br/>▢ Иное (ручной ввод)]
  SCOPE --> DETAILS

  %% ДЕТАЛИ ПОЛНОМОЧИЙ
  DETAILS[Детализация (обязательные поля при выборе категорий):<br/>- Где действует (орган/учреждение)<br/>- Какие документы может подписывать<br/>- Какие документы может получать<br/>- Какие платежи может производить<br/>- Уточнение ограничений: сумма, сроки, типы действий]
  DETAILS --> PROPERTY

  %% ИМУЩЕСТВО/ДЕНЬГИ
  PROPERTY{Имеется ли передача имущества/денег поверенному?}
  PROPERTY -->|Да| PROP_DETAILS
  PROPERTY -->|Нет| TERM

  PROP_DETAILS[Передача имущества/денег:<br/>- Сумма (если деньги)<br/>- Описание имущества (тип, серия/№, состояние)<br/>- Цель передачи<br/>- Обязателен акт приёма-передачи (будет сгенерирован)]
  PROP_DETAILS --> TERM

  %% СРОК ДЕЙСТВИЯ
  TERM[Срок поручения:<br/>- Фиксированный: дата начала–окончания<br/>- До выполнения поручения<br/>- Бессрочно с правом отзыва]
  TERM --> SUBSTITUTION

  %% ПРАВО ПЕРЕДОВЕРИЯ
  SUBSTITUTION{Право передоверия?}
  SUBSTITUTION -->|Разрешено| SUB_YES[Поля:<br/>- Условия передоверия<br/>- Требование уведомлять доверителя]
  SUBSTITUTION -->|Запрещено| SUB_NO[Отметка "передоверие запрещено"]
  SUB_YES --> REMUN
  SUB_NO --> REMUN

  %% ВОЗНАГРАЖДЕНИЕ
  REMUN{Вознаграждение поверенному?}
  REMUN -->|Да| REM_DETAILS[Поля:<br/>- Сумма / ставка<br/>- Порядок выплаты<br/>- Сроки выплат]
  REMUN -->|Нет| REM_FREE[Отметка "безвозмездно"]
  REM_DETAILS --> REPORT
  REM_FREE --> REPORT

  %% ОТЧЁТНОСТЬ
  REPORT[Отчётность поверенного:<br/>- Обязан ли предоставлять отчёт? (да/нет)<br/>- Форма отчёта: устно/письменно/с документами<br/>- Срок предоставления отчёта]
  REPORT --> REPRESENTATION

  %% КТО ПРИШЁЛ ПОДПИСЫВАТЬ
  REPRESENTATION[Подписание:<br/>- Стороны приходят лично или по доверенности<br/>- Если по доверенности → ввод реквизитов: реестр №, кем выдано, дата, № лицензии нотариуса, upload скана]
  REPRESENTATION --> VALIDATION

  %% ВАЛИДАЦИЯ
  VALIDATION{Проверка (обяз.)<br/>- Заполнены данные сторон?<br/>- Понятен объём поручения?<br/>- Указан срок?<br/>- Добавлены ограничения (если есть)?<br/>- Если имущество/деньги → заполнены и описаны?<br/>- Если по доверенности → реквизиты доверенности загружены?}
  VALIDATION -->|Ошибка| ERR[Показать ошибки / запросить исправления] --> DETAILS
  VALIDATION -->|OK| GENERATE

  %% ГЕНЕРАЦИЯ ДОКУМЕНТОВ
  GENERATE[Генерация документов:<br/>- Договор поручения (.docx/.pdf)<br/>- Акт приёма-передачи имущества/денег (если есть)<br/>- Дополнительные листы с перечнем полномочий]
  GENERATE --> SIGN

  %% ПОДПИСАНИЕ
  SIGN[Подписание / нотариальная форма (если требуется):<br/>- Подписи сторон<br/>- При необходимости нотариус удостоверяет факт заключения]
  SIGN --> ARCHIVE

  ARCHIVE[Архивация / выдача копий:<br/>- Сохранить сканы, выдать копии сторонам] --> END([Готово — договор поручения сформирован])
Что важно учесть разработчику / нотариусу
1. Согласие супругов НЕ требуется
Для договора поручения согласие супруга не требуется, потому что:

это не распоряжение имуществом,

и не создание обременений,

полномочия — это действия доверенного лица, но не отчуждение совместного имущества.

Исключение:
Если договор поручения сопровождается передачей имущества, являющегося совместной собственностью → согласие супруга может быть нужно, но это касается именно передачи имущества, а не самого договора поручения.

В твоём продукте это правильно сделано через блок “Передача имущества/денег → акт → проверка принадлежности”.

2. Поручение ≠ доверенность
Договор поручения — обязательственное соглашение.
Поверенный действует от имени доверителя, но сам договор поручения не является доверенностью.

Система должна по желанию генерировать:

договор поручения,

доверенность (если доверитель хочет выдать её для чиновников).

3. Обязательно предусмотреть акт приёма-передачи
Если в рамках поручения передают:
✔ деньги,
✔ документы,
✔ имущество — нужна форма акта.

В flowchart это есть.

4. Передоверие — мощный юридический пункт
Если разрешают передоверять → можно использовать отсутствующего человека через третье лицо.
Поэтому это либо:

запрещено по умолчанию,

либо нужно развернутое описание условий.

5. Отчётность — важнейший элемент
Поверенный обязан:

давать отчёт,

передавать всё полученное в рамках поручения,

компенсировать ущерб при нарушении.

В продукте должно быть: checkbox «обязателен отчёт».

32 flowchart TD
  START([Старт: Форма "Договор уступки прав (цессия)"])

  START --> META
  META[Метаданные:<br/>- ID договора<br/>- Место/дата составления<br/>- Тип уступаемых прав] --> CHOOSE_RIGHTS

  %% ТИП УСТУПАЕМЫХ ПРАВ
  CHOOSE_RIGHTS[Выбрать, какие права уступаются (обяз.)<br/>▢ Права требования по займу / расписке<br/>▢ Права требования по договору купли-продажи<br/>▢ Права требования по договору ДДУ / долевого участия<br/>▢ Права арендатора / субарендатора<br/>▢ Права на получение денежных средств<br/>▢ Иное (ручной ввод)] 
  CHOOSE_RIGHTS --> PARTIES

  %% СТОРОНЫ
  PARTIES[Стороны сделки:<br/>- Цедент (уступающий): ФИО, ИИН, паспорт, адрес<br/>- Цессионарий (приобретающий права): ФИО, ИИН, паспорт, адрес] 
  PARTIES --> CAPACITY

  %% ДЕЕСПОСОБНОСТЬ
  CAPACITY[Проверка дееспособности:<br/>- Совершеннолетний?<br/>- Дееспособный?<br/>Если нет → опека/попечительство (upload)] --> BASE_CONTRACT

  %% ИСХОДНЫЙ ДОГОВОР (ОБЯЗАТЕЛЕН)
  BASE_CONTRACT[Первоначальный договор (обяз.)<br/>- Тип договора (какой именно)<br/>- Номер/дата<br/>- Стороны договора<br/>- Нотариус/орган, который удостоверил (если применимо)<br/>- Реестровый № (если есть)<br/>- Upload копии → ОБЯЗАТЕЛЬНО] --> CHECK_ASSIGNABILITY

  %% ПРОВЕРКА ВОЗМОЖНОСТИ УСТУПКИ
  CHECK_ASSIGNABILITY{Запрещена ли уступка прав по исходному договору?}
  CHECK_ASSIGNABILITY -->|Да (запрещена)| BLOCK[Вывести ошибку: уступка невозможна → остановить процесс]
  CHECK_ASSIGNABILITY -->|Нет| CONSENTS

  %% СОГЛАСИЯ, ЕСЛИ ТРЕБУЮТСЯ
  CONSENTS[Требуется ли согласие другой стороны первоначального договора?<br/>Например:<br/>- Уступка прав по ДДУ (часто требуется согласие застройщика)<br/>- Уступка прав аренды (согласие арендодателя)<br/>- Уступка прав по кредиту (согласие кредитора)<br/>- Банковские обязательства (согласие банка)] --> CONSENTS_CHECK

  CONSENTS_CHECK{Уступка требует согласия?}
  CONSENTS_CHECK -->|Да| CONSENT_UPLOAD[Загрузить согласие (ФИО/орган, дата, № документа, upload)]
  CONSENTS_CHECK -->|Нет| VALUE

  CONSENT_UPLOAD --> VALUE

  %% СТОИМОСТЬ УСТУПКИ
  VALUE[Цена уступки (обяз.):<br/>- Сумма уступки (цифрами и словами)<br/>- ▢ Безвозмездно (если отмечено → сумма скрывается)<br/>- Валюта<br/>- Срок и порядок оплаты] --> DEBT_AMOUNT

  %% СУММА ТРЕБОВАНИЯ (ОСТАТОК ПО ДОЛГУ)
  DEBT_AMOUNT[Сумма уступаемого права (обяз.):<br/>- Общая сумма обязательства<br/>- Остаток долга/обязательства<br/>- Что именно уступается: требование в полном объёме или частично<br/>- Дата актуальности расчёта] --> DOCUMENT_TRANSFER

  %% ПЕРЕДАЧА ДОКУМЕНТОВ
  DOCUMENT_TRANSFER[Какие документы передаются цессионарию:<br/>▢ Оригинал договора<br/>▢ Расписки<br/>▢ Графики платежей<br/>▢ Доп. соглашения<br/>▢ Переписка / уведомления<br/>▢ Судебные документы (если есть)<br/>→ Формируется «Акт передачи документов»] --> NOTIFY_DEBTOR

  %% УВЕДОМЛЕНИЕ ДОЛЖНИКА
  NOTIFY_DEBTOR{Нужно уведомлять должника?}
  NOTIFY_DEBTOR -->|Да| NOTIFY_FIELDS[Поля уведомления:<br/>- ФИО должника / Наименование<br/>- Адрес / контакты<br/>- Способ уведомления (лично/по адресу/электронно)<br/>- Срок уведомления<br/>- Генерируется текст уведомления]
  NOTIFY_DEBTOR -->|Нет| LIMITATIONS

  NOTIFY_FIELDS --> LIMITATIONS

  %% ОГРАНИЧЕНИЯ / ОБЪЁМ ПЕРЕХОДЯЩИХ ПРАВ
  LIMITATIONS[Ограничения уступаемых прав:<br/>▢ Переходит право на взыскание<br/>▢ Переходит право на пени/штрафы<br/>▢ Переходит право на залог (если был залог)<br/>▢ Переходят права по суду / исполнительному листу<br/>▢ Исключения (ручной ввод)] --> REPRESENTATION

  %% ПРЕДСТАВИТЕЛЬСТВО
  REPRESENTATION[Подписание:<br/>- Лично / по доверенности<br/>- Если по доверенности — ввести реквизиты доверенности: реестр №, кем выдана, дата, № лицензии нотариуса, upload скана] --> VALIDATION

  %% ВАЛИДАЦИЯ
  VALIDATION{Валидация:<br/>- Загружен исходный договор?<br/>- Не запрещена ли уступка?<br/>- Есть согласие (если требуется)?<br/>- Указана сумма уступки / безвозмездность?<br/>- Указана сумма долга?<br/>- Определён объём передаваемых прав?<br/>- Указано уведомление должника?<br/>- Реквизиты доверенности (если есть)?}
  VALIDATION -->|Ошибка| ERR[Показать ошибки → вернуться к заполнению]
  ERR --> REVISE[Исправления] --> VALIDATION
  VALIDATION -->|OK| GENERATE

  %% ГЕНЕРАЦИЯ ДОКУМЕНТОВ
  GENERATE[Генерация документов:<br/>- Договор уступки прав (цессия)<br/>- Акт передачи документов<br/>- Уведомление должнику (если требуется)<br/>- Приложения: копии договоров, справки, переписка] --> SIGN

  %% ПОДПИСАНИЕ
  SIGN[Подписание:<br/>- Подписи сторон / нотариальное удостоверение при необходимости] --> ARCHIVE

  %% АРХИВАЦИЯ
  ARCHIVE[Архивация / выдача экземпляров сторонам<br/>Сохранение документов в системе] --> END([Готово — договор уступки оформлен])
Что важно учесть разработчику (обязательные юридические моменты)
1. Исходный договор ВСЕГДА обязателен
Без загрузки исходного договора уступка невозможна.
UI должен блокировать весь дальнейший процесс без upload.

2. Проверка: разрешена ли уступка
Некоторые договоры содержат:

прямой запрет уступки;

требование обязательного согласия второй стороны.

✔ В flowchart это есть: блок CHECK_ASSIGNABILITY.

3. Согласие другой стороны
Например:

Уступка прав по долевому участию (ДДУ) часто требует согласия застройщика.

Уступка прав аренды — согласия арендодателя.

Уступка прав по кредиту — согласия банка.

✔ В диаграмме — блок CONSENTS.

4. Цена уступки или безвозмездная уступка
Оба варианта обязательны:
✔ сумма уступки,
✔ либо галочка “безвозмездно”.

5. Передача документов
Каждый договор уступки требует составления:
📄 Акта передачи документов, включая:

оригиналы договоров,

расписки,

график платежей,

уведомления,

заявления.

✔ Flowchart это учитывает.

6. Уведомление должника
По ГК — должник должен быть уведомлен о смене кредитора.
Без уведомления должник может платить старому кредитору = риск.

✔ Flowchart создаёт уведомление автоматически.

7. Ограничения переходящих прав
Важно дать нотариусу/пользователю чекбоксы:

переходят ли пени, штрафы,

переходят ли права на залог,

переходят ли исполнительные производства.

8. Представительство по доверенности
✔ обязательно реквизиты: реестровый №, дата, лицензия нотариуса, кем выдана, upload.

9. Валидация перед формированием договора
Нельзя формировать договор пока:
✘ не загружен исходный договор
✘ не загружено согласие (если требуется)
✘ не указана сумма/объём прав
✘ не сформирован акт
✘ реквизиты доверенности не указаны (если по доверенности)

33 flowchart TD
  START([Старт: Форма "Договор раздела имущества"])

  START --> META
  META[Метаданные:<br/>- ID договора<br/>- Дата/место составления<br/>- Основание для раздела: брак / развод / сожительство] --> MARITAL_STATUS

  %% 1. СТАТУС ОТНОШЕНИЙ
  MARITAL_STATUS{Супруги состоят в браке?}
  MARITAL_STATUS -->|Да| IN_MARRIAGE
  MARITAL_STATUS -->|Нет, в разводе| DIVORCED
  MARITAL_STATUS -->|Никогда не состояли (фактические отношения)| CIVIL_WARNING

  IN_MARRIAGE[Поля:<br/>- Дата регистрации брака<br/>- Орган ЗАГС<br/>- Необходим документ: свидетельство о браке (upload)] --> PARTIES

  DIVORCED[Поля:<br/>- Дата развода<br/>- Орган ЗАГС / суд<br/>- Свидетельство или решение суда (upload)] --> PARTIES

  CIVIL_WARNING[Система выводит предупреждение:<br/>"Раздел имущества возможен только для имущества, оформленного в совместную долю".<br/>Попросить загрузить документы на собственность.] --> PARTIES

  %% 2. СТОРОНЫ
  PARTIES[Стороны (обяз.)<br/>- Сторона 1: ФИО, ИИН, паспорт, адрес<br/>- Сторона 2: ФИО, ИИН, паспорт, адрес] --> CAPACITY

  CAPACITY[Проверка дееспособности:<br/>- Оба совершеннолетние?<br/>- Дееспособные?<br/>Если нет → документ опеки/суда (upload)] --> PROPERTY_LIST

  %% 3. ПЕРЕЧЕНЬ ИМУЩЕСТВА
  PROPERTY_LIST[Выбор имущества, подлежащего разделу (чекбоксы):<br/>▢ Недвижимость<br/>▢ Транспортные средства<br/>▢ Банковские счета / депозиты<br/>▢ Ценные бумаги / доли в ТОО<br/>▢ Денежные средства<br/>▢ Иное имущество (ручной ввод)] --> PROPERTY_ITEMS

  %% 4. ОБЪЕКТЫ РАЗДЕЛА
  PROPERTY_ITEMS[Для каждого выбранного объекта:<br/>- Полное описание:<br/>  > Недвижимость — адрес, кадастр, основание права<br/>  > Транспорт — марка, VIN, гос. номер<br/>  > Счета — банк, № счёта<br/>  > Доли — название ТОО, % доли, БИН<br/>- Подтверждающие документы (upload)] --> OWNERSHIP_CHECK

  %% 5. ПРОВЕРКА ПРИНАДЛЕЖНОСТИ
  OWNERSHIP_CHECK{Имущество является совместно нажитым?}
  OWNERSHIP_CHECK -->|Да| JOINT
  OWNERSHIP_CHECK -->|Нет| PERSONAL

  JOINT[Поля:<br/>- Основание приобретения: договор купли-продажи / дарения / наследства<br/>- Дата и реквизиты договора<br/>- Если имущество получено в дар/наследство — отметить как личное (не делится)] --> DIVISION

  PERSONAL[Элемент отмечается как личное имущество одной стороны → делится только при договорённости] --> DIVISION

  %% 6. СПОСОБ РАЗДЕЛА
  DIVISION[Как делится имущество:<br/>▢ В равных долях (50/50)<br/>▢ В иных долях (указать % каждому)<br/>▢ Полностью одной стороне (с компенсацией / без компенсации)<br/>- Если компенсация → сумма + порядок выплаты] --> OBLIGATIONS

  %% 7. ФИНАНСОВЫЕ РАСЧЁТЫ
  OBLIGATIONS[Финансовые обязательства:<br/>- Компенсация (если есть) — сумма, сроки, реквизиты получения<br/>- Обязательства по кредитам/ипотекам:<br/>   ▢ Кредит остаётся за Стороной 1<br/>   ▢ За Стороной 2<br/>   ▢ Делится поровну<br/>   ▢ Переходит полностью (если банк согласен)<br/>→ Upload согласия банка, если требуется] --> CLAIMS

  %% 8. ВЗАИМНЫЕ ПРЕТЕНЗИИ
  CLAIMS{Стороны отказываются от взаимных имущественных претензий?}
  CLAIMS -->|Да| NO_CLAIMS[Отметка “Стороны подтверждают отсутствие взаимных претензий”]
  CLAIMS -->|Нет| CLAIMS_DETAILS[Поля: какие претензии, сумма, обязательства]
  NO_CLAIMS --> REPRESENTATION
  CLAIMS_DETAILS --> REPRESENTATION

  %% 9. ПРЕДСТАВИТЕЛЬСТВО
  REPRESENTATION[Подписание:<br/>- Лично или по доверенности<br/>- Если по доверенности — ввести реквизиты: реестр №, кем выдана, дата, № лицензии нотариуса, upload] --> VALIDATION

  %% 10. ВАЛИДАЦИЯ
  VALIDATION{Проверка:<br/>- Данные сторон заполнены?<br/>- Загрузили документы на имущество?<br/>- Корректно указан вид собственности?<br/>- Распределены доли?<br/>- Указана компенсация (если есть)?<br/>- Достоверны реквизиты кредитов (если есть)?<br/>- Реквизиты доверенности корректны?} 
  VALIDATION -->|Ошибка| ERR[Ошибка → вернуться и исправить]
  ERR --> PROPERTY_ITEMS
  VALIDATION -->|OK| GENERATE

  %% 11. ГЕНЕРАЦИЯ ДОКУМЕНТОВ
  GENERATE[Генерация документов:<br/>- Договор раздела имущества (.docx/.pdf)<br/>- Приложение: перечень имущества<br/>- Расчёт компенсации (если есть)<br/>- Акт передачи имущества (если есть)] --> SIGN

  %% 12. ПОДПИСАНИЕ
  SIGN[Подписание / нотариальное удостоверение:<br/>- Подписи сторон<br/>- Отметки о проверке брачного статуса, документов] --> ARCHIVE

  %% 13. АРХИВАЦИЯ
  ARCHIVE[Архивация / выдача экземпляров<br/>Сканирование и сохранение файлов] --> END([Готово — договор раздела имущества оформлен])
Что должен понимать разработчик (обязательные моменты)
1. Документы, которые обязательно должны быть загружены
свидетельство о браке / разводе;

документы на имущество:
✔ выписка о праве собственности
✔ свидетельство о регистрации ТС
✔ документы на долю в ТОО
✔ справки банка по счетам.

2. Автоматическая логика в системе
Система должна:

✓ распознавать личное имущество
(дарение, наследство → не делится)

✓ требовать согласие банка
если делят ипотечное имущество.

✓ автоматически предлагать:
акт передачи имущества,

акт расчётов,

список имущества как приложение.

3. Компенсация — обязательный функционал
Если доли неравные → обязательно:

сумма,

сроки,

порядок выплаты

подтверждение получения (акт).

4. Валидация обязательно должна блокировать
отсутствие документов на имущество,

отсутствие распределения долей,

компенсации “0” при неравном разделе,

отсутствие согласия банка при разделе ипотечного имущества,

отсутствие реквизитов доверенности.

34 flowchart TD
  START([Старт: Форма "Договор доверительного управления имуществом"])

  START --> META
  META[Метаданные:<br/>- ID / дата / место<br/>- Тип имущества для управления] --> PARTIES

  %% 1. СТОРОНЫ
  PARTIES[Стороны (обяз.):<br/>- Учредитель управления (ФИО, ИИН, паспорт, адрес)<br/>- Доверительный управляющий (ФИО, ИИН, паспорт, адрес)] --> CAPACITY

  %% 2. ПРОВЕРКА ДЕЕСПОСОБНОСТИ
  CAPACITY[Проверка дееспособности:<br/>- Совершеннолетние?<br/>- Не ограничены судом?<br/>Если нет → документ опеки/попечительства (upload)] --> BENEFICIARY

  %% 3. ВЫГОДОПРИОБРЕТАТЕЛЬ
  BENEFICIARY{Кто является выгодоприобретателем?}
  BENEFICIARY -->|Учредитель (сам владелец)| BENEF_SELF[Отметка: учредитель = выгодоприобретатель]
  BENEFICIARY -->|Иное лицо (ребёнок/третье лицо)| BENEF_OTHER

  BENEF_OTHER[Поля:<br/>- ФИО, ИИН, дата рождения<br/>- Если несовершеннолетний → требуется разрешение органов опеки → upload] --> PROPERTY

  BENEF_SELF --> PROPERTY

  %% 4. ВЫБОР ИМУЩЕСТВА
  PROPERTY[Выберите тип имущества (чекбоксы):<br/>▢ Недвижимость<br/>▢ Транспорт<br/>▢ Банковские счета / деньги<br/>▢ Доля в ТОО / бизнес<br/>▢ Ценные бумаги<br/>▢ Иное имущество] --> PROPERTY_DETAILS

  %% 5. ДЕТАЛИ ИМУЩЕСТВА
  PROPERTY_DETAILS[Для каждого выбранного типа — обязательные поля:<br/><br/>**Недвижимость:** адрес, кадастр, выписка, основание права<br/>**ТС:** марка, VIN, техпаспорт<br/>**Счета:** банк, № счёта, валюта<br/>**Бизнес:** название ТОО, БИН, % доли, учредительные документы<br/>**ЦБ:** тип, количество, реестр<br/>**Иное:** описание, документы<br/><br/>Upload всех подтверждающих документов] --> OWNERSHIP

  %% 6. ПОДТВЕРЖДЕНИЕ ПРАВА СОБСТВЕННОСТИ
  OWNERSHIP[Подтверждение собственности (обяз.):<br/>- Выписка/справка/свидетельство<br/>- Реквизиты приобретения (договор, дата, нотариус) — если требуется<br/>- Проверка ограничений (обременения, аресты)] --> LIMIT

  %% 7. ОГРАНИЧЕНИЯ НА УПРАВЛЕНИЕ
  LIMIT[Ограничения учредителя (чекбоксы):<br/>▢ Управляющий не может отчуждать имущество<br/>▢ Не может сдавать в аренду без согласия<br/>▢ Не может вносить в залог<br/>▢ Не может передавать третьим лицам<br/>▢ Может: управлять доходами / капитализировать доходы<br/>▢ Иное ограничение — ручной ввод] --> RIGHTS

  %% 8. ПРАВА И ОБЯЗАННОСТИ УПРАВЛЯЮЩЕГО
  RIGHTS[Права управляющего (чекбоксы, можно выбрать все):<br/>▢ Заключать сделки в целях сохранения имущества<br/>▢ Сдавать в аренду/субаренду<br/>▢ Получать платежи / доходы<br/>▢ Открывать счета / управлять доходами<br/>▢ Проводить техобслуживание<br/>▢ Выплачивать налоги и сборы<br/>▢ Проводить страхование<br/>▢ Представлять интересы в госорганах<br/>▢ Иные действия — ручной ввод] --> REPORT

  %% 9. ОТЧЁТНОСТЬ
  REPORT[Отчётность управляющего:<br/>- Периодичность отчётов: ежемесячно / ежеквартально / ежегодно<br/>- Форма отчёта: письменная / электронная<br/>- С приложением документов (чеки, квитанции)<br/>- Способ передачи: лично / email] --> INCOME

  %% 10. ДОХОДЫ ОТ ИМУЩЕСТВА
  INCOME[Распределение доходов:<br/>- Доход получает выгодоприобретатель<br/>- Управляющий может удерживать расходы (опционально)<br/>- Чёткие правила расходования доходов<br/>- Возможность реинвестирования] --> REMUN

  %% 11. ВОЗНАГРАЖДЕНИЕ УПРАВЛЯЮЩЕГО
  REMUN{Договор возмездный или безвозмездный?}
  REMUN -->|Безвозмездный| REM_FREE[Отметка "Вознаграждение не выплачивается"]
  REMUN -->|Возмездный| REM_PAID

  REM_PAID[Поля:<br/>- Фиксированная сумма / % от дохода / комбинированно<br/>- Порядок и сроки выплаты<br/>- Источник выплаты: доходы/личные средства учредителя] --> TERM
  REM_FREE --> TERM

  %% 12. СРОК УПРАВЛЕНИЯ
  TERM[Срок доверительного управления:<br/>- Фиксированный: дата начала — дата окончания<br/>- До достижения цели (указать)<br/>- Бессрочно до отмены учредителем] --> SUBSTITUTION

  %% 13. ПЕРЕДОВЕРИЕ
  SUBSTITUTION{Разрешено ли передоверие?}
  SUBSTITUTION -->|Да| SUB_YES[Поля:<br/>- Условия передоверия<br/>- Требование предварительного уведомления]
  SUBSTITUTION -->|Нет| SUB_NO[Отметка: “передоверие запрещено”]
  SUB_YES --> TRANSFER_ACT
  SUB_NO --> TRANSFER_ACT

  %% 14. АКТ ПЕРЕДАЧИ ИМУЩЕСТВА
  TRANSFER_ACT[Передаётся ли имущество фактически?<br/>Например: ключи, документы, автомобиль, доступ к счёту<br/><br/>Если Да → генерируется “Акт приёма-передачи”, включающий:<br/>- перечень имущества<br/>- состояние<br/>- серийные номера<br/>- фото (опционально)] --> REPRESENTATION

  %% 15. ПРЕДСТАВИТЕЛЬСТВО ПРИ ПОДПИСАНИИ
  REPRESENTATION[Подписание:<br/>- Лично или по доверенности<br/>- Если по доверенности → реестр №, нотариус, дата, № лицензии, upload] --> VALIDATION

  %% 16. ВАЛИДАЦИЯ
  VALIDATION{Проверка:<br/>- Данные сторон заполнены?<br/>- Имущество описано?<br/>- Документы приложены?<br/>- Права/ограничения корректно распределены?<br/>- Указан срок?<br/>- Указаны доходы и отчётность?<br/>- Вознаграждение (если есть) корректно?<br/>- Реквизиты доверенности заполнены (если нужно)?}
  VALIDATION -->|Ошибка| ERR[Показать ошибки → вернуться]
  ERR --> PROPERTY_DETAILS
  VALIDATION -->|OK| GENERATE

  %% 17. ГЕНЕРАЦИЯ ДОКУМЕНТОВ
  GENERATE[Генерация документов:<br/>- Договор доверительного управления имуществом (.docx/.pdf)<br/>- Приложение: перечень имущества<br/>- Акт приёма-передачи (если есть)<br/>- График отчётности<br/>- Правила расходования доходов] --> SIGN

  %% 18. ПОДПИСАНИЕ
  SIGN[Подписание / нотариальное удостоверение<br/>- Подписи сторон<br/>- Отметка о проверке документов] --> ARCHIVE

  %% 19. АРХИВАЦИЯ
  ARCHIVE[Архивирование:<br/>- Сканирование<br/>- Сохранение пакета документов<br/>- Выдача экземпляров сторонам] --> END([Готово: договор доверительного управления оформлен])
Что важно для нотариуса / разработчика
1. Особые случаи
Ваш продукт должен учитывать:

Если выгодоприобретатель — ребёнок
→ системно требуется:

разрешение органов опеки,

ограничения управляющего,

запрет отчуждения без ООП.

Если имущество — доля в ТОО
→ необходимо указать:

сведения из устава,

согласие участников (если требуется),

отсутствие запрета в уставе.

Если имущество — недвижимость
→ всегда должна быть выписка о праве собственности.

Если имущество — ТС
→ приложить техпаспорт и страховку (опц.).

2. Ключевые юридические правила
Учредитель управления остаётся собственником.

Управляющий действует в интересах выгодоприобретателя.

Управляющий не может отчуждать имущество, если это прямо не написано.

Все доходы принадлежат выгодоприобретателю.

По окончании срока составляется акт возврата имущества.

3. Обязательные документы в пакете
договор;

перечень имущества;

акт передачи (если есть фактическая передача);

документы на имущество;

согласие органов опеки (если требуется).

35 flowchart TD
  START([Старт: Доверенность на получение корреспонденции / почтовых отправлений])

  START --> PRINCIPAL

  %% 1. ДОВЕРИТЕЛЬ
  PRINCIPAL[Доверитель (обяз.)<br/>- ФИО<br/>- ИИН<br/>- Паспорт (серия/№)<br/>- Адрес регистрации / фактический<br/>- Контактный номер] --> AGENT_COUNT

  %% 2. ПОВЕРЕННЫЙ(Е)
  AGENT_COUNT{Количество поверенных?}
  AGENT_COUNT -->|1 поверенный| AGENT_ONE
  AGENT_COUNT -->|2 поверенных| AGENT_TWO

  AGENT_ONE[Поверенный 1:<br/>- ФИО<br/>- ИИН<br/>- Паспорт<br/>- Адрес / телефон] --> CHOOSE_MAIL
  AGENT_TWO[Поверенный 1 и 2 (аналогичные поля)] --> CHOOSE_MAIL

  %% 3. ВИДЫ ПОЧТОВЫХ ОТПРАВЛЕНИЙ
  CHOOSE_MAIL[Виды отправлений (чекбоксы, можно выбрать все):<br/>▢ Простые письма<br/>▢ Заказные письма<br/>▢ Ценные письма<br/>▢ Судебные повестки / извещения<br/>▢ Курьерские отправления / EMS<br/>▢ Посылки / бандероли<br/>▢ Налоговые уведомления<br/>▢ Банковские извещения<br/>▢ Иное (ручной ввод)] --> POST_SCOPE

  %% 4. ГДЕ ПОЛУЧАТЬ
  POST_SCOPE[Место получения отправлений:<br/>Выбор:<br/>▢ "Любое отделение КазПочты / курьерской службы"<br/>▢ "Конкретное отделение" – ввод адреса/филиала] --> AUTHORITIES

  %% 5. ПОЛНОМОЧИЯ
  AUTHORITIES[Полномочия поверенного:<br/>▢ Получать отправления<br/>▢ Расписываться в документах<br/>▢ Предъявлять удостоверяющие документы доверителя (если потребуется)<br/>▢ Оплачивать почтовые услуги (опционально)<br/>▢ Получать уведомления и извещения от госорганов<br/>▢ Иное (ручной ввод)] --> REPRESENTATION

  %% 6. ПРЕДСТАВИТЕЛЬСТВО
  REPRESENTATION{Доверитель пришёл лично или по доверенности?}
  REPRESENTATION -->|Лично| TERM
  REPRESENTATION -->|По доверенности| REPR_FIELDS

  REPR_FIELDS[Реквизиты доверенности доверителя, действующего по доверенности:<br/>- Реестровый №<br/>- Нотариус, выдавший доверенность<br/>- № лицензии<br/>- Дата выдачи<br/>- Upload скана] --> TERM

  %% 7. СРОК ДЕЙСТВИЯ
  TERM[Срок доверенности:<br/>Выбор:<br/>▢ На ___ дней (1–31)<br/>▢ На ___ месяцев (1–36)<br/>▢ На определённую дату (календарь)] --> VALIDATION

  %% 8. ВАЛИДАЦИЯ
  VALIDATION{Проверка:<br/>- Данные доверителя заполнены?<br/>- Данные поверенного(ых) заполнены?<br/>- Выбраны виды отправлений?<br/>- Указано место получения?<br/>- Срок указан?<br/>- Если доверитель действует по доверенности → реквизиты введены?}
  VALIDATION -->|Ошибка| ERR[Показать ошибки → исправить] --> CHOOSE_MAIL
  VALIDATION -->|OK| GENERATE

  %% 9. ГЕНЕРАЦИЯ ДОКУМЕНТА
  GENERATE[Формируется документ:<br/>- Доверенность на получение корреспонденции<br/>- Перечень полномочий<br/>- Место получения<br/>- Срок<br/>- Данные сторон] --> SIGN

  %% 10. ПОДПИСАНИЕ
  SIGN[Подпись доверителя / нотариальное удостоверение<br/>Проверка документов поверенного] --> ARCHIVE

  %% 11. АРХИВАЦИЯ
  ARCHIVE[Архивация документа в системе / выдача экземпляров] --> END([ГОТОВО])
Что важно учесть разработчику
Обязательные поля
ФИО, ИИН, паспорт доверителя

ФИО, ИИН, паспорт поверенного

Выбор типов отправлений

Место получения

Срок

Реквизиты доверенности (если представитель действует по доверенности)

Логические проверки (VALIDATION)
Система должна блокировать генерацию, если:

✔ нет выбранных видов отправлений
✔ не указан срок
✔ указан конкретный филиал, но адрес не введён
✔ поверенный не заполнен
✔ нет реквизитов доверенности (если требуется)

Дополнительные функции (рекомендуется)
✔ добавить кнопку “Выбрать всё” для видов отправлений
✔ добавить кнопку “Сделать поверенного №2 копией первого”
✔ при выборе “конкретного отделения” — автоподсказки 2GIS
✔ возможность добавить “только по месту регистрации доверителя”

36 flowchart TD
  START([Старт: Доверенность на получение пенсии / соцвыплат / алиментов])

  START --> PRINCIPAL[Доверитель — кто выдаёт доверенность (обяз.):<br/>- ФИО<br/>- ИИН<br/>- Паспорт (тип/серия/№/кем/дата)<br/>- Адрес регистрации / фактический<br/>- Контакт (тел., e-mail)]

  PRINCIPAL --> AGENT_CHOICE{Поверенный(е): 1 или 2?}
  AGENT_CHOICE -->|1| AGENT1[Поверенный 1 — ФИО, ИИН, док. личности, контакт]
  AGENT_CHOICE -->|2| AGENTS[Поверенный 1 и Поверенный 2 — аналогичные поля]

  AGENT1 --> PAYMENT_TYPE
  AGENTS --> PAYMENT_TYPE

  PAYMENT_TYPE[Выберите типы выплат (чекбоксы, обяз.):<br/>▢ Пенсия по старости<br/>▢ Пенсия по инвалидности<br/>▢ Пенсия по потере кормильца (survivor)<br/>▢ Социальные пособия (детские, пособие малоимущим и т.п.)<br/>▢ Алименты (по исполнительному документу / соглашению)<br/>▢ Иное (ручной ввод)]

  PAYMENT_TYPE --> PAY_SOURCE

  PAY_SOURCE[Источник выплат (обяз., выбрать 1+):<br/>▢ Пенсионный фонд / орган соцзащиты (указать отделение)<br/>▢ Банк (указать банк из справочника или вручную)<br/>▢ Почта / почтовое отделение (указать отделение)<br/>▢ Другой орган (например, испол. служба) — ввести реквизиты]

  PAY_SOURCE --> RECEIVE_METHOD

  RECEIVE_METHOD[Способ получения (обяз., выбрать 1):<br/>▢ Получать наличными (выдача в отделении/почте)<br/>▢ Получать на банковскую карту / счёт (указать реквизиты: БИН/БИК, ИИК, номер карты)<br/>▢ Получать письмо/уведомление и далее получить наличными — спец.режим]

  RECEIVE_METHOD --> REQUIRED_DOCS

  %% ДОКУМЕНТЫ
  REQUIRED_DOCS[Обязательные документы для разных случаев (чеклист + upload):<br/>- Паспорт доверителя (scan/upload) — обязательно<br/>- ИИН доверителя (если отдельный документ)<br/>- Пенсионное удостоверение / справка о назначении пенсии (при наличии)<br/>- Выписка/справка из Пенсионного фонда (реквизиты выплаты) — при возможности<br/>- Исполнительный документ / решение суда / соглашение об алиментах — для алиментов (обязательно)<br/>- Свидетельство о смерти кормильца — для survivor-пенсии (если применимо)<br/>- Документ, подтверждающий право на соцвыплату (при необходимости)<br/>- Документ, подтверждающий полномочия поверенного (если поверенный действует по доверенности третьего лица) — upload<br/>- При получении в банке: карточка/номер счёта доверителя или реквизиты доверенного лица (если разрешено)] 

  REQUIRED_DOCS --> SPECIAL_CASES

  SPECIAL_CASES{Особые ситуации}
  SPECIAL_CASES -->|Доверитель — несовершеннолетний / недееспособный| MINOR[
    - Требуется законный представитель / опекун<br/>
    - Нужны документы опеки/суд (upload)<br/>
    - Возможно требование согласия органов опеки]
  SPECIAL_CASES -->|Доверитель действует по ранее выданной доверенности| PRINCIPAL_BY_POA[
    - Ввести реквизиты исходной доверенности: реестр №, кем выдана, дата, № лицензии нотариуса, upload]
  SPECIAL_CASES -->|Нет особых случаев| NORMAL

  MINOR --> VALIDATION
  PRINCIPAL_BY_POA --> VALIDATION
  NORMAL --> VALIDATION

  %% ПРЕДСТАВИТЕЛЬСТВО
  VALIDATION[Проверки перед генерацией (обяз.):<br/>- Заполнены данные доверителя и поверенного(ых)?<br/>- Выбран источник и метод получения выплат?<br/>- Загружены необходимые документы для типа выплаты (пенсия/алименты/пособие)?<br/>- Если получение наличными — указан филиал/почтовое отделение?<br/>- Если получение на счёт — введены реквизиты (ИИК/БИК/номер карты)?<br/>- Если имущество/права третьих лиц задействованы — получено согласие (если требуется)?]

  VALIDATION -->|Ошибка| SHOW_ERR[Показать ошибки/отметки → вернуть на правку] --> REQUIRED_DOCS
  VALIDATION -->|OK| CONSENTS_CONFIRM

  CONSENTS_CONFIRM{Доп. опции (чекбоксы):<br/>- Уведомлять доверителя о выплате SMS/e-mail<br/>- Уведомлять поверенного о зачислении<br/>- Генерировать акт приёма-передачи / расписку<br/>- Обозначить: оплачивать пошлины/комиссии поверенный (да/нет)}
  CONSENTS_CONFIRM --> GENERATE_DOC

  %% ГЕНЕРАЦИЯ ДОКУМЕНТА
  GENERATE_DOC[Генерация доверенности (шаблон .docx/.pdf):<br/>- Полный текст доверенности с перечислением выплат<br/>- Указан источник выплат (ПФ/банк/почта + реквизиты)<br/>- Способ получения (наличные/перевод) и реквизиты<br/>- Срок действия доверенности (дни/месяцы/до даты)<br/>- Подписи, место и дата<br/>- Приложения: список загруженных документов]
  GENERATE_DOC --> SIGN

  %% ПОДПИСАНИЕ
  SIGN[Подписание доверителем / нотариальное удостоверение (если требуется):<br/>- Процедура проверки личности доверителя<br/>- Нотариус фиксирует загруженные документы и пометки] --> ISSUE

  %% ВЫДАЧА И АКТЫ
  ISSUE[Выдача доверенности и сопутствующие документы:<br/>- Печать/выдача экземпляров<br/>- По опции: сгенерировать акт приёма-передачи или расписку о получении выплат<br/>- Сохранить в архиве / отправить e-mail/SMS] --> END([Готово — доверенность оформлена])

Короткие пояснения — что обязательно учесть (для разработчика / нотариуса)
Обязательные поля UI
Данные доверителя (ФИО, ИИН, паспортные данные, адрес, контакт).

Данные поверенного(ых) (ФИО, ИИН, паспорт).

Тип выплаты(ей) — чекбокс (пенсия/соцпособие/алименты и т.д.).

Источник выплат (Пенсионный фонд / банк / почта / иной орган) и конкретные реквизиты (наименование отделения, рег. номер выплаты, БИК/ИИК/номер карты).

Метод получения: наличными (указать отделение) или зачислением на счёт/карту (полные банковские реквизиты).

Перечень и upload требуемых документов: пенсионное удостоверение, исполнительный документ (для алиментов), справки, свидетельство о смерти (для survivor-пенсии), документы опеки и т.д.

Срок действия доверенности (дни 1–31, месяцы 1–36, либо до конкретной даты).

Поле «Кто оплачивает комиссии/комиссионные/пошлины» (если применимо).

Валидационные правила (нельзя сгенерировать/утвердить пока не выполнено)
Отсутствие паспорта доверителя или паспорта поверенного — блокировка.

Для алиментов — отсутствие исполнительного документа/соглашения — блокировка.

Для survivor-пенсии — отсутствие свидетельства о смерти кормильца — предупреждение/рекомендация.

Если указан способ «зачисление на счёт» — реквизиты счёта должны быть валифицированы по формату (ИИК/BIC/номер карты).

Для несовершеннолетних/недееспособных — требование документов опеки/суд.

Если доверитель действует сам по доверенности — обязательно реквизиты исходной доверенности.

Особые рекомендации
В большинстве случаев согласие супруга не требуется для самой доверенности на получение выплат. Но если речь идёт о получении и распоряжении совместно нажитыми средствами либо о передаче прав на счёт, предусмотреть проверку принадлежности средств (и, при необходимости, загрузку согласия супруга).

Для банків часто нужны оригиналы/печати — добавь опцию «предъявление оригиналов при получении».

Сделай опцию “Generate Acknowledgement / Receipt” — акт приёма-передачи или расписка о получении выплат поверенным (важно при получении наличных).

Выходной пакет
.docx/.pdf — доверенность с плейсхолдерами;

акт приёма-передачи / расписка (если выбрано);

список приложенных документов;

запись/лог в базе (кто создал/когда/копии файлов).

37 flowchart TD
  START([Старт: Доверенность на подачу заявлений и получение справок в ЦОН / миграции])

  START --> PRINCIPAL[Доверитель (обяз.):<br/>- ФИО<br/>- ИИН<br/>- Паспорт (тип/серия/№/кем/дата)<br/>- Адрес регистрации / фактический<br/>- Контакт (тел., e-mail)]

  PRINCIPAL --> AGENT_COUNT{Поверенный(е): 1 или 2?}
  AGENT_COUNT -->|1| AGENT1[Поверенный 1 — ФИО, ИИН, документ личности, контакт]
  AGENT_COUNT -->|2| AGENTS[Поверенный 1 и Поверенный 2 — аналогичные поля]

  AGENT1 --> SCOPE
  AGENTS --> SCOPE

  %% ОБЛАСТЬ ДОКУМЕНТОВ / УСЛУГ
  SCOPE[Область полномочий (чекбоксы, обяз., можно множественно):<br/>▢ Подача заявлений в ЦОН (регистрация/снятие с регистрации)<br/>▢ Получение справок о регистрации места жительства / временной регистрации<br/>▢ Регистрация/продление/получение ВНЖ / РВП / иных миграционных документов<br/>▢ Получение справок о прописке/выписке<br/>▢ Получение справок о семейном положении (выписка ЗАГС/миграция)<br/>▢ Подача заявлений на замену документов (паспорт/ID) — направление в ЦОН<br/>▢ Подписание заявлений / получение уведомлений/квитанций<br/>▢ Иное (ручной ввод)]
  SCOPE --> LOC_SCOPE

  %% МЕСТО ОБРАЩЕНИЯ
  LOC_SCOPE[Место обращения (обяз.):<br/>▢ Любой филиал ЦОН/миграции в РК<br/>▢ Конкретный филиал — выбрать/ввести адрес (autocomplete / справочник)] --> DOCUMENTS

  %% ДОКУМЕНТЫ ДЛЯ ПОДАЧИ
  DOCUMENTS[Документы, передаваемые поверенному (чеклист + upload):<br/>- Паспорт/ID доверителя (scan) — обяз.<br/>- ИИН (если отдельный документ)<br/>- Оригиналы документов для подачи (свидетельства, договоры, справки) — список и upload<br/>- Фотографии / анкеты, если требуются<br/>- Доверенность/письмо об оплате госпошлины (если поверенный оплачивает)<br/>- Если доверитель действует по своей доверенности — реквизиты исходной доверенности (реестр №, кем выдана, дата, лицензия нотариуса) ]
  DOCUMENTS --> PAYMENT_OPTION

  %% ОПЛАТА ГОСПОШЛИНЫ
  PAYMENT_OPTION{Оплата госпошлины / услуг (обяз. выбор):<br/>- ▢ Поверенный оплачивает (нал/картой/онлайн) — при получении<br/>- ▢ Доверитель оплатит сам (не требуется) — опция<br/>- ▢ Доверитель просит оплатить через реквизиты (указать реквизиты)} 
  PAYMENT_OPTION --> ACK_TRANSFER

  ACK_TRANSFER[Акт передачи оригиналов (если передаются оригиналы доков):<br/>- Генерируется акт приёма-передачи с перечнем оригиналов, датой и подписями] --> REPRESENTATION

  %% ПРЕДСТАВИТЕЛЬСТВО
  REPRESENTATION{Как действует поверенный при подаче / получении?<br/>- Лично (поверенный приходит лично)<br/>- По доверенности (поверенный действует по доверенности третьего лица)} 
  REPRESENTATION -->|Лично| ID_CHECK
  REPRESENTATION -->|По доверенности| POA_FIELDS

  POA_FIELDS[Если поверенный действует по доверенности третьего лица:<br/>- Ввести реквизиты исходной доверенности: реестровый №, кем выдана, дата, № лицензии нотариуса, upload скана] --> ID_CHECK

  %% ВАЛИДАЦИЯ ЛИЧНОСТИ
  ID_CHECK[Проверка личности и полномочий (авто/ручн.):<br/>- Проверить совпадение ФИО/ИИН с документами<br/>- Проверить срок действия паспорта/ID<br/>- Проверить наличие всех необходимых оригиналов/сканов] --> TERM

  %% СРОК ДОВЕРЕННОСТИ
  TERM[Срок доверенности (обяз.):<br/>- на ___ дней (1–31)<br/>- на ___ месяцев (1–36)<br/>- до конкретной даты (календарь)<br/>- бессрочно с правом отзыва (редко)] --> VALIDATION

  %% ВАЛИДАЦИЯ
  VALIDATION{Финальная валидация перед созданием документа:<br/>- Заполнены данные доверителя и поверенного(ых)?<br/>- Выбраны услуги/заявления?<br/>- Указан филиал (если требуется)?<br/>- Загружены необходимые документы? (паспорт, оригиналы при передаче)<br/>- Указаны опции оплаты госпошлины?<br/>- Если доверитель действует по доверенности — реквизиты введены?}
  VALIDATION -->|Ошибка| ERR[Показать ошибки → вернуть к исправлению] --> DOCUMENTS
  VALIDATION -->|OK| GENERATE_DOC

  %% ГЕНЕРАЦИЯ ДОКУМЕНТА
  GENERATE_DOC[Формирование доверенности (шаблон .docx/.pdf):<br/>- Полный текст доверенности с перечислением услуг (заявлений/справок)<br/>- Место обращения (филиал) и срок<br/>- Права поверенного: подавать документы, подписывать заявления, получать справки и квитанции, оплачивать пошлины (если включено)<br/>- Приложения: список переданных оригиналов/сканов<br/>- Акт приёма-передачи (если есть)] --> SIGN

  %% ПОДПИСАНИЕ / НОТАРИУС
  SIGN[Подписание доверителем / нотариальное удостоверение (если требуется):<br/>- Проверка личности доверителя<br/>- Нотариус фиксирует полученные сканы и оригиналы (если предъявлены)] --> ISSUE

  %% ВЫДАЧА И ЛОГ
  ISSUE[Выдача экземпляров поверенному / доверителю:<br/>- Печатные/электронные копии<br/>- Отправка на e-mail<br/>- Запись в журнале/аудит: кто создал, когда, загрузки] --> END([Готово — доверенность создана и выдана])
Короткие пояснения для разработчика (обязательные моменты)
Обязательные поля UI
Данные доверителя (ФИО, ИИН, паспортные данные, адрес, контакт).

Данные поверенного(ых) (ФИО, ИИН, паспорт).

Выбор конкретных услуг/заявлений (чекбоксы).

Место обращения: «любой филиал» или «конкретный филиал» (при выборе — обязателен ввод/выбор).

Список передаваемых оригиналов/сканов (upload).

Опция оплаты госпошлины (кто платит).

Срок доверенности (дни/месяцы/до даты).

Реквизиты исходной доверенности, если доверитель действует сам по доверенности.

Валидации (нельзя сгенерировать пока не выполнено)
Нет заполненных данных поверенного(ых) — блокировка.

Не выбраны услуги — блокировка.

Если выбран «конкретный филиал» — без ввода филиала не генерировать.

Если передаются оригиналы — акт приёма-передачи должен быть сгенерирован и заполнен.

Если поверенный будет оплачивать — указать способы оплаты и/или реквизиты.

Доп. рекомендации по UX
Кнопка «Выбрать всё» для чекбоксов услуг.

При вводе филиала — автодополнение по справочнику (2GIS / локальный справочник).

Возможность отметить «только предъявление оригиналов» (в некоторых ЦОН требуют оригинал на месте, но не оставлять его).

Кнопка «Сохранить как шаблон» — для часто повторяющихся доверенностей.

Выходные артефакты (что можно сгенерировать)
.docx/.pdf — текст доверенности с плейсхолдерами.

Акт приёма-передачи оригиналов (если переданы).

Список приложенных сканов.

Лог (who/when) и e-mail уведомление для поверенного.

38 flowchart TD
  START([Старт: Форма "Брачный договор / брачное соглашение"])

  START --> META[Метаданные:<br/>- ID / дата составления<br/>- Место (город/нотариус)]

  META --> PARTIES
  PARTIES[Стороны (обяз.):<br/>- Супруг 1: ФИО, ИИН, паспорт, дата рождения, адрес<br/>- Супруг 2: ФИО, ИИН, паспорт, дата рождения, адрес] --> MARITAL_STATUS

  %% ПРОВЕРКА БРАЧНОГО СТАТУСА
  MARITAL_STATUS{Статус сторон}
  MARITAL_STATUS -->|Ещё не в браке (пренупт.)| PRENUP
  MARITAL_STATUS -->|В браке (составляется в браке)| IN_MARRIAGE
  MARITAL_STATUS -->|После развода (соглашение о разделе) — использовать раздел имущества| DIVORCE_PATH

  PRENUP --> CAPACITY
  IN_MARRIAGE --> CAPACITY
  DIVORCE_PATH --> CAPACITY

  %% ДЕЕСПОСОБНОСТЬ
  CAPACITY[Проверка дееспособности:<br/>- Совершеннолетние?<br/>- Не ограничены судом? Если нет — требовать решение/опеку] --> PROPERTY_REGIME

  %% РЕЖИМ ИМУЩЕСТВА
  PROPERTY_REGIME[Выбрать режим имущества (обяз., один или комбинируемый):<br/>▢ Полная совместная собственность (общая)<br/>▢ Полная раздельная собственность (каждый своё)<br/>▢ Частично-раздельная (перечислить категории личного/общего)<br/>▢ Договариваемся об управлении доходами и расходами<br/>▢ Установить минимальные/максимальные лимиты на сделки без согласия другого] --> ASSETS_LIST

  %% КАТЕГОРИИ ИМУЩЕСТВА / ИСКЛЮЧЕНИЯ
  ASSETS_LIST[Категории и исключения (чеклист):<br/>- Недвижимость (как делится/кто управляет)<br/>- Транспортные средства<br/>- Банковские счета / депозиты<br/>- Бизнес/доли в ТОО<br/>- Ценные бумаги<br/>- Подарки / наследство (обычно личное, оговорить)<br/>- Доходы от труда vs инвестиционные доходы<br/>- Иное имущество (ручной ввод)] --> DEBTS

  %% ДОЛГИ И ПЛАТЕЖИ
  DEBTS[Ответственность по долгам и обязательствам:<br/>- Долги до брака — кто отвечает?<br/>- Долги, возникшие в браке — совместные или заёмщик?<br/>- Гарантии/поручительства — как обрабатываются?<br/>- Порядок уведомления о крупных обязательствах] --> MAJOR_TRANSACTIONS

  %% КРУПНЫЕ СДЕЛКИ
  MAJOR_TRANSACTIONS[Правила крупных сделок (обязательная опция):<br/>- Порог для крупной сделки (сумма)<br/>- Нужно ли письменное согласие второго супруга для: продаж/покупок/залога/дарения?<br/>- Процедура получения согласия] --> SUPPORT_AND_COMPENSATION

  %% СОДЕРЖАНИЕ / КОМПЕНСАЦИЯ
  SUPPORT_AND_COMPENSATION[Положения о содержании / компенсации:<br/>- Алименты/содержание одного супруга (после развода или в браке)<br/>- Порядок расчёта компенсации при разделе<br/>- Индексация / сроки выплат] --> CHILDREN_CLAUSES

  %% ПОЛОЖЕНИЯ О ДЕТЯХ
  CHILDREN_CLAUSES[Условия в отношении детей (информативно):<br/>- Порядок содержания детей, образование, расходы<br/>- Решения по имуществу ребёнка (если ребёнок выгодоприобретатель)] --> DURATION_AND_TERMS

  %% СРОК И УСЛОВИЯ
  DURATION_AND_TERMS[Срок действия и условия изменения/расторжения:<br/>- Срок (до развода / бессрочно / до даты)<br/>- Условия внесения изменений (согласие обеих сторон, нотариальная форма)<br/>- Условие автоматического вступления в силу при разводе/смерти (обозначить)] --> NOTIFICATIONS

  %% УВЕДОМЛЕНИЯ И РЕГИСТРАЦИЯ
  NOTIFICATIONS[Уведомления третьим лицам:<br/>- Нотариус может отправить копии в банк/регистры (опционально)<br/>- Требуется ли регистрация режима в каких-либо реестрах? (обычно нет, но оговорить)] --> REPRESENTATION

  %% ПРЕДСТАВИТЕЛЬСТВО / ПОДПИСИ
  REPRESENTATION[Кто подписывает лично / по доверенности:<br/>- Лично (обычно) / по доверенности (в редких случаях)<br/>- Если по доверенности — реквизиты доверенности: реестр №, кем выдана, дата, лицензия нотариуса, upload] --> VALIDATION

  %% ВАЛИДАЦИЯ
  VALIDATION{Проверки перед генерацией договора (обязательно):<br/>- Заполнены личные данные обеих сторон?<br/>- Указан выбранный режим имущества и исключения?<br/>- Описаны крупные сделки/пороги и порядок согласия?<br/>- Описаны долги и кто за них отвечает?<br/>- Если включено пожизненное содержание/компенсации — указан порядок выплат?<br/>- Загружены необходимые документы (свид-во о браке, паспорта, документы на имущество при требовании)?}
  VALIDATION -->|Ошибка| SHOW_ERR[Показать ошибки → возврат к правке] --> ASSETS_LIST
  VALIDATION -->|OK| GENERATE

  %% ГЕНЕРАЦИЯ ДОКУМЕНТОВ
  GENERATE[Генерация пакета документов:<br/>- Брачный договор (.docx/.pdf) — полный текст с пунктами: режим, исключения, долги, крупные сделки, содержание, сроки<br/>- Приложения: перечень имущества, оценочные акты (если есть), согласия третьих лиц (если нужны)] --> SIGN

  %% ПОДПИСАНИЕ / НОТАРИУС
  SIGN[Подписание и нотариальное удостоверение:<br/>- Нотариус фиксирует идентификацию сторон<br/>- Нотариус вносит отметки о проверенных документах<br/>- Подписи сторон проставляются в присутствии нотариуса] --> ARCHIVE

  %% АРХИВАЦИЯ / ВЫДАЧА
  ARCHIVE[Архивация и выдача экземпляров:<br/>- Выдать оригиналы сторонам<br/>- Сохранить сканы и историю (who/when)<br/>- Опция: отправить копии в банки/регистры (по запросу)] --> END([Готово — брачный договор оформлен])

  %% СПЕЦИАЛЬНЫЕ ВЕТВИ
  SHOW_ERR --> CORRECT[Исправления] --> VALIDATION
Краткие пояснения для разработчика (обязательные)
Обязательные поля: данные супругов (ФИО, ИИН, паспорт), выбор режима имущества (обязательное поле), список исключений/категорий, условия по долгам, пороги для крупных сделок, срок действия.

Документы: свидетельство о браке (если в браке), паспорта обеих сторон, при необходимости — документы на значимое имущество (недвижимость/доли/бизнес) и оценочные акты.

Согласия третьих лиц: если договор ограничивает или меняет права по объектам, где участвуют третьи лица (например, доля в ТОО с ограничениями устава), предусмотреть загрузку согласия/решения.

Валидация: нельзя сгенерировать договор, пока не пройдены основные юридические проверки (особенно важны условия по долгам и крупным сделкам).

Нотариальная форма: брачный договор обычно оформляют у нотариуса — предусмотреть обязательную нотариальную подпись в UI (включая запись кто и когда удостоверял).

Изменение и расторжение: предусмотреть отдельный workflow/шаблон для последующих изменений/доп. соглашений и для расторжения (раздельный документ).

39 flowchart TD
  START([Старт: Соглашение об определении места проживания ребёнка])

  START --> META[Метаданные:<br/>- ID документа<br/>- Дата и место составления<br/>- Нотариус (опция)]

  META --> CHILD[Блок: Данные ребёнка (обяз.):<br/>- ФИО ребёнка<br/>- Дата рождения<br/>- ИИН (если есть)<br/>- Место рождения (город)<br/>- Особые потребности / здоровье (кратко, опционально)]

  CHILD --> PARENTS

  %% СТОРОНЫ
  PARENTS[Данные сторон (обяз.):<br/>- Родитель 1: ФИО, ИИН, паспорт, адрес, контакт<br/>- Родитель 2: ФИО, ИИН, паспорт, адрес, контакт<br/>- Иные законные представители (опекун/попечитель) — опция] --> MARITAL_CHECK

  MARITAL_CHECK{Статус родителей (информативно):<br/>- В браке / не в браке / в разводе (дата)} --> RESIDENCE_CHOICE

  %% ВЫБОР МЕСТА ПРОЖИВАНИЯ
  RESIDENCE_CHOICE[Определение места проживания (обяз., выбрать 1):<br/>- Ребёнок проживает постоянно с Родителем 1<br/>- Ребёнок проживает постоянно с Родителем 2<br/>- Совместное проживание (попеременно): указать график/периоды<br/>- Иное (описать)] --> ADDRESS_BLOCK

  ADDRESS_BLOCK[Адрес проживания (обяз.):<br/>- Фактический адрес проживания (полный)<br/>- Регистрационный адрес (прописка) — если отличается, указать] --> VISITATION

  %% ГРАФИК ОБЩЕНИЯ / ВИЗИТЫ
  VISITATION[График общения и передачи ребёнка (обяз.):<br/>- Регулярные встречи: дни недели / выходные / каникулы<br/>- Разделение школьных/каникулярных периодов<br/>- Порядок передачи (время, место, лицо-передатчик)<br/>- Правила отмены/переноса визита (сроки уведомления)] --> HOLIDAYS

  HOLIDAYS[Праздники и длительные периоды:<br/>- Рotaция на праздники (Новый год, праздничные дни)<br/>- Каникулярные распределения (лето/зима) — указать сроки] --> CHILD_SUPPORT

  %% СОДЕРЖАНИЕ И РАСХОДЫ
  CHILD_SUPPORT[Содержание ребёнка (обяз.):<br/>- Порядок уплаты алиментов / дополнительных расходов<br/>- Кто оплачивает медстраховку, лечение, образование<br/>- Доля покрытия неожиданных расходов (проценты/фикс. суммы)<br/>- Периодичность отчётов по расходам (чеки/квитанции)] --> MEDICAL_EDU

  MEDICAL_EDU[Медицина / образование / кружки (опц.):<br/>- Право принимать медицинские решения (кто в каких случаях)<br/>- Согласие на неотложные мед. вмешательства<br/>- Решения по посещению секций и кружков (согласие родителей)] --> TRAVEL

  %% ВЫЕЗД ЗА ГРАНИЦУ / ПУТЕШЕСТВИЯ
  TRAVEL[Путешествия и выезд за границу (обяз. поле):<br/>- Можно ли выезжать за границу с одним из родителей? (да/нет)<br/>- Если да — требуются ли письменные согласия второго родителя для каждой поездки или единоразовое?<br/>- Документы, которые сопровождают поездку (паспорт, согласие, доверенность)] --> EMERGENCY

  %% ЭКСТРЕННЫЕ СИТУАЦИИ
  EMERGENCY[Экстренные контакты и решения:<br/>- Лица для экстренной связи и контакты<br/>- Алгоритм действий при потере/болезни/ЧП<br/>- Право временной передачи ребёнка третьему лицу (да/нет + реквизиты)] --> AUTH_DOCS

  %% СОГЛАСИЯ / ДОКУМЕНТЫ
  AUTH_DOCS[Необходимые приложения и согласия (чеклист):<br/>- Копии паспортов обоих родителей (upload)<br/>- Свидетельство о рождении ребёнка (upload)<br/>- Решение суда/соглашение о разводе (если применимо)<br/>- Документы опеки (если применимо)<br/>- Нотариальное согласие третьей стороны (если требуется)] --> REPRESENTATION

  %% ПРЕДСТАВИТЕЛЬСТВО / ПОДПИСИ
  REPRESENTATION[Кто подписывает / действует лично или по доверенности:<br/>- Лично — подписи родителей/представителей<br/>- По доверенности — реквизиты доверенности: реестр №, кем выдана, дата, лицензия нотариуса, upload] --> VALIDATION

  %% ВАЛИДАЦИЯ
  VALIDATION{Проверки до генерации документа:<br/>- Заполнены все данные ребёнка и родителей?<br/>- Выбрано место проживания и указан адрес?<br/>- Определён график общения и порядок передачи?<br/>- Указан порядок оплаты содержания и приложены документы?<br/>- Присутствуют все обязательные загрузки (свид-во о рожд., паспорта)?<br/>- Если есть судебное решение — согласование положений с решением суда?}
  VALIDATION -->|Ошибка| ERR[Показать список недостающих/ошибочных полей] --> AUTH_DOCS
  VALIDATION -->|OK| GENERATE

  %% ГЕНЕРАЦИЯ ДОКУМЕНТОВ
  GENERATE[Генерация пакета документов:<br/>- Основной текст соглашения (.docx/.pdf)<br/>- Приложения: копии документов, графики, акты передачи ребёнка<br/>- Если требуется: уведомления в органы опеки/образования (школа)] --> SIGN

  %% ПОДПИСАНИЕ / НОТАРИАЛЬНОЕ УДОСТОВЕРЕНИЕ
  SIGN[Подписи и нотариальное удостоверение (опция):<br/>- Нотариус фиксирует личности сторон и загрузки документов<br/>- Подписи родителей / представителей] --> REGISTER_NOTIFY

  %% РЕГИСТРАЦИЯ / УВЕДОМЛЕНИЕ
  REGISTER_NOTIFY[Опционально: уведомление / регистрация:<br/>- Отправить копию соглашения в органы опеки / школу / поликлинику (по согл.)<br/>- Регистрация в нотариальном реестре (лог записи)] --> ARCHIVE

  %% АРХИВАЦИЯ
  ARCHIVE[Архивация и выдача:<br/>- Выдать экземпляры сторонам<br/>- Сохранить в системе сканы и журнал действий] --> END([Готово — соглашение сформировано])
Ключевые пояснения для разработчика / нотариуса (обязательные моменты)
Обязательные поля
Полные данные ребёнка (ФИО, дата рождения, ИИН если есть).

Полные данные обоих родителей / законных представителей.

Явное указание места постоянного проживания ребёнка (адрес).

График общения/визитов и порядок передачи (время/место/условия).

Порядок содержания (кто и какие расходы покрывает).

Необходимые загрузки: свидетельство о рождении ребёнка, паспорта родителей, решение суда/опека — если применимо.

Срок действия соглашения (можно оговорить: до достижения возраста / до изменения по соглашению / бессрочно).

Валидация и юридические риски
Если уже есть судебное решение по месту проживания — соглашение не должно противоречить решению суда (включить проверку и предупреждение).

При наличии опеки / ограничений — требуется отдельное разрешение органов опеки.

В случаях выезда за границу — отобразить, что для детей младше определённого возраста может требоваться нотариальное согласие второго родителя или дополнительные документы; предусмотреть опцию «единое согласие на все поездки/по каждой поездке».

UX-рекомендации
Сделать предопределённые шаблоны: «Постоянное проживание с мамой», «Постоянное проживание с папой», «Поочерёдное проживание 2/2 недели», «Летний график» — чтобы ускорить ввод.

Добавить возможность визуального календаря для графика (drag & drop смен).

Кнопка «Сформировать акт передачи» — для печати при каждой передаче ребёнка.

Опция «Отправить копию в школу / поликлинику / опеку» — если стороны согласны.

Output
.docx/.pdf соглашение с плейсхолдерами и приложениями.

Акт(ы) передачи ребёнка (печатаются при каждой передаче).

Лог: кто создал/кто подписал/когда.

40 flowchart TD
  START([Старт: Соглашение об уплате алиментов])

  START --> META[Метаданные:<br/>- ID<br/>- Дата/место составления<br/>- Нотариус (опция)]

  META --> PARTIES

  %% СТОРОНЫ
  PARTIES[Стороны (обяз.):<br/>**Плательщик алиментов:** ФИО, ИИН, паспорт, адрес<br/>**Получатель алиментов:** ФИО, ИИН, паспорт, адрес<br/>Если действует представитель — реквизиты доверенности] --> ALIM_FOR_WHOM

  %% НА КОГО ВЫПЛАЧИВАЮТСЯ АЛИМЕНТЫ
  ALIM_FOR_WHOM{На кого устанавливаются алименты?}
  ALIM_FOR_WHOM -->|На ребёнка/детей| CHILDREN
  ALIM_FOR_WHOM -->|На супругу/супруга| SPOUSE
  ALIM_FOR_WHOM -->|На нетрудоспособного родителя| PARENT
  ALIM_FOR_WHOM -->|Комбинированно| MULTI

  %% ДЕТИ
  CHILDREN[Данные ребёнка/детей (обяз.):<br/>Для каждого указать:<br/>- ФИО<br/>- ИИН<br/>- Дата рождения<br/>- Свидетельство о рождении (upload)] --> LIVING_INFO

  %% СУПРУГ(А)
  SPOUSE[Основание алиментов на супругу:<br/>▢ беременность<br/>▢ ребёнок до 3 лет<br/>▢ нетрудоспособность<br/>Документы подтверждения (upload)] --> PAYMENT_TYPE

  %% РОДИТЕЛЬ
  PARENT[Нетрудоспособный родитель:<br/>- Документы о нетрудоспособности (upload)<br/>- Документы о родстве (upload)] --> PAYMENT_TYPE

  %% НЕСКОЛЬКО КАТЕГОРИЙ
  MULTI[Выбор категорий:<br/>- дети<br/>- супруг(а)<br/>- родитель<br/>→ заполнение всех соответствующих блоков] --> PAYMENT_TYPE

  %% ПРОЖИВАНИЕ РЕБЁНКА
  LIVING_INFO[Где проживает ребёнок:<br/>▢ С плательщиком<br/>▢ С получателем<br/>▢ Иное — указать адрес] --> PAYMENT_TYPE

  %% ВИД И РАЗМЕР АЛИМЕНТОВ
  PAYMENT_TYPE{Форма алиментов}
  PAYMENT_TYPE -->|Фиксированная сумма| FIX_SUM
  PAYMENT_TYPE -->|Доля от дохода| SHARE
  PAYMENT_TYPE -->|Комбинированно| COMBINED
  PAYMENT_TYPE -->|Единовременная выплата| ONE_TIME

  FIX_SUM[Фиксированная сумма:<br/>- Сумма в тенге (цифрами/словами)<br/>- Периодичность (ежемесячно/ежеквартально)<br/>- Индексация (по инфляции)] --> PAYMENT_METHOD

  SHARE[Доля от дохода:<br/>Выбор согласно Семейному Кодексу:<br/>▢ 1 ребёнок — 1/4<br/>▢ 2 — 1/3<br/>▢ 3+ — 1/2<br/>Или индивидуально (%)] --> PAYMENT_METHOD

  COMBINED[Комбинированно:<br/>- Фиксированная часть + доля<br/>- Лимиты (минимум/максимум)] --> PAYMENT_METHOD

  ONE_TIME[Единовременная выплата:<br/>- Сумма<br/>- Срок выплаты<br/>- Способ выплаты<br/>- Передача имущества взамен (опция)] --> GUARANTEES

  %% СПОСОБ ВЫПЛАТЫ
  PAYMENT_METHOD[Способ выплаты:<br/>▢ Наличными под расписку<br/>▢ На банковский счёт (ИИК, БИК, банк)<br/>▢ Переводом через кассу (квитанции обязательны)<br/>▢ Через удержание работодателем<br/>→ загрузить подтверждающие документы при необходимости] --> SCHEDULE

  %% ГРАФИК
  SCHEDULE[График выплат:<br/>- Дата первого платежа<br/>- Дата последующих платежей (каждый месяц, число)<br/>- Возможность переноса (условия)] --> DEBT

  %% ЗАДОЛЖЕННОСТЬ
  DEBT{Есть ли задолженность по алиментам?}
  DEBT -->|Да| DEBT_INFO
  DEBT -->|Нет| GUARANTEES

  DEBT_INFO[Указать задолженность:<br/>- Сумма долга<br/>- Порядок погашения (частями/сразу)<br/>- График погашения<br/>- Индексация при просрочке] --> GUARANTEES

  %% ГАРАНТИИ И ОБЕСПЕЧЕНИЕ
  GUARANTEES[Обеспечение исполнения:<br/>▢ Штраф за просрочку (1%/день или вручную)<br/>▢ Передача имущества в обеспечение (указать объект)<br/>▢ Удержание из дохода работодателем<br/>▢ Уведомление органов опеки (опция)<br/>▢ Иное (ручной ввод)] --> TERMINATION

  %% ИЗМЕНЕНИЕ / РАСТОРЖЕНИЕ
  TERMINATION[Изменение / расторжение соглашения:<br/>- По взаимному согласию сторон — нотариально<br/>- В одностороннем порядке — только через суд<br/>- Условия автоматической отмены (например, достижение 18 лет ребёнка)] --> REPRESENTATION

  %% ПРЕДСТАВИТЕЛЬСТВО
  REPRESENTATION{Стороны присутствуют лично?}
  REPRESENTATION -->|Лично| VALIDATION
  REPRESENTATION -->|По доверенности| POA_FIELDS

  POA_FIELDS[Реквизиты доверенности:<br/>- Реестр №<br/>- Нотариус / лицензия<br/>- Дата выдачи<br/>- Upload копии доверенности] --> VALIDATION

  %% ВАЛИДАЦИЯ
  VALIDATION{Проверка:<br/>- Данные сторон заполнены?<br/>- Данные детей/лиц, на которых платят?<br/>- Правильно выбран вид алиментов?<br/>- Указан размер/доля/график?<br/>- Способ оплаты корректен?<br/>- Реквизиты банковского счёта корректны?<br/>- Есть все требуемые загрузки?<br/>- Согласуются ли условия с Семейным Кодексом?}
  VALIDATION -->|Ошибка| ERR[Показать ошибки → исправить] --> PARTIES
  VALIDATION -->|OK| GENERATE

  %% ГЕНЕРАЦИЯ ДОКУМЕНТОВ
  GENERATE[Генерация пакета документов:<br/>- Соглашение об уплате алиментов (.docx/.pdf)<br/>- Приложение: данные детей / расчёты<br/>- График выплат<br/>- Расписка о единовременной выплате (если применимо)<br/>- Уведомление работодателю (по желанию)] --> SIGN

  %% ПОДПИСАНИЕ
  SIGN[Подписание и нотариальное удостоверение:<br/>- Проверка паспортов<br/>- Подписи сторон в присутствии нотариуса] --> ARCHIVE

  %% АРХИВАЦИЯ
  ARCHIVE[Архивация:<br/>- Выдать 2+ экземпляра сторонам<br/>- Сохранить сканы<br/>- Логи: кто/когда создал/подписал] --> END([Готово — соглашение оформлено])
Что обязательно учесть разработчику
Обязательные поля
Данные обеих сторон.

Данные ребёнка/детей — обязательно: ФИО, дата рождения, свидетельство (upload).

Вид алиментов (фиксированная сумма / доля / комбинированно / единовременная).

Суммы и периодичность.

Способ выплат — обязательно указать реквизиты.

График платежей.

Задолженность (если есть).

Основание, если алименты на супругу / родителя.

Юридические проверки (встроенные в VALIDATION)
1. Если выбрана доля → доля должна соответствовать закону либо быть выше минимума
(1/4, 1/3, 1/2 — базовый ориентир).

2. Для единовременной выплаты → должна быть подтверждающая расписка.
3. Для алиментов на супругу → требуются документы:
беременность;

ребёнок до трёх лет;

нетрудоспособность.

4. Для банковского счёта → проверка ИИК + БИК форматом.
5. При задолженности → график погашения обязателен.
6. Соглашение должно не нарушать интересы ребёнка — встроенное предупреждение.
Рекомендуемые добавления в систему
Автоподстановка стандартных формулировок Семейного Кодекса РК.

Автовычисление суммы удержания при указании процента.

Опция «индексация автоматически» — ссылка на уровень инфляции.

Автоматическое создание уведомления работодателю.

Возможность «добавить второго ребёнка» легко (динамическая форма).

41 flowchart TD
  START([Старт: Заявление о выдаче свидетельства о праве на наследство])

  START --> APPLICANT

  %% 1. ЗАЯВИТЕЛЬ
  APPLICANT[Заявитель (обяз.):<br/>- ФИО<br/>- ИИН<br/>- Паспорт (серия/№/кем/когда)<br/>- Адрес регистрации / проживания<br/>- Телефон / e-mail] --> REPRESENTATION

  %% 2. ПРЕДСТАВИТЕЛЬСТВО
  REPRESENTATION{Заявитель действует лично или по доверенности?}
  REPRESENTATION -->|Лично| DECEASED
  REPRESENTATION -->|По доверенности| POA

  POA[Ввести реквизиты доверенности:<br/>- Реестр №<br/>- Нотариус, выдавший доверенность<br/>- № лицензии нотариуса<br/>- Дата выдачи<br/>- Upload скана доверенности] --> DECEASED

  %% 3. СВЕДЕНИЯ О НАСЛЕДОДАТЕЛЕ
  DECEASED[Наследодатель (обяз.):<br/>- ФИО<br/>- ИИН (если есть)<br/>- Дата рождения<br/>- Дата смерти<br/>- Место смерти<br/>- Свидетельство о смерти (upload)] --> LAST_RESIDENCE

  LAST_RESIDENCE[Последнее место жительства наследодателя (обяз.):<br/>- Адрес регистрации<br/>- Адрес фактического проживания<br/>Нотариус по этому адресу открывает наследственное дело] --> RELATION

  %% 4. СТЕПЕНЬ РОДСТВА
  RELATION[Степень родства заявителя с наследодателем:<br/>▢ Дети<br/>▢ Родители<br/>▢ Супруг/супруга<br/>▢ Братья/сёстры<br/>▢ Дедушки/бабушки<br/>▢ Другие родственники<br/>▢ Не родственник (по завещанию)] --> RELATION_DOCS

  RELATION_DOCS[Документы, подтверждающие родство (upload):<br/>- Свидетельство о рождении<br/>- Свидетельство о браке<br/>- Иные документы (удочерение, решение суда)] --> INHERIT_TYPE

  %% 5. ОСНОВАНИЕ НАСЛЕДОВАНИЯ
  INHERIT_TYPE{Основание наследования:}
  INHERIT_TYPE -->|По закону| LAW
  INHERIT_TYPE -->|По завещанию| WILL

  WILL[Загрузить завещание (upload)<br/>- Проверить дату и нотариуса<br/>- Проверить наличие нескольких завещаний] --> HEIRS_COUNT

  LAW --> HEIRS_COUNT

  %% 6. КОЛИЧЕСТВО НАСЛЕДНИКОВ
  HEIRS_COUNT{Наследников несколько?}
  HEIRS_COUNT -->|Да| HEIRS_LIST
  HEIRS_COUNT -->|Нет| PROPERTY

  HEIRS_LIST[Ввести данные других наследников (если известны):<br/>- ФИО<br/>- ИИН<br/>- Родство<br/>- Адрес<br/>- Контакты<br/>- Принял/отказался/не вступал] --> PROPERTY

  %% 7. НАСЛЕДСТВЕННОЕ ИМУЩЕСТВО
  PROPERTY[Имущество, переходящее по наследству (чекбоксы):<br/>▢ Недвижимость<br/>▢ Транспорт<br/>▢ Банковские счета / вклады<br/>▢ Ценные бумаги<br/>▢ Доли в ТОО<br/>▢ Наличные/ценности<br/>▢ Задолженности/обязательства<br/>▢ Иное имущества<br/>→ по каждому объекту откроется форма] --> PROPERTY_DETAILS

  PROPERTY_DETAILS[Для каждого объекта указать:<br/>**Недвижимость:** адрес, кадастр, документы собственности (upload)<br/>**ТС:** марка, VIN, техпаспорт (upload)<br/>**Счета:** банк, ИИК, остаток<br/>**ТОО:** доля %, БИН, учредительные документы<br/>**Иное имущество:** описание + документы] --> DEBTS

  %% 8. ДОЛГИ НАСЛЕДОДАТЕЛЯ
  DEBTS{Есть ли у наследодателя долги / обязательства?}
  DEBTS -->|Да| DEBTS_INFO
  DEBTS -->|Нет| SHARES

  DEBTS_INFO[Указать:<br/>- Кредиторы (банк/физлица)<br/>- Суммы задолженности<br/>- Документы по долгам — договора/справки (upload)] --> SHARES

  %% 9. ДОЛИ НАСЛЕДНИКОВ
  SHARES[Указать долю, которая должна перейти заявителю:<br/>▢ По закону — автоматическое распределение<br/>▢ По завещанию — указать конкретную долю<br/>▢ По соглашению наследников (если есть соглашение о разделе — upload)] --> REFUSAL

  %% 10. ОТКАЗЫ / ПРИНЯТИЕ
  REFUSAL{Кто-то отказался от наследства?}
  REFUSAL -->|Да| REFUSAL_INFO
  REFUSAL -->|Нет| TERM

  REFUSAL_INFO[Upload заявления об отказе + данные отказавшегося] --> TERM

  %% 11. СРОК ВСТУПЛЕНИЯ
  TERM[Заявитель успевает в 6-месячный срок?<br/>▢ Да<br/>▢ Нет — нужно восстановление срока (решение суда), upload] --> VALIDATION

  %% 12. ВАЛИДАЦИЯ
  VALIDATION{Проверки перед созданием заявления:<br/>- Заявитель и наследодатель заполнены?<br/>- Степень родства подтверждена?<br/>- Указано основание наследования?<br/>- Документы загружены?<br/>- Имущество перечислено корректно?<br/>- Доли определены?<br/>- Выполнено условие 6 месяцев?}
  VALIDATION -->|Ошибка| ERR[Показать ошибки → исправление] --> APPLICANT
  VALIDATION -->|OK| GENERATE

  %% 13. ГЕНЕРАЦИЯ ДОКУМЕНТА
  GENERATE[Генерация:<br/>- Заявление о выдаче свидетельства о праве на наследство (.docx/.pdf)<br/>- Опись имущества<br/>- Опись документов<br/>- Заявление на открытие наследственного дела (опция)] --> SIGN

  %% 14. ПОДПИСАНИЕ
  SIGN[Подписание заявления:<br/>- Заявитель подписывает лично<br/>- Нотариус удостоверяет личность] --> REGISTER

  %% 15. РЕГИСТРАЦИЯ
  REGISTER[Регистрация в наследственном деле:<br/>- Присвоение № наследственного дела<br/>- Привязка документов к делу<br/>- Запись в реестре] --> END([Готово — заявление оформлено])
✅ Что обязательно учесть в системе (для разработчика)
Обязательные поля
Данные заявителя.

Данные наследодателя.

Основание наследования (закон / завещание).

Документы: свидетельство о смерти, документы на имущество, документы о родстве.

Место последнего жительства (важно для правильного нотариуса).

Данные всех наследников (если их несколько).

Вид и состав наследственного имущества.

Доли наследования.

Срок вступления в наследство (валидатор).

✅ Валидация (строгая)
Система должна блокировать генерацию, если:

❌ нет свидетельства о смерти
❌ не указано основание наследования
❌ нет документов на имущество
❌ нет подтверждения родства (если по закону)
❌ нарушен 6-месячный срок без основания
❌ завещание противоречит введённым данным
❌ доли не распределены

42 flowchart TD
  START([Старт: Заявление об отсутствии препятствий для выезда ребёнка])

  START --> APPLICANT

  %% 1. ЗАЯВИТЕЛЬ (РОДИТЕЛЬ)
  APPLICANT[Заявитель (родитель/законный представитель):<br/>- ФИО<br/>- ИИН<br/>- Паспорт (серия/№/кем выдан/дата)<br/>- Адрес регистрации<br/>- Телефон / e-mail] --> REPRESENTATION

  %% 2. ДЕЙСТВУЕТ ЛИ ПО ДОВЕРЕННОСТИ
  REPRESENTATION{Заявитель пришёл лично?}
  REPRESENTATION -->|Да| CHILD
  REPRESENTATION -->|Нет, по доверенности| POA

  POA[Ввести реквизиты доверенности:<br/>- Реестр №<br/>- Нотариус / № лицензии<br/>- Дата выдачи<br/>- Upload копии доверенности] --> CHILD

  %% 3. ДАННЫЕ РЕБЁНКА
  CHILD[Данные ребёнка:<br/>- ФИО<br/>- ИИН (если есть)<br/>- Дата рождения<br/>- Свидетельство о рождении / паспорт ребёнка (upload)] --> SECOND_PARENT

  %% 4. ВТОРОЙ РОДИТЕЛЬ (ИНФОРМАТИВНО)
  SECOND_PARENT[Данные второго родителя (если есть):<br/>- ФИО<br/>- ИИН<br/>- Паспорт (опц.)<br/>- Место проживания<br/>- Есть ли спор о выезде?] --> CHECK_RESTRICTIONS

  %% 5. ПРОВЕРКА ОГРАНИЧЕНИЙ
  CHECK_RESTRICTIONS{Есть ли судебные споры / ограничения на выезд ребёнка?}
  CHECK_RESTRICTIONS -->|Да| BLOCKED
  CHECK_RESTRICTIONS -->|Нет| TRAVEL_DEST

  BLOCKED[Если есть запрет:<br/>- Нельзя выдавать заявление<br/>- Требуется решение суда<br/>→ показать ошибку и остановить процесс] --> END

  %% 6. НАПРАВЛЕНИЕ ВЫЕЗДА
  TRAVEL_DEST[Куда планируется выезд ребёнка:<br/>Выбор:<br/>▢ "В любую страну мира" (галочка)<br/>▢ "В конкретные страны" — мультивыбор 30–40 стран<br/>▢ "Внутри РК" — опционально] --> WITH_WHOM

  %% 7. С КЕМ ВЫЕЗЖАЕТ РЕБЁНОК
  WITH_WHOM{С кем ребёнок выезжает?}
  WITH_WHOM -->|С другим родителем| OTHER_PARENT
  WITH_WHOM -->|С родственником| RELATIVES
  WITH_WHOM -->|С третьим лицом (тренер / педагог / руководитель группы)| THIRD_PERSON
  WITH_WHOM -->|Самостоятельно (16+)| ALONE

  OTHER_PARENT[Данные второго родителя:<br/>ФИО / ИИН / Паспорт (опц.)] --> PERIOD
  RELATIVES[Данные родственника:<br/>ФИО / ИИН / Паспорт<br/>Степень родства] --> PERIOD

  THIRD_PERSON[Данные сопровождающего лица:<br/>- ФИО<br/>- ИИН<br/>- Паспорт<br/>- Организация/кружок (если групповая поездка)<br/>- Контакты] --> PERIOD

  ALONE[Отметка: ребёнок выезжает самостоятельно (>16 лет).] --> PERIOD

  %% 8. СРОК
  PERIOD[Срок, на который отсутствуют препятствия:<br/>▢ На конкретные даты (от — до)<br/>▢ На период поездки (короткий срок)<br/>▢ На длительный срок (1–24 месяца)<br/>▢ Бессрочно (не рекомендуется, но возможно)] --> PURPOSE

  %% 9. ЦЕЛЬ ВЫЕЗДА
  PURPOSE[Цель поездки:<br/>▢ Туризм<br/>▢ Лечение<br/>▢ Учёба<br/>▢ Спортивные мероприятия<br/>▢ К родственникам<br/>▢ Иное (ручной ввод)] --> STATEMENT

  %% 10. ТЕКСТ ЗАЯВЛЕНИЯ — СОДЕРЖАНИЕ
  STATEMENT[Формулировка заявления:<br/>- Я, ФИО, подтверждаю отсутствие препятствий для выезда ребёнка<br/>- Согласен/не возражаю против поездки<br/>- Споров и судебных ограничений нет<br/>- Ответственность за сопровождение беру ___ (с указанием лиц)] --> VALIDATION

  %% 11. ВАЛИДАЦИЯ
  VALIDATION{Проверка перед генерацией:<br/>- Все данные заявителя заполнены?<br/>- Данные ребёнка указаны?<br/>- Загружены документы ребёнка?<br/>- Указано направление поездки?<br/>- Указано лицо, с кем выезжает ребёнок?<br/>- Срок выбран?<br/>- Нет судебных ограничений?}
  VALIDATION -->|Ошибка| SHOW_ERR[Показать ошибки → исправить] --> APPLICANT
  VALIDATION -->|OK| GENERATE

  %% 12. ГЕНЕРАЦИЯ
  GENERATE[Генерация документа (.docx/.pdf):<br/>- Заявление об отсутствии препятствий<br/>- Данные ребёнка/заявителя<br/>- Страны / лица / срок<br/>- Подтверждение отсутствия споров<br/>- Приложения (свидетельство/паспорт)] --> SIGN

  %% 13. ПОДПИСАНИЕ
  SIGN[Подписание:<br/>- Заявитель подписывает лично<br/>- Нотариус удостоверяет подпись<br/>- Проверка личности] --> ARCHIVE

  %% 14. АРХИВАЦИЯ
  ARCHIVE[Архивация:<br/>- Выдача экземпляров<br/>- Сохранение в системе<br/>- Логи действий] --> END([Готово — заявление оформлено])
Что обязательно учесть в системе (для разработчика)
🔹 Обязательные поля
Заявитель — ФИО, ИИН, паспорт, адрес.

Ребёнок — ФИО, дата рождения, свидетельство/паспорт.

Направление выезда (“любой мир” или список стран).

С кем выезжает ребёнок (один из вариантов обязателен).

Срок действия.

Подтверждение отсутствия ограничений.

🔹 Обязательные документы (upload)
Документ ребёнка (св-во о рождении или паспорт).

Доверенность, если представитель.

Паспорт заявителя.

🔹 Валидация
Система обязательно должна блокировать генерацию, если:

❌ нет данных ребёнка
❌ нет указания лица, с кем ребёнок выезжает
❌ срок пустой
❌ нет документов
❌ установлен судебный запрет на выезд

Доп. возможности для системы
✔ Автоматический выбор стран по континентам
✔ Опция «выбрать всё»
✔ Автопроверка возраста ребёнка (если 16+ → можно отметить “самостоятельно”)
✔ Автосоздание QR-кода на документ
✔ Автоопределение родства по загруженным документам

43 flowchart TD
  START([Старт: Заявление об отсутствии препятствий для выезда ребёнка])

  START --> APPLICANT

  %% 1. ЗАЯВИТЕЛЬ (РОДИТЕЛЬ)
  APPLICANT[Заявитель (родитель/законный представитель):<br/>- ФИО<br/>- ИИН<br/>- Паспорт (серия/№/кем выдан/дата)<br/>- Адрес регистрации<br/>- Телефон / e-mail] --> REPRESENTATION

  %% 2. ДЕЙСТВУЕТ ЛИ ПО ДОВЕРЕННОСТИ
  REPRESENTATION{Заявитель пришёл лично?}
  REPRESENTATION -->|Да| CHILD
  REPRESENTATION -->|Нет, по доверенности| POA

  POA[Ввести реквизиты доверенности:<br/>- Реестр №<br/>- Нотариус / № лицензии<br/>- Дата выдачи<br/>- Upload копии доверенности] --> CHILD

  %% 3. ДАННЫЕ РЕБЁНКА
  CHILD[Данные ребёнка:<br/>- ФИО<br/>- ИИН (если есть)<br/>- Дата рождения<br/>- Свидетельство о рождении / паспорт ребёнка (upload)] --> SECOND_PARENT

  %% 4. ВТОРОЙ РОДИТЕЛЬ (ИНФОРМАТИВНО)
  SECOND_PARENT[Данные второго родителя (если есть):<br/>- ФИО<br/>- ИИН<br/>- Паспорт (опц.)<br/>- Место проживания<br/>- Есть ли спор о выезде?] --> CHECK_RESTRICTIONS

  %% 5. ПРОВЕРКА ОГРАНИЧЕНИЙ
  CHECK_RESTRICTIONS{Есть ли судебные споры / ограничения на выезд ребёнка?}
  CHECK_RESTRICTIONS -->|Да| BLOCKED
  CHECK_RESTRICTIONS -->|Нет| TRAVEL_DEST

  BLOCKED[Если есть запрет:<br/>- Нельзя выдавать заявление<br/>- Требуется решение суда<br/>→ показать ошибку и остановить процесс] --> END

  %% 6. НАПРАВЛЕНИЕ ВЫЕЗДА
  TRAVEL_DEST[Куда планируется выезд ребёнка:<br/>Выбор:<br/>▢ "В любую страну мира" (галочка)<br/>▢ "В конкретные страны" — мультивыбор 30–40 стран<br/>▢ "Внутри РК" — опционально] --> WITH_WHOM

  %% 7. С КЕМ ВЫЕЗЖАЕТ РЕБЁНОК
  WITH_WHOM{С кем ребёнок выезжает?}
  WITH_WHOM -->|С другим родителем| OTHER_PARENT
  WITH_WHOM -->|С родственником| RELATIVES
  WITH_WHOM -->|С третьим лицом (тренер / педагог / руководитель группы)| THIRD_PERSON
  WITH_WHOM -->|Самостоятельно (16+)| ALONE

  OTHER_PARENT[Данные второго родителя:<br/>ФИО / ИИН / Паспорт (опц.)] --> PERIOD
  RELATIVES[Данные родственника:<br/>ФИО / ИИН / Паспорт<br/>Степень родства] --> PERIOD

  THIRD_PERSON[Данные сопровождающего лица:<br/>- ФИО<br/>- ИИН<br/>- Паспорт<br/>- Организация/кружок (если групповая поездка)<br/>- Контакты] --> PERIOD

  ALONE[Отметка: ребёнок выезжает самостоятельно (>16 лет).] --> PERIOD

  %% 8. СРОК
  PERIOD[Срок, на который отсутствуют препятствия:<br/>▢ На конкретные даты (от — до)<br/>▢ На период поездки (короткий срок)<br/>▢ На длительный срок (1–24 месяца)<br/>▢ Бессрочно (не рекомендуется, но возможно)] --> PURPOSE

  %% 9. ЦЕЛЬ ВЫЕЗДА
  PURPOSE[Цель поездки:<br/>▢ Туризм<br/>▢ Лечение<br/>▢ Учёба<br/>▢ Спортивные мероприятия<br/>▢ К родственникам<br/>▢ Иное (ручной ввод)] --> STATEMENT

  %% 10. ТЕКСТ ЗАЯВЛЕНИЯ — СОДЕРЖАНИЕ
  STATEMENT[Формулировка заявления:<br/>- Я, ФИО, подтверждаю отсутствие препятствий для выезда ребёнка<br/>- Согласен/не возражаю против поездки<br/>- Споров и судебных ограничений нет<br/>- Ответственность за сопровождение беру ___ (с указанием лиц)] --> VALIDATION

  %% 11. ВАЛИДАЦИЯ
  VALIDATION{Проверка перед генерацией:<br/>- Все данные заявителя заполнены?<br/>- Данные ребёнка указаны?<br/>- Загружены документы ребёнка?<br/>- Указано направление поездки?<br/>- Указано лицо, с кем выезжает ребёнок?<br/>- Срок выбран?<br/>- Нет судебных ограничений?}
  VALIDATION -->|Ошибка| SHOW_ERR[Показать ошибки → исправить] --> APPLICANT
  VALIDATION -->|OK| GENERATE

  %% 12. ГЕНЕРАЦИЯ
  GENERATE[Генерация документа (.docx/.pdf):<br/>- Заявление об отсутствии препятствий<br/>- Данные ребёнка/заявителя<br/>- Страны / лица / срок<br/>- Подтверждение отсутствия споров<br/>- Приложения (свидетельство/паспорт)] --> SIGN

  %% 13. ПОДПИСАНИЕ
  SIGN[Подписание:<br/>- Заявитель подписывает лично<br/>- Нотариус удостоверяет подпись<br/>- Проверка личности] --> ARCHIVE

  %% 14. АРХИВАЦИЯ
  ARCHIVE[Архивация:<br/>- Выдача экземпляров<br/>- Сохранение в системе<br/>- Логи действий] --> END([Готово — заявление оформлено])
Что обязательно учесть в системе (для разработчика)
🔹 Обязательные поля
Заявитель — ФИО, ИИН, паспорт, адрес.

Ребёнок — ФИО, дата рождения, свидетельство/паспорт.

Направление выезда (“любой мир” или список стран).

С кем выезжает ребёнок (один из вариантов обязателен).

Срок действия.

Подтверждение отсутствия ограничений.

🔹 Обязательные документы (upload)
Документ ребёнка (св-во о рождении или паспорт).

Доверенность, если представитель.

Паспорт заявителя.

🔹 Валидация
Система обязательно должна блокировать генерацию, если:

❌ нет данных ребёнка
❌ нет указания лица, с кем ребёнок выезжает
❌ срок пустой
❌ нет документов
❌ установлен судебный запрет на выезд

Доп. возможности для системы
✔ Автоматический выбор стран по континентам
✔ Опция «выбрать всё»
✔ Автопроверка возраста ребёнка (если 16+ → можно отметить “самостоятельно”)
✔ Автосоздание QR-кода на документ
✔ Автоопределение родства по загруженным документам