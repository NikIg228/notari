# Улучшения обработки ошибок валидации

## Проблема
Ошибка "Expected '1' | '2', received null" возникала при валидации radio полей, когда значение было null или не было выбрано.

## Решение

### 1. Улучшена валидация для условных полей
- Условные поля (conditional) теперь автоматически делаются опциональными в схеме валидации
- Поля не валидируются, если условие их отображения не выполнено

### 2. Улучшены сообщения об ошибках
- Все сообщения об ошибках теперь на русском языке
- Сообщения понятные и user-friendly
- Используется компонент Alert для визуального отображения ошибок

### 3. Обработка null значений для radio полей
- Radio поля теперь правильно обрабатывают пустые строки и null значения
- Для обязательных полей добавлена проверка на пустую строку
- Значения по умолчанию устанавливаются при инициализации формы

### 4. Улучшена валидация в WizardEngine
- При переходе на следующий шаг валидируются только видимые поля
- Автоматическая прокрутка к первой ошибке
- Отображение списка всех ошибок шага вверху формы

### 5. Компоненты для отображения ошибок
- `WizardErrors` - компонент для отображения списка ошибок шага
- `formatErrorForUser` - функция для форматирования сообщений об ошибках
- Все поля форм используют единый стиль отображения ошибок

## Примеры сообщений об ошибках

- "Поле 'Количество доверителей' обязательно для заполнения. Пожалуйста, выберите один из вариантов."
- "Пожалуйста, выберите один из предложенных вариантов для поля 'Тип срока'"
- "ИИН должен содержать 12 цифр"
- "Дата должна быть в формате ДД.ММ.ГГГГ"
- "Минимум 1 элемент(ов) требуется" (для массивов)

## Технические детали

### Изменения в `lib/utils/validation.ts`
- Добавлен параметр `isConditional` для создания схемы поля
- Улучшена обработка radio/select полей с поддержкой пустых строк
- Добавлены понятные сообщения об ошибках для всех типов полей

### Изменения в компонентах форм
- Все компоненты используют `formatErrorForUser` для форматирования ошибок
- Ошибки отображаются через компонент `Alert` вместо простого текста
- Добавлены aria-атрибуты для доступности

### Изменения в WizardEngine
- Подготовка значений по умолчанию для всех полей
- Фильтрация полей при валидации с учетом условной логики
- Автоматическая прокрутка к ошибкам

